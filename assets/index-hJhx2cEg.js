function R4(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function qh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var M1={exports:{}},Ng={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GC;function D4(){if(GC)return Ng;GC=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var o=null;if(a!==void 0&&(o=""+a),r.key!==void 0&&(o=""+r.key),"key"in r){a={};for(var u in r)u!=="key"&&(a[u]=r[u])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:o,ref:r!==void 0?r:null,props:a}}return Ng.Fragment=e,Ng.jsx=t,Ng.jsxs=t,Ng}var $C;function O4(){return $C||($C=1,M1.exports=D4()),M1.exports}var Ye=O4(),T1={exports:{}},un={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jC;function N4(){if(jC)return un;jC=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function y(G){return G===null||typeof G!="object"?null:(G=g&&G[g]||G["@@iterator"],typeof G=="function"?G:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,A={};function T(G,te,Se){this.props=G,this.context=te,this.refs=A,this.updater=Se||b}T.prototype.isReactComponent={},T.prototype.setState=function(G,te){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,te,"setState")},T.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function S(){}S.prototype=T.prototype;function C(G,te,Se){this.props=G,this.context=te,this.refs=A,this.updater=Se||b}var D=C.prototype=new S;D.constructor=C,_(D,T.prototype),D.isPureReactComponent=!0;var N=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function I(G,te,Se,ye,se,we){return Se=we.ref,{$$typeof:n,type:G,key:te,ref:Se!==void 0?Se:null,props:we}}function V(G,te){return I(G.type,te,void 0,void 0,void 0,G.props)}function B(G){return typeof G=="object"&&G!==null&&G.$$typeof===n}function L(G){var te={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(Se){return te[Se]})}var W=/\/+/g;function oe(G,te){return typeof G=="object"&&G!==null&&G.key!=null?L(""+G.key):te.toString(36)}function ee(){}function he(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(ee,ee):(G.status="pending",G.then(function(te){G.status==="pending"&&(G.status="fulfilled",G.value=te)},function(te){G.status==="pending"&&(G.status="rejected",G.reason=te)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function de(G,te,Se,ye,se){var we=typeof G;(we==="undefined"||we==="boolean")&&(G=null);var Be=!1;if(G===null)Be=!0;else switch(we){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(G.$$typeof){case n:case e:Be=!0;break;case m:return Be=G._init,de(Be(G._payload),te,Se,ye,se)}}if(Be)return se=se(G),Be=ye===""?"."+oe(G,0):ye,N(se)?(Se="",Be!=null&&(Se=Be.replace(W,"$&/")+"/"),de(se,te,Se,"",function(gt){return gt})):se!=null&&(B(se)&&(se=V(se,Se+(se.key==null||G&&G.key===se.key?"":(""+se.key).replace(W,"$&/")+"/")+Be)),te.push(se)),1;Be=0;var je=ye===""?".":ye+":";if(N(G))for(var Xe=0;Xe<G.length;Xe++)ye=G[Xe],we=je+oe(ye,Xe),Be+=de(ye,te,Se,we,se);else if(Xe=y(G),typeof Xe=="function")for(G=Xe.call(G),Xe=0;!(ye=G.next()).done;)ye=ye.value,we=je+oe(ye,Xe++),Be+=de(ye,te,Se,we,se);else if(we==="object"){if(typeof G.then=="function")return de(he(G),te,Se,ye,se);throw te=String(G),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Be}function k(G,te,Se){if(G==null)return G;var ye=[],se=0;return de(G,ye,"","",function(we){return te.call(Se,we,se++)}),ye}function Y(G){if(G._status===-1){var te=G._result;te=te(),te.then(function(Se){(G._status===0||G._status===-1)&&(G._status=1,G._result=Se)},function(Se){(G._status===0||G._status===-1)&&(G._status=2,G._result=Se)}),G._status===-1&&(G._status=0,G._result=te)}if(G._status===1)return G._result.default;throw G._result}var K=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function ue(){}return un.Children={map:k,forEach:function(G,te,Se){k(G,function(){te.apply(this,arguments)},Se)},count:function(G){var te=0;return k(G,function(){te++}),te},toArray:function(G){return k(G,function(te){return te})||[]},only:function(G){if(!B(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},un.Component=T,un.Fragment=t,un.Profiler=r,un.PureComponent=C,un.StrictMode=i,un.Suspense=f,un.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,un.__COMPILER_RUNTIME={__proto__:null,c:function(G){return z.H.useMemoCache(G)}},un.cache=function(G){return function(){return G.apply(null,arguments)}},un.cloneElement=function(G,te,Se){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var ye=_({},G.props),se=G.key,we=void 0;if(te!=null)for(Be in te.ref!==void 0&&(we=void 0),te.key!==void 0&&(se=""+te.key),te)!U.call(te,Be)||Be==="key"||Be==="__self"||Be==="__source"||Be==="ref"&&te.ref===void 0||(ye[Be]=te[Be]);var Be=arguments.length-2;if(Be===1)ye.children=Se;else if(1<Be){for(var je=Array(Be),Xe=0;Xe<Be;Xe++)je[Xe]=arguments[Xe+2];ye.children=je}return I(G.type,se,void 0,void 0,we,ye)},un.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:a,_context:G},G},un.createElement=function(G,te,Se){var ye,se={},we=null;if(te!=null)for(ye in te.key!==void 0&&(we=""+te.key),te)U.call(te,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(se[ye]=te[ye]);var Be=arguments.length-2;if(Be===1)se.children=Se;else if(1<Be){for(var je=Array(Be),Xe=0;Xe<Be;Xe++)je[Xe]=arguments[Xe+2];se.children=je}if(G&&G.defaultProps)for(ye in Be=G.defaultProps,Be)se[ye]===void 0&&(se[ye]=Be[ye]);return I(G,we,void 0,void 0,null,se)},un.createRef=function(){return{current:null}},un.forwardRef=function(G){return{$$typeof:u,render:G}},un.isValidElement=B,un.lazy=function(G){return{$$typeof:m,_payload:{_status:-1,_result:G},_init:Y}},un.memo=function(G,te){return{$$typeof:d,type:G,compare:te===void 0?null:te}},un.startTransition=function(G){var te=z.T,Se={};z.T=Se;try{var ye=G(),se=z.S;se!==null&&se(Se,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(ue,K)}catch(we){K(we)}finally{z.T=te}},un.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},un.use=function(G){return z.H.use(G)},un.useActionState=function(G,te,Se){return z.H.useActionState(G,te,Se)},un.useCallback=function(G,te){return z.H.useCallback(G,te)},un.useContext=function(G){return z.H.useContext(G)},un.useDebugValue=function(){},un.useDeferredValue=function(G,te){return z.H.useDeferredValue(G,te)},un.useEffect=function(G,te,Se){var ye=z.H;if(typeof Se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ye.useEffect(G,te)},un.useId=function(){return z.H.useId()},un.useImperativeHandle=function(G,te,Se){return z.H.useImperativeHandle(G,te,Se)},un.useInsertionEffect=function(G,te){return z.H.useInsertionEffect(G,te)},un.useLayoutEffect=function(G,te){return z.H.useLayoutEffect(G,te)},un.useMemo=function(G,te){return z.H.useMemo(G,te)},un.useOptimistic=function(G,te){return z.H.useOptimistic(G,te)},un.useReducer=function(G,te,Se){return z.H.useReducer(G,te,Se)},un.useRef=function(G){return z.H.useRef(G)},un.useState=function(G){return z.H.useState(G)},un.useSyncExternalStore=function(G,te,Se){return z.H.useSyncExternalStore(G,te,Se)},un.useTransition=function(){return z.H.useTransition()},un.version="19.1.0",un}var XC;function Yh(){return XC||(XC=1,T1.exports=N4()),T1.exports}var O=Yh();const J=qh(O),PM=R4({__proto__:null,default:J},[O]);var A1={exports:{}},Pg={},w1={exports:{}},C1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WC;function P4(){return WC||(WC=1,function(n){function e(k,Y){var K=k.length;k.push(Y);e:for(;0<K;){var ue=K-1>>>1,G=k[ue];if(0<r(G,Y))k[ue]=Y,k[K]=G,K=ue;else break e}}function t(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var Y=k[0],K=k.pop();if(K!==Y){k[0]=K;e:for(var ue=0,G=k.length,te=G>>>1;ue<te;){var Se=2*(ue+1)-1,ye=k[Se],se=Se+1,we=k[se];if(0>r(ye,K))se<G&&0>r(we,ye)?(k[ue]=we,k[se]=K,ue=se):(k[ue]=ye,k[Se]=K,ue=Se);else if(se<G&&0>r(we,K))k[ue]=we,k[se]=K,ue=se;else break e}}return Y}function r(k,Y){var K=k.sortIndex-Y.sortIndex;return K!==0?K:k.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();n.unstable_now=function(){return o.now()-u}}var f=[],d=[],m=1,g=null,y=3,b=!1,_=!1,A=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function N(k){for(var Y=t(d);Y!==null;){if(Y.callback===null)i(d);else if(Y.startTime<=k)i(d),Y.sortIndex=Y.expirationTime,e(f,Y);else break;Y=t(d)}}function z(k){if(A=!1,N(k),!_)if(t(f)!==null)_=!0,U||(U=!0,oe());else{var Y=t(d);Y!==null&&de(z,Y.startTime-k)}}var U=!1,I=-1,V=5,B=-1;function L(){return T?!0:!(n.unstable_now()-B<V)}function W(){if(T=!1,U){var k=n.unstable_now();B=k;var Y=!0;try{e:{_=!1,A&&(A=!1,C(I),I=-1),b=!0;var K=y;try{t:{for(N(k),g=t(f);g!==null&&!(g.expirationTime>k&&L());){var ue=g.callback;if(typeof ue=="function"){g.callback=null,y=g.priorityLevel;var G=ue(g.expirationTime<=k);if(k=n.unstable_now(),typeof G=="function"){g.callback=G,N(k),Y=!0;break t}g===t(f)&&i(f),N(k)}else i(f);g=t(f)}if(g!==null)Y=!0;else{var te=t(d);te!==null&&de(z,te.startTime-k),Y=!1}}break e}finally{g=null,y=K,b=!1}Y=void 0}}finally{Y?oe():U=!1}}}var oe;if(typeof D=="function")oe=function(){D(W)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,he=ee.port2;ee.port1.onmessage=W,oe=function(){he.postMessage(null)}}else oe=function(){S(W,0)};function de(k,Y){I=S(function(){k(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(k){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var K=y;y=Y;try{return k()}finally{y=K}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(k,Y){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var K=y;y=k;try{return Y()}finally{y=K}},n.unstable_scheduleCallback=function(k,Y,K){var ue=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ue+K:ue):K=ue,k){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=K+G,k={id:m++,callback:Y,priorityLevel:k,startTime:K,expirationTime:G,sortIndex:-1},K>ue?(k.sortIndex=K,e(d,k),t(f)===null&&k===t(d)&&(A?(C(I),I=-1):A=!0,de(z,K-ue))):(k.sortIndex=G,e(f,k),_||b||(_=!0,U||(U=!0,oe()))),k},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(k){var Y=y;return function(){var K=y;y=Y;try{return k.apply(this,arguments)}finally{y=K}}}}(C1)),C1}var qC;function L4(){return qC||(qC=1,w1.exports=P4()),w1.exports}var R1={exports:{}},Gr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YC;function U4(){if(YC)return Gr;YC=1;var n=Yh();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(f,d,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:f,containerInfo:d,implementation:m}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Gr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Gr.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(f,d,null,m)},Gr.flushSync=function(f){var d=o.T,m=i.p;try{if(o.T=null,i.p=2,f)return f()}finally{o.T=d,i.p=m,i.d.f()}},Gr.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},Gr.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Gr.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,g=u(m,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):m==="script"&&i.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Gr.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=u(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},Gr.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,g=u(m,d.crossOrigin);i.d.L(f,m,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Gr.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=u(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},Gr.requestFormReset=function(f){i.d.r(f)},Gr.unstable_batchedUpdates=function(f,d){return f(d)},Gr.useFormState=function(f,d,m){return o.H.useFormState(f,d,m)},Gr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Gr.version="19.1.0",Gr}var KC;function gN(){if(KC)return R1.exports;KC=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),R1.exports=U4(),R1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZC;function z4(){if(ZC)return Pg;ZC=1;var n=L4(),e=Yh(),t=gN();function i(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,p=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(p=l.return),s=l.return;while(s)}return l.tag===3?p:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(i(188))}function f(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(i(188));return l!==s?null:s}for(var p=s,v=l;;){var E=p.return;if(E===null)break;var w=E.alternate;if(w===null){if(v=E.return,v!==null){p=v;continue}break}if(E.child===w.child){for(w=E.child;w;){if(w===p)return u(E),s;if(w===v)return u(E),l;w=w.sibling}throw Error(i(188))}if(p.return!==v.return)p=E,v=w;else{for(var F=!1,$=E.child;$;){if($===p){F=!0,p=E,v=w;break}if($===v){F=!0,v=E,p=w;break}$=$.sibling}if(!F){for($=w.child;$;){if($===p){F=!0,p=w,v=E;break}if($===v){F=!0,v=w,p=E;break}$=$.sibling}if(!F)throw Error(i(189))}}if(p.alternate!==v)throw Error(i(190))}if(p.tag!==3)throw Error(i(188));return p.stateNode.current===p?s:l}function d(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=d(s),l!==null)return l;s=s.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),D=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function oe(s){return s===null||typeof s!="object"?null:(s=W&&s[W]||s["@@iterator"],typeof s=="function"?s:null)}var ee=Symbol.for("react.client.reference");function he(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===ee?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case z:return"Suspense";case U:return"SuspenseList";case B:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case D:return(s.displayName||"Context")+".Provider";case C:return(s._context.displayName||"Context")+".Consumer";case N:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return l=s.displayName||null,l!==null?l:he(s.type)||"Memo";case V:l=s._payload,s=s._init;try{return he(s(l))}catch{}}return null}var de=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ue=[],G=-1;function te(s){return{current:s}}function Se(s){0>G||(s.current=ue[G],ue[G]=null,G--)}function ye(s,l){G++,ue[G]=s.current,s.current=l}var se=te(null),we=te(null),Be=te(null),je=te(null);function Xe(s,l){switch(ye(Be,l),ye(we,s),ye(se,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?vC(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=vC(l),s=yC(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Se(se),ye(se,s)}function gt(){Se(se),Se(we),Se(Be)}function bt(s){s.memoizedState!==null&&ye(je,s);var l=se.current,p=yC(l,s.type);l!==p&&(ye(we,s),ye(se,p))}function Zt(s){we.current===s&&(Se(se),Se(we)),je.current===s&&(Se(je),wg._currentValue=K)}var Pt=Object.prototype.hasOwnProperty,Mt=n.unstable_scheduleCallback,Z=n.unstable_cancelCallback,Qe=n.unstable_shouldYield,$e=n.unstable_requestPaint,We=n.unstable_now,Pe=n.unstable_getCurrentPriorityLevel,rt=n.unstable_ImmediatePriority,He=n.unstable_UserBlockingPriority,at=n.unstable_NormalPriority,wt=n.unstable_LowPriority,j=n.unstable_IdlePriority,H=n.log,pe=n.unstable_setDisableYieldValue,Me=null,Ne=null;function Oe(s){if(typeof H=="function"&&pe(s),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(Me,s)}catch{}}var st=Math.clz32?Math.clz32:vt,nt=Math.log,dt=Math.LN2;function vt(s){return s>>>=0,s===0?32:31-(nt(s)/dt|0)|0}var Le=256,it=4194304;function yt(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ie(s,l,p){var v=s.pendingLanes;if(v===0)return 0;var E=0,w=s.suspendedLanes,F=s.pingedLanes;s=s.warmLanes;var $=v&134217727;return $!==0?(v=$&~w,v!==0?E=yt(v):(F&=$,F!==0?E=yt(F):p||(p=$&~s,p!==0&&(E=yt(p))))):($=v&~w,$!==0?E=yt($):F!==0?E=yt(F):p||(p=v&~s,p!==0&&(E=yt(p)))),E===0?0:l!==0&&l!==E&&(l&w)===0&&(w=E&-E,p=l&-l,w>=p||w===32&&(p&4194048)!==0)?l:E}function xe(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Ke(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function re(){var s=Le;return Le<<=1,(Le&4194048)===0&&(Le=256),s}function Je(){var s=it;return it<<=1,(it&62914560)===0&&(it=4194304),s}function ke(s){for(var l=[],p=0;31>p;p++)l.push(s);return l}function lt(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ze(s,l,p,v,E,w){var F=s.pendingLanes;s.pendingLanes=p,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=p,s.entangledLanes&=p,s.errorRecoveryDisabledLanes&=p,s.shellSuspendCounter=0;var $=s.entanglements,ne=s.expirationTimes,_e=s.hiddenUpdates;for(p=F&~p;0<p;){var ze=31-st(p),Ge=1<<ze;$[ze]=0,ne[ze]=-1;var Te=_e[ze];if(Te!==null)for(_e[ze]=null,ze=0;ze<Te.length;ze++){var Re=Te[ze];Re!==null&&(Re.lane&=-536870913)}p&=~Ge}v!==0&&Fe(s,v,0),w!==0&&E===0&&s.tag!==0&&(s.suspendedLanes|=w&~(F&~l))}function Fe(s,l,p){s.pendingLanes|=l,s.suspendedLanes&=~l;var v=31-st(l);s.entangledLanes|=l,s.entanglements[v]=s.entanglements[v]|1073741824|p&4194090}function ut(s,l){var p=s.entangledLanes|=l;for(s=s.entanglements;p;){var v=31-st(p),E=1<<v;E&l|s[v]&l&&(s[v]|=l),p&=~E}}function Tt(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ln(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Qt(){var s=Y.p;return s!==0?s:(s=window.event,s===void 0?32:BC(s.type))}function Ei(s,l){var p=Y.p;try{return Y.p=s,l()}finally{Y.p=p}}var ei=Math.random().toString(36).slice(2),Mi="__reactFiber$"+ei,Li="__reactProps$"+ei,hr="__reactContainer$"+ei,Lr="__reactEvents$"+ei,hf="__reactListeners$"+ei,Ya="__reactHandles$"+ei,br="__reactResources$"+ei,Ka="__reactMarker$"+ei;function Ln(s){delete s[Mi],delete s[Li],delete s[Lr],delete s[hf],delete s[Ya]}function Za(s){var l=s[Mi];if(l)return l;for(var p=s.parentNode;p;){if(l=p[hr]||p[Mi]){if(p=l.alternate,l.child!==null||p!==null&&p.child!==null)for(s=SC(s);s!==null;){if(p=s[Mi])return p;s=SC(s)}return l}s=p,p=s.parentNode}return null}function Qa(s){if(s=s[Mi]||s[hr]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function Lo(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(i(33))}function Ks(s){var l=s[br];return l||(l=s[br]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Ti(s){s[Ka]=!0}var Hu=new Set,ku={};function Ja(s,l){X(s,l),X(s+"Capture",l)}function X(s,l){for(ku[s]=l,s=0;s<l.length;s++)Hu.add(l[s])}var fe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ae={},Ce={};function ge(s){return Pt.call(Ce,s)?!0:Pt.call(Ae,s)?!1:fe.test(s)?Ce[s]=!0:(Ae[s]=!0,!1)}function qe(s,l,p){if(ge(l))if(p===null)s.removeAttribute(l);else{switch(typeof p){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var v=l.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+p)}}function ot(s,l,p){if(p===null)s.removeAttribute(l);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+p)}}function ht(s,l,p,v){if(v===null)s.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(p);return}s.setAttributeNS(l,p,""+v)}}var pt,Ut;function Dt(s){if(pt===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);pt=l&&l[1]||"",Ut=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pt+s+Ut}var At=!1;function Jt(s,l){if(!s||At)return"";At=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(l){var Ge=function(){throw Error()};if(Object.defineProperty(Ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ge,[])}catch(Re){var Te=Re}Reflect.construct(s,[],Ge)}else{try{Ge.call()}catch(Re){Te=Re}s.call(Ge.prototype)}}else{try{throw Error()}catch(Re){Te=Re}(Ge=s())&&typeof Ge.catch=="function"&&Ge.catch(function(){})}}catch(Re){if(Re&&Te&&typeof Re.stack=="string")return[Re.stack,Te.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=v.DetermineComponentFrameRoot(),F=w[0],$=w[1];if(F&&$){var ne=F.split(`
`),_e=$.split(`
`);for(E=v=0;v<ne.length&&!ne[v].includes("DetermineComponentFrameRoot");)v++;for(;E<_e.length&&!_e[E].includes("DetermineComponentFrameRoot");)E++;if(v===ne.length||E===_e.length)for(v=ne.length-1,E=_e.length-1;1<=v&&0<=E&&ne[v]!==_e[E];)E--;for(;1<=v&&0<=E;v--,E--)if(ne[v]!==_e[E]){if(v!==1||E!==1)do if(v--,E--,0>E||ne[v]!==_e[E]){var ze=`
`+ne[v].replace(" at new "," at ");return s.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",s.displayName)),ze}while(1<=v&&0<=E);break}}}finally{At=!1,Error.prepareStackTrace=p}return(p=s?s.displayName||s.name:"")?Dt(p):""}function En(s){switch(s.tag){case 26:case 27:case 5:return Dt(s.type);case 16:return Dt("Lazy");case 13:return Dt("Suspense");case 19:return Dt("SuspenseList");case 0:case 15:return Jt(s.type,!1);case 11:return Jt(s.type.render,!1);case 1:return Jt(s.type,!0);case 31:return Dt("Activity");default:return""}}function Gn(s){try{var l="";do l+=En(s),s=s.return;while(s);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function rn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Mn(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ot(s){var l=Mn(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),v=""+s[l];if(!s.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,w=p.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return E.call(this)},set:function(F){v=""+F,w.call(this,F)}}),Object.defineProperty(s,l,{enumerable:p.enumerable}),{getValue:function(){return v},setValue:function(F){v=""+F},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Nn(s){s._valueTracker||(s._valueTracker=Ot(s))}function dn(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var p=l.getValue(),v="";return s&&(v=Mn(s)?s.checked?"true":"false":s.value),s=v,s!==p?(l.setValue(s),!0):!1}function Ui(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var gs=/[\n"\\]/g;function Bn(s){return s.replace(gs,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function vs(s,l,p,v,E,w,F,$){s.name="",F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?s.type=F:s.removeAttribute("type"),l!=null?F==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+rn(l)):s.value!==""+rn(l)&&(s.value=""+rn(l)):F!=="submit"&&F!=="reset"||s.removeAttribute("value"),l!=null?er(s,F,rn(l)):p!=null?er(s,F,rn(p)):v!=null&&s.removeAttribute("value"),E==null&&w!=null&&(s.defaultChecked=!!w),E!=null&&(s.checked=E&&typeof E!="function"&&typeof E!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?s.name=""+rn($):s.removeAttribute("name")}function Un(s,l,p,v,E,w,F,$){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),l!=null||p!=null){if(!(w!=="submit"&&w!=="reset"||l!=null))return;p=p!=null?""+rn(p):"",l=l!=null?""+rn(l):p,$||l===s.value||(s.value=l),s.defaultValue=l}v=v??E,v=typeof v!="function"&&typeof v!="symbol"&&!!v,s.checked=$?s.checked:!!v,s.defaultChecked=!!v,F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(s.name=F)}function er(s,l,p){l==="number"&&Ui(s.ownerDocument)===s||s.defaultValue===""+p||(s.defaultValue=""+p)}function Ai(s,l,p,v){if(s=s.options,l){l={};for(var E=0;E<p.length;E++)l["$"+p[E]]=!0;for(p=0;p<s.length;p++)E=l.hasOwnProperty("$"+s[p].value),s[p].selected!==E&&(s[p].selected=E),E&&v&&(s[p].defaultSelected=!0)}else{for(p=""+rn(p),l=null,E=0;E<s.length;E++){if(s[E].value===p){s[E].selected=!0,v&&(s[E].defaultSelected=!0);return}l!==null||s[E].disabled||(l=s[E])}l!==null&&(l.selected=!0)}}function Gi(s,l,p){if(l!=null&&(l=""+rn(l),l!==s.value&&(s.value=l),p==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=p!=null?""+rn(p):""}function $i(s,l,p,v){if(l==null){if(v!=null){if(p!=null)throw Error(i(92));if(de(v)){if(1<v.length)throw Error(i(93));v=v[0]}p=v}p==null&&(p=""),l=p}p=rn(l),s.defaultValue=p,v=s.textContent,v===p&&v!==""&&v!==null&&(s.value=v)}function _r(s,l){if(l){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=l;return}}s.textContent=l}var ys=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function df(s,l,p){var v=l.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":v?s.setProperty(l,p):typeof p!="number"||p===0||ys.has(l)?l==="float"?s.cssFloat=p:s[l]=(""+p).trim():s[l]=p+"px"}function pf(s,l,p){if(l!=null&&typeof l!="object")throw Error(i(62));if(s=s.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||l!=null&&l.hasOwnProperty(v)||(v.indexOf("--")===0?s.setProperty(v,""):v==="float"?s.cssFloat="":s[v]="");for(var E in l)v=l[E],l.hasOwnProperty(E)&&p[E]!==v&&df(s,E,v)}else for(var w in l)l.hasOwnProperty(w)&&df(s,w,l[w])}function nd(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ov=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mf(s){return Ov.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var id=null;function rd(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Uo=null,Bl=null;function bm(s){var l=Qa(s);if(l&&(s=l.stateNode)){var p=s[Li]||null;e:switch(s=l.stateNode,l.type){case"input":if(vs(s,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),l=p.name,p.type==="radio"&&l!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Bn(""+l)+'"][type="radio"]'),l=0;l<p.length;l++){var v=p[l];if(v!==s&&v.form===s.form){var E=v[Li]||null;if(!E)throw Error(i(90));vs(v,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(l=0;l<p.length;l++)v=p[l],v.form===s.form&&dn(v)}break e;case"textarea":Gi(s,p.value,p.defaultValue);break e;case"select":l=p.value,l!=null&&Ai(s,!!p.multiple,l,!1)}}}var gf=!1;function _m(s,l,p){if(gf)return s(l,p);gf=!0;try{var v=s(l);return v}finally{if(gf=!1,(Uo!==null||Bl!==null)&&(Ls(),Uo&&(l=Uo,s=Bl,Bl=Uo=null,bm(l),s)))for(l=0;l<s.length;l++)bm(s[l])}}function Gu(s,l){var p=s.stateNode;if(p===null)return null;var v=p[Li]||null;if(v===null)return null;p=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(i(231,l,typeof p));return p}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vf=!1;if(xs)try{var $u={};Object.defineProperty($u,"passive",{get:function(){vf=!0}}),window.addEventListener("test",$u,$u),window.removeEventListener("test",$u,$u)}catch{vf=!1}var Zs=null,Sm=null,ad=null;function Em(){if(ad)return ad;var s,l=Sm,p=l.length,v,E="value"in Zs?Zs.value:Zs.textContent,w=E.length;for(s=0;s<p&&l[s]===E[s];s++);var F=p-s;for(v=1;v<=F&&l[p-v]===E[w-v];v++);return ad=E.slice(s,1<v?1-v:void 0)}function zo(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function ju(){return!0}function yf(){return!1}function Sr(s){function l(p,v,E,w,F){this._reactName=p,this._targetInst=E,this.type=v,this.nativeEvent=w,this.target=F,this.currentTarget=null;for(var $ in s)s.hasOwnProperty($)&&(p=s[$],this[$]=p?p(w):w[$]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ju:yf,this.isPropagationStopped=yf,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=ju)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=ju)},persist:function(){},isPersistent:ju}),l}var Bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xu=Sr(Bo),Wu=m({},Bo,{view:0,detail:0}),Nv=Sr(Wu),Qs,qu,Yu,Ku=m({},Wu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Yu&&(Yu&&s.type==="mousemove"?(Qs=s.screenX-Yu.screenX,qu=s.screenY-Yu.screenY):qu=Qs=0,Yu=s),Qs)},movementY:function(s){return"movementY"in s?s.movementY:qu}}),Mm=Sr(Ku),Pv=m({},Ku,{dataTransfer:0}),kS=Sr(Pv),tr=m({},Wu,{relatedTarget:0}),sd=Sr(tr),Lv=m({},Bo,{animationName:0,elapsedTime:0,pseudoElement:0}),Uv=Sr(Lv),zv=m({},Bo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Bv=Sr(zv),xf=m({},Bo,{data:0}),od=Sr(xf),Iv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tm(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Vv[s])?!!l[s]:!1}function bf(){return Tm}var Hv=m({},Wu,{key:function(s){if(s.key){var l=Iv[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=zo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Fv[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bf,charCode:function(s){return s.type==="keypress"?zo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?zo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Am=Sr(Hv),wm=m({},Ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ld=Sr(wm),kv=m({},Wu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bf}),Cm=Sr(kv),Gv=m({},Bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Js=Sr(Gv),Rm=m({},Ku,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),GS=Sr(Rm),$v=m({},Bo,{newState:0,oldState:0}),Io=Sr($v),eo=[9,13,27,32],_f=xs&&"CompositionEvent"in window,Il=null;xs&&"documentMode"in document&&(Il=document.documentMode);var Sf=xs&&"TextEvent"in window&&!Il,Ef=xs&&(!_f||Il&&8<Il&&11>=Il),Fo=" ",nr=!1;function Mf(s,l){switch(s){case"keyup":return eo.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Vo=!1;function Tf(s,l){switch(s){case"compositionend":return Dm(l);case"keypress":return l.which!==32?null:(nr=!0,Fo);case"textInput":return s=l.data,s===Fo&&nr?null:s;default:return null}}function Om(s,l){if(Vo)return s==="compositionend"||!_f&&Mf(s,l)?(s=Em(),ad=Sm=Zs=null,Vo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ef&&l.locale!=="ko"?null:l.data;default:return null}}var ud={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nm(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!ud[s.type]:l==="textarea"}function Ur(s,l,p,v){Uo?Bl?Bl.push(v):Bl=[v]:Uo=v,l=Gy(l,"onChange"),0<l.length&&(p=new Xu("onChange","change",null,p,v),s.push({event:p,listeners:l}))}var Zu=null,Fl=null;function jv(s){hC(s,0)}function Af(s){var l=Lo(s);if(dn(l))return s}function cd(s,l){if(s==="change")return l}var fd=!1;if(xs){var hd;if(xs){var Qu="oninput"in document;if(!Qu){var Ju=document.createElement("div");Ju.setAttribute("oninput","return;"),Qu=typeof Ju.oninput=="function"}hd=Qu}else hd=!1;fd=hd&&(!document.documentMode||9<document.documentMode)}function ti(){Zu&&(Zu.detachEvent("onpropertychange",Xv),Fl=Zu=null)}function Xv(s){if(s.propertyName==="value"&&Af(Fl)){var l=[];Ur(l,Fl,s,rd(s)),_m(jv,l)}}function $S(s,l,p){s==="focusin"?(ti(),Zu=l,Fl=p,Zu.attachEvent("onpropertychange",Xv)):s==="focusout"&&ti()}function Wv(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Af(Fl)}function wf(s,l){if(s==="click")return Af(l)}function Ho(s,l){if(s==="input"||s==="change")return Af(l)}function qv(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var zr=typeof Object.is=="function"?Object.is:qv;function es(s,l){if(zr(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var p=Object.keys(s),v=Object.keys(l);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var E=p[v];if(!Pt.call(l,E)||!zr(s[E],l[E]))return!1}return!0}function Br(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Pm(s,l){var p=Br(s);s=0;for(var v;p;){if(p.nodeType===3){if(v=s+p.textContent.length,s<=l&&v>=l)return{node:p,offset:l-s};s=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Br(p)}}function Lm(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?Lm(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function Um(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Ui(s.document);l instanceof s.HTMLIFrameElement;){try{var p=typeof l.contentWindow.location.href=="string"}catch{p=!1}if(p)s=l.contentWindow;else break;l=Ui(s.document)}return l}function Cf(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var zm=xs&&"documentMode"in document&&11>=document.documentMode,to=null,dd=null,Rf=null,pd=!1;function Bm(s,l,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;pd||to==null||to!==Ui(v)||(v=to,"selectionStart"in v&&Cf(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Rf&&es(Rf,v)||(Rf=v,v=Gy(dd,"onSelect"),0<v.length&&(l=new Xu("onSelect","select",null,l,p),s.push({event:l,listeners:v}),l.target=to)))}function ir(s,l){var p={};return p[s.toLowerCase()]=l.toLowerCase(),p["Webkit"+s]="webkit"+l,p["Moz"+s]="moz"+l,p}var ko={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionrun:ir("Transition","TransitionRun"),transitionstart:ir("Transition","TransitionStart"),transitioncancel:ir("Transition","TransitionCancel"),transitionend:ir("Transition","TransitionEnd")},md={},Yv={};xs&&(Yv=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function no(s){if(md[s])return md[s];if(!ko[s])return s;var l=ko[s],p;for(p in l)if(l.hasOwnProperty(p)&&p in Yv)return md[s]=l[p];return s}var Er=no("animationend"),Im=no("animationiteration"),Ir=no("animationstart"),Kv=no("transitionrun"),io=no("transitionstart"),ec=no("transitioncancel"),ro=no("transitionend"),gd=new Map,Df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Df.push("scrollEnd");function ji(s,l){gd.set(s,l),Ja(l,[s])}var Fm=new WeakMap;function rr(s,l){if(typeof s=="object"&&s!==null){var p=Fm.get(s);return p!==void 0?p:(l={value:s,source:l,stack:Gn(l)},Fm.set(s,l),l)}return{value:s,source:l,stack:Gn(l)}}var dr=[],Aa=0,vd=0;function Of(){for(var s=Aa,l=vd=Aa=0;l<s;){var p=dr[l];dr[l++]=null;var v=dr[l];dr[l++]=null;var E=dr[l];dr[l++]=null;var w=dr[l];if(dr[l++]=null,v!==null&&E!==null){var F=v.pending;F===null?E.next=E:(E.next=F.next,F.next=E),v.pending=E}w!==0&&Vm(p,E,w)}}function Go(s,l,p,v){dr[Aa++]=s,dr[Aa++]=l,dr[Aa++]=p,dr[Aa++]=v,vd|=v,s.lanes|=v,s=s.alternate,s!==null&&(s.lanes|=v)}function yd(s,l,p,v){return Go(s,l,p,v),tc(s)}function ao(s,l){return Go(s,null,null,l),tc(s)}function Vm(s,l,p){s.lanes|=p;var v=s.alternate;v!==null&&(v.lanes|=p);for(var E=!1,w=s.return;w!==null;)w.childLanes|=p,v=w.alternate,v!==null&&(v.childLanes|=p),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(E=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,E&&l!==null&&(E=31-st(p),s=w.hiddenUpdates,v=s[E],v===null?s[E]=[l]:v.push(l),l.lane=p|536870912),w):null}function tc(s){if(50<Ps)throw Ps=0,iu=null,Error(i(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var $o={};function Hm(s,l,p,v){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(s,l,p,v){return new Hm(s,l,p,v)}function Nf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function fi(s,l){var p=s.alternate;return p===null?(p=Fr(s.tag,l,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=l,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&65011712,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,l=s.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p.refCleanup=s.refCleanup,p}function km(s,l){s.flags&=65011714;var p=s.alternate;return p===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=p.childLanes,s.lanes=p.lanes,s.child=p.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=p.memoizedProps,s.memoizedState=p.memoizedState,s.updateQueue=p.updateQueue,s.type=p.type,l=p.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Xi(s,l,p,v,E,w){var F=0;if(v=s,typeof s=="function")Nf(s)&&(F=1);else if(typeof s=="string")F=g4(s,p,se.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case B:return s=Fr(31,p,l,E),s.elementType=B,s.lanes=w,s;case _:return jo(p.children,E,w,l);case A:F=8,E|=24;break;case T:return s=Fr(12,p,l,E|2),s.elementType=T,s.lanes=w,s;case z:return s=Fr(13,p,l,E),s.elementType=z,s.lanes=w,s;case U:return s=Fr(19,p,l,E),s.elementType=U,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case S:case D:F=10;break e;case C:F=9;break e;case N:F=11;break e;case I:F=14;break e;case V:F=16,v=null;break e}F=29,p=Error(i(130,s===null?"null":typeof s,"")),v=null}return l=Fr(F,p,l,E),l.elementType=s,l.type=v,l.lanes=w,l}function jo(s,l,p,v){return s=Fr(7,s,v,l),s.lanes=p,s}function Pf(s,l,p){return s=Fr(6,s,null,l),s.lanes=p,s}function xd(s,l,p){return l=Fr(4,s.children!==null?s.children:[],s.key,l),l.lanes=p,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var nc=[],Vr=0,Lf=null,ic=0,ar=[],na=0,Xo=null,bs=1,_s="";function so(s,l){nc[Vr++]=ic,nc[Vr++]=Lf,Lf=s,ic=l}function bd(s,l,p){ar[na++]=bs,ar[na++]=_s,ar[na++]=Xo,Xo=s;var v=bs;s=_s;var E=32-st(v)-1;v&=~(1<<E),p+=1;var w=32-st(l)+E;if(30<w){var F=E-E%5;w=(v&(1<<F)-1).toString(32),v>>=F,E-=F,bs=1<<32-st(l)+E|p<<E|v,_s=w+s}else bs=1<<w|p<<E|v,_s=s}function Gm(s){s.return!==null&&(so(s,1),bd(s,1,0))}function $m(s){for(;s===Lf;)Lf=nc[--Vr],nc[Vr]=null,ic=nc[--Vr],nc[Vr]=null;for(;s===Xo;)Xo=ar[--na],ar[na]=null,_s=ar[--na],ar[na]=null,bs=ar[--na],ar[na]=null}var Mr=null,ri=null,_n=!1,wa=null,ia=!1,_d=Error(i(519));function Wo(s){var l=Error(i(418,""));throw Vl(rr(l,s)),_d}function Zv(s){var l=s.stateNode,p=s.type,v=s.memoizedProps;switch(l[Mi]=s,l[Li]=v,p){case"dialog":gn("cancel",l),gn("close",l);break;case"iframe":case"object":case"embed":gn("load",l);break;case"video":case"audio":for(p=0;p<_g.length;p++)gn(_g[p],l);break;case"source":gn("error",l);break;case"img":case"image":case"link":gn("error",l),gn("load",l);break;case"details":gn("toggle",l);break;case"input":gn("invalid",l),Un(l,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),Nn(l);break;case"select":gn("invalid",l);break;case"textarea":gn("invalid",l),$i(l,v.value,v.defaultValue,v.children),Nn(l)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||l.textContent===""+p||v.suppressHydrationWarning===!0||gC(l.textContent,p)?(v.popover!=null&&(gn("beforetoggle",l),gn("toggle",l)),v.onScroll!=null&&gn("scroll",l),v.onScrollEnd!=null&&gn("scrollend",l),v.onClick!=null&&(l.onclick=$y),l=!0):l=!1,l||Wo(s)}function jm(s){for(Mr=s.return;Mr;)switch(Mr.tag){case 5:case 13:ia=!1;return;case 27:case 3:ia=!0;return;default:Mr=Mr.return}}function ts(s){if(s!==Mr)return!1;if(!_n)return jm(s),_n=!0,!1;var l=s.tag,p;if((p=l!==3&&l!==27)&&((p=l===5)&&(p=s.type,p=!(p!=="form"&&p!=="button")||c1(s.type,s.memoizedProps)),p=!p),p&&ri&&Wo(s),jm(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(p=s.data,p==="/$"){if(l===0){ri=_o(s.nextSibling);break e}l--}else p!=="$"&&p!=="$!"&&p!=="$?"||l++;s=s.nextSibling}ri=null}}else l===27?(l=ri,Cc(s.type)?(s=p1,p1=null,ri=s):ri=l):ri=Mr?_o(s.stateNode.nextSibling):null;return!0}function rc(){ri=Mr=null,_n=!1}function Cn(){var s=wa;return s!==null&&(zt===null?zt=s:zt.push.apply(zt,s),wa=null),s}function Vl(s){wa===null?wa=[s]:wa.push(s)}var Xm=te(null),qo=null,oo=null;function Yo(s,l,p){ye(Xm,l._currentValue),l._currentValue=p}function lo(s){s._currentValue=Xm.current,Se(Xm)}function Wm(s,l,p){for(;s!==null;){var v=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),s===p)break;s=s.return}}function Uf(s,l,p,v){var E=s.child;for(E!==null&&(E.return=s);E!==null;){var w=E.dependencies;if(w!==null){var F=E.child;w=w.firstContext;e:for(;w!==null;){var $=w;w=E;for(var ne=0;ne<l.length;ne++)if($.context===l[ne]){w.lanes|=p,$=w.alternate,$!==null&&($.lanes|=p),Wm(w.return,p,s),v||(F=null);break e}w=$.next}}else if(E.tag===18){if(F=E.return,F===null)throw Error(i(341));F.lanes|=p,w=F.alternate,w!==null&&(w.lanes|=p),Wm(F,p,s),F=null}else F=E.child;if(F!==null)F.return=E;else for(F=E;F!==null;){if(F===s){F=null;break}if(E=F.sibling,E!==null){E.return=F.return,F=E;break}F=F.return}E=F}}function Ca(s,l,p,v){s=null;for(var E=l,w=!1;E!==null;){if(!w){if((E.flags&524288)!==0)w=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var F=E.alternate;if(F===null)throw Error(i(387));if(F=F.memoizedProps,F!==null){var $=E.type;zr(E.pendingProps.value,F.value)||(s!==null?s.push($):s=[$])}}else if(E===je.current){if(F=E.alternate,F===null)throw Error(i(387));F.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(s!==null?s.push(wg):s=[wg])}E=E.return}s!==null&&Uf(l,s,p,v),l.flags|=262144}function zf(s){for(s=s.firstContext;s!==null;){if(!zr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ss(s){qo=s,oo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function si(s){return Sd(qo,s)}function Bf(s,l){return qo===null&&Ss(s),Sd(s,l)}function Sd(s,l){var p=l._currentValue;if(l={context:l,memoizedValue:p,next:null},oo===null){if(s===null)throw Error(i(308));oo=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else oo=oo.next=l;return p}var qm=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(p,v){s.push(v)}};this.abort=function(){l.aborted=!0,s.forEach(function(p){return p()})}},jS=n.unstable_scheduleCallback,Qv=n.unstable_NormalPriority,wi={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ed(){return{controller:new qm,data:new Map,refCount:0}}function ac(s){s.refCount--,s.refCount===0&&jS(Qv,function(){s.controller.abort()})}var sc=null,If=0,qt=0,oc=null;function ra(s,l){if(sc===null){var p=sc=[];If=0,qt=t1(),oc={status:"pending",value:void 0,then:function(v){p.push(v)}}}return If++,l.then(Md,Md),l}function Md(){if(--If===0&&sc!==null){oc!==null&&(oc.status="fulfilled");var s=sc;sc=null,qt=0,oc=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function XS(s,l){var p=[],v={status:"pending",value:null,reason:null,then:function(E){p.push(E)}};return s.then(function(){v.status="fulfilled",v.value=l;for(var E=0;E<p.length;E++)(0,p[E])(l)},function(E){for(v.status="rejected",v.reason=E,E=0;E<p.length;E++)(0,p[E])(void 0)}),v}var Ff=k.S;k.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&ra(s,l),Ff!==null&&Ff(s,l)};var Ra=te(null);function Ko(){var s=Ra.current;return s!==null?s:Xt.pooledCache}function Vf(s,l){l===null?ye(Ra,Ra.current):ye(Ra,l.pool)}function Td(){var s=Ko();return s===null?null:{parent:wi._currentValue,pool:s}}var Hf=Error(i(460)),Ym=Error(i(474)),ns=Error(i(542)),kf={then:function(){}};function Ad(s){return s=s.status,s==="fulfilled"||s==="rejected"}function lc(){}function wd(s,l,p){switch(p=s[p],p===void 0?s.push(l):p!==l&&(l.then(lc,lc),l=p),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Jv(s),s;default:if(typeof l.status=="string")l.then(lc,lc);else{if(s=Xt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=l,s.status="pending",s.then(function(v){if(l.status==="pending"){var E=l;E.status="fulfilled",E.value=v}},function(v){if(l.status==="pending"){var E=l;E.status="rejected",E.reason=v}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Jv(s),s}throw Da=l,Hf}}var Da=null;function Km(){if(Da===null)throw Error(i(459));var s=Da;return Da=null,s}function Jv(s){if(s===Hf||s===ns)throw Error(i(483))}var uo=!1;function Zm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ht(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Es(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function co(s,l,p){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(Rn&2)!==0){var E=v.pending;return E===null?l.next=l:(l.next=E.next,E.next=l),v.pending=l,l=tc(s),Vm(s,null,p),l}return Go(s,v,l,p),tc(s)}function Hl(s,l,p){if(l=l.updateQueue,l!==null&&(l=l.shared,(p&4194048)!==0)){var v=l.lanes;v&=s.pendingLanes,p|=v,l.lanes=p,ut(s,p)}}function uc(s,l){var p=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var E=null,w=null;if(p=p.firstBaseUpdate,p!==null){do{var F={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};w===null?E=w=F:w=w.next=F,p=p.next}while(p!==null);w===null?E=w=l:w=w.next=l}else E=w=l;p={baseState:v.baseState,firstBaseUpdate:E,lastBaseUpdate:w,shared:v.shared,callbacks:v.callbacks},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=l:s.next=l,p.lastBaseUpdate=l}var Qm=!1;function Gf(){if(Qm){var s=oc;if(s!==null)throw s}}function cc(s,l,p,v){Qm=!1;var E=s.updateQueue;uo=!1;var w=E.firstBaseUpdate,F=E.lastBaseUpdate,$=E.shared.pending;if($!==null){E.shared.pending=null;var ne=$,_e=ne.next;ne.next=null,F===null?w=_e:F.next=_e,F=ne;var ze=s.alternate;ze!==null&&(ze=ze.updateQueue,$=ze.lastBaseUpdate,$!==F&&($===null?ze.firstBaseUpdate=_e:$.next=_e,ze.lastBaseUpdate=ne))}if(w!==null){var Ge=E.baseState;F=0,ze=_e=ne=null,$=w;do{var Te=$.lane&-536870913,Re=Te!==$.lane;if(Re?(Nt&Te)===Te:(v&Te)===Te){Te!==0&&Te===qt&&(Qm=!0),ze!==null&&(ze=ze.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var $t=s,Ft=$;Te=l;var qn=p;switch(Ft.tag){case 1:if($t=Ft.payload,typeof $t=="function"){Ge=$t.call(qn,Ge,Te);break e}Ge=$t;break e;case 3:$t.flags=$t.flags&-65537|128;case 0:if($t=Ft.payload,Te=typeof $t=="function"?$t.call(qn,Ge,Te):$t,Te==null)break e;Ge=m({},Ge,Te);break e;case 2:uo=!0}}Te=$.callback,Te!==null&&(s.flags|=64,Re&&(s.flags|=8192),Re=E.callbacks,Re===null?E.callbacks=[Te]:Re.push(Te))}else Re={lane:Te,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ze===null?(_e=ze=Re,ne=Ge):ze=ze.next=Re,F|=Te;if($=$.next,$===null){if($=E.shared.pending,$===null)break;Re=$,$=Re.next,Re.next=null,E.lastBaseUpdate=Re,E.shared.pending=null}}while(!0);ze===null&&(ne=Ge),E.baseState=ne,E.firstBaseUpdate=_e,E.lastBaseUpdate=ze,w===null&&(E.shared.lanes=0),cs|=F,s.lanes=F,s.memoizedState=Ge}}function fc(s,l){if(typeof s!="function")throw Error(i(191,s));s.call(l)}function ey(s,l){var p=s.callbacks;if(p!==null)for(s.callbacks=null,s=0;s<p.length;s++)fc(p[s],l)}var hc=te(null),Cd=te(0);function ty(s,l){s=za,ye(Cd,s),ye(hc,l),za=s|l.baseLanes}function Jm(){ye(Cd,za),ye(hc,hc.current)}function $f(){za=Cd.current,Se(hc),Se(Cd)}var fo=0,Yt=null,Pn=null,Ci=null,Rd=!1,Zo=!1,Tr=!1,zi=0,Oa=0,sr=null,ny=0;function hi(){throw Error(i(321))}function pr(s,l){if(l===null)return!1;for(var p=0;p<l.length&&p<s.length;p++)if(!zr(s[p],l[p]))return!1;return!0}function ho(s,l,p,v,E,w){return fo=w,Yt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,k.H=s===null||s.memoizedState===null?Id:mg,Tr=!1,w=p(v,E),Tr=!1,Zo&&(w=ry(l,p,v,E)),iy(s),w}function iy(s){k.H=Wf;var l=Pn!==null&&Pn.next!==null;if(fo=0,Ci=Pn=Yt=null,Rd=!1,Oa=0,sr=null,l)throw Error(i(300));s===null||Wi||(s=s.dependencies,s!==null&&zf(s)&&(Wi=!0))}function ry(s,l,p,v){Yt=s;var E=0;do{if(Zo&&(sr=null),Oa=0,Zo=!1,25<=E)throw Error(i(301));if(E+=1,Ci=Pn=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}k.H=Dy,w=l(p,v)}while(Zo);return w}function WS(){var s=k.H,l=s.useState()[0];return l=typeof l.then=="function"?is(l):l,s=s.useState()[0],(Pn!==null?Pn.memoizedState:null)!==s&&(Yt.flags|=1024),l}function eg(){var s=zi!==0;return zi=0,s}function Dd(s,l,p){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~p}function tg(s){if(Rd){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Rd=!1}fo=0,Ci=Pn=Yt=null,Zo=!1,Oa=zi=0,sr=null}function Ar(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ci===null?Yt.memoizedState=Ci=s:Ci=Ci.next=s,Ci}function Ri(){if(Pn===null){var s=Yt.alternate;s=s!==null?s.memoizedState:null}else s=Pn.next;var l=Ci===null?Yt.memoizedState:Ci.next;if(l!==null)Ci=l,Pn=s;else{if(s===null)throw Yt.alternate===null?Error(i(467)):Error(i(310));Pn=s,s={memoizedState:Pn.memoizedState,baseState:Pn.baseState,baseQueue:Pn.baseQueue,queue:Pn.queue,next:null},Ci===null?Yt.memoizedState=Ci=s:Ci=Ci.next=s}return Ci}function Qo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function is(s){var l=Oa;return Oa+=1,sr===null&&(sr=[]),s=wd(sr,s,l),l=Yt,(Ci===null?l.memoizedState:Ci.next)===null&&(l=l.alternate,k.H=l===null||l.memoizedState===null?Id:mg),s}function Od(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return is(s);if(s.$$typeof===D)return si(s)}throw Error(i(438,String(s)))}function ng(s){var l=null,p=Yt.updateQueue;if(p!==null&&(l=p.memoCache),l==null){var v=Yt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(l={data:v.data.map(function(E){return E.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),p===null&&(p=Qo(),Yt.updateQueue=p),p.memoCache=l,p=l.data[l.index],p===void 0)for(p=l.data[l.index]=Array(s),v=0;v<s;v++)p[v]=L;return l.index++,p}function po(s,l){return typeof l=="function"?l(s):l}function Jo(s){var l=Ri();return ig(l,Pn,s)}function ig(s,l,p){var v=s.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=p;var E=s.baseQueue,w=v.pending;if(w!==null){if(E!==null){var F=E.next;E.next=w.next,w.next=F}l.baseQueue=E=w,v.pending=null}if(w=s.baseState,E===null)s.memoizedState=w;else{l=E.next;var $=F=null,ne=null,_e=l,ze=!1;do{var Ge=_e.lane&-536870913;if(Ge!==_e.lane?(Nt&Ge)===Ge:(fo&Ge)===Ge){var Te=_e.revertLane;if(Te===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),Ge===qt&&(ze=!0);else if((fo&Te)===Te){_e=_e.next,Te===qt&&(ze=!0);continue}else Ge={lane:0,revertLane:_e.revertLane,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},ne===null?($=ne=Ge,F=w):ne=ne.next=Ge,Yt.lanes|=Te,cs|=Te;Ge=_e.action,Tr&&p(w,Ge),w=_e.hasEagerState?_e.eagerState:p(w,Ge)}else Te={lane:Ge,revertLane:_e.revertLane,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},ne===null?($=ne=Te,F=w):ne=ne.next=Te,Yt.lanes|=Ge,cs|=Ge;_e=_e.next}while(_e!==null&&_e!==l);if(ne===null?F=w:ne.next=$,!zr(w,s.memoizedState)&&(Wi=!0,ze&&(p=oc,p!==null)))throw p;s.memoizedState=w,s.baseState=F,s.baseQueue=ne,v.lastRenderedState=w}return E===null&&(v.lanes=0),[s.memoizedState,v.dispatch]}function rg(s){var l=Ri(),p=l.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=s;var v=p.dispatch,E=p.pending,w=l.memoizedState;if(E!==null){p.pending=null;var F=E=E.next;do w=s(w,F.action),F=F.next;while(F!==E);zr(w,l.memoizedState)||(Wi=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),p.lastRenderedState=w}return[w,v]}function ay(s,l,p){var v=Yt,E=Ri(),w=_n;if(w){if(p===void 0)throw Error(i(407));p=p()}else p=l();var F=!zr((Pn||E).memoizedState,p);F&&(E.memoizedState=p,Wi=!0),E=E.queue;var $=oy.bind(null,v,E,s);if(mc(2048,8,$,[s]),E.getSnapshot!==l||F||Ci!==null&&Ci.memoizedState.tag&1){if(v.flags|=2048,pc(9,jf(),sy.bind(null,v,E,p,l),null),Xt===null)throw Error(i(349));w||(fo&124)!==0||dc(v,l,p)}return p}function dc(s,l,p){s.flags|=16384,s={getSnapshot:l,value:p},l=Yt.updateQueue,l===null?(l=Qo(),Yt.updateQueue=l,l.stores=[s]):(p=l.stores,p===null?l.stores=[s]:p.push(s))}function sy(s,l,p,v){l.value=p,l.getSnapshot=v,ly(l)&&uy(s)}function oy(s,l,p){return p(function(){ly(l)&&uy(s)})}function ly(s){var l=s.getSnapshot;s=s.value;try{var p=l();return!zr(s,p)}catch{return!0}}function uy(s){var l=ao(s,2);l!==null&&Rr(l,s,2)}function ag(s){var l=Ar();if(typeof s=="function"){var p=s;if(s=p(),Tr){Oe(!0);try{p()}finally{Oe(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:s},l}function cy(s,l,p,v){return s.baseState=p,ig(s,Pn,typeof v=="function"?v:po)}function qS(s,l,p,v,E){if(Bd(s))throw Error(i(485));if(s=l.action,s!==null){var w={payload:E,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(F){w.listeners.push(F)}};k.T!==null?p(!0):w.isTransition=!1,v(w),p=l.pending,p===null?(w.next=l.pending=w,fy(l,w)):(w.next=p.next,l.pending=p.next=w)}}function fy(s,l){var p=l.action,v=l.payload,E=s.state;if(l.isTransition){var w=k.T,F={};k.T=F;try{var $=p(E,v),ne=k.S;ne!==null&&ne(F,$),hy(s,l,$)}catch(_e){sg(s,l,_e)}finally{k.T=w}}else try{w=p(E,v),hy(s,l,w)}catch(_e){sg(s,l,_e)}}function hy(s,l,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){dy(s,l,v)},function(v){return sg(s,l,v)}):dy(s,l,p)}function dy(s,l,p){l.status="fulfilled",l.value=p,py(l),s.state=p,l=s.pending,l!==null&&(p=l.next,p===l?s.pending=null:(p=p.next,l.next=p,fy(s,p)))}function sg(s,l,p){var v=s.pending;if(s.pending=null,v!==null){v=v.next;do l.status="rejected",l.reason=p,py(l),l=l.next;while(l!==v)}s.action=null}function py(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function og(s,l){return l}function my(s,l){if(_n){var p=Xt.formState;if(p!==null){e:{var v=Yt;if(_n){if(ri){t:{for(var E=ri,w=ia;E.nodeType!==8;){if(!w){E=null;break t}if(E=_o(E.nextSibling),E===null){E=null;break t}}w=E.data,E=w==="F!"||w==="F"?E:null}if(E){ri=_o(E.nextSibling),v=E.data==="F!";break e}}Wo(v)}v=!1}v&&(l=p[0])}}return p=Ar(),p.memoizedState=p.baseState=l,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:og,lastRenderedState:l},p.queue=v,p=Cy.bind(null,Yt,v),v.dispatch=p,v=ag(!1),w=zd.bind(null,Yt,!1,v.queue),v=Ar(),E={state:l,dispatch:null,action:s,pending:null},v.queue=E,p=qS.bind(null,Yt,E,w,p),E.dispatch=p,v.memoizedState=s,[l,p,!1]}function gy(s){var l=Ri();return vy(l,Pn,s)}function vy(s,l,p){if(l=ig(s,l,og)[0],s=Jo(po)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var v=is(l)}catch(F){throw F===Hf?ns:F}else v=l;l=Ri();var E=l.queue,w=E.dispatch;return p!==l.memoizedState&&(Yt.flags|=2048,pc(9,jf(),YS.bind(null,E,p),null)),[v,w,s]}function YS(s,l){s.action=l}function yy(s){var l=Ri(),p=Pn;if(p!==null)return vy(l,p,s);Ri(),l=l.memoizedState,p=Ri();var v=p.queue.dispatch;return p.memoizedState=s,[l,v,!1]}function pc(s,l,p,v){return s={tag:s,create:p,deps:v,inst:l,next:null},l=Yt.updateQueue,l===null&&(l=Qo(),Yt.updateQueue=l),p=l.lastEffect,p===null?l.lastEffect=s.next=s:(v=p.next,p.next=s,s.next=v,l.lastEffect=s),s}function jf(){return{destroy:void 0,resource:void 0}}function lg(){return Ri().memoizedState}function Nd(s,l,p,v){var E=Ar();v=v===void 0?null:v,Yt.flags|=s,E.memoizedState=pc(1|l,jf(),p,v)}function mc(s,l,p,v){var E=Ri();v=v===void 0?null:v;var w=E.memoizedState.inst;Pn!==null&&v!==null&&pr(v,Pn.memoizedState.deps)?E.memoizedState=pc(l,w,p,v):(Yt.flags|=s,E.memoizedState=pc(1|l,w,p,v))}function ug(s,l){Nd(8390656,8,s,l)}function cg(s,l){mc(2048,8,s,l)}function Pd(s,l){return mc(4,2,s,l)}function Ld(s,l){return mc(4,4,s,l)}function xy(s,l){if(typeof l=="function"){s=s();var p=l(s);return function(){typeof p=="function"?p():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function by(s,l,p){p=p!=null?p.concat([s]):null,mc(4,4,xy.bind(null,l,s),p)}function fg(){}function _y(s,l){var p=Ri();l=l===void 0?null:l;var v=p.memoizedState;return l!==null&&pr(l,v[1])?v[0]:(p.memoizedState=[s,l],s)}function hg(s,l){var p=Ri();l=l===void 0?null:l;var v=p.memoizedState;if(l!==null&&pr(l,v[1]))return v[0];if(v=s(),Tr){Oe(!0);try{s()}finally{Oe(!1)}}return p.memoizedState=[v,l],v}function Ud(s,l,p){return p===void 0||(fo&1073741824)!==0?s.memoizedState=l:(s.memoizedState=p,s=Yd(),Yt.lanes|=s,cs|=s,p)}function Sy(s,l,p,v){return zr(p,l)?p:hc.current!==null?(s=Ud(s,p,v),zr(s,l)||(Wi=!0),s):(fo&42)===0?(Wi=!0,s.memoizedState=p):(s=Yd(),Yt.lanes|=s,cs|=s,l)}function Ey(s,l,p,v,E){var w=Y.p;Y.p=w!==0&&8>w?w:8;var F=k.T,$={};k.T=$,zd(s,!1,l,p);try{var ne=E(),_e=k.S;if(_e!==null&&_e($,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var ze=XS(ne,v);Xf(s,l,ze,ui(s))}else Xf(s,l,v,ui(s))}catch(Ge){Xf(s,l,{then:function(){},status:"rejected",reason:Ge},ui())}finally{Y.p=w,k.T=F}}function KS(){}function dg(s,l,p,v){if(s.tag!==5)throw Error(i(476));var E=My(s).queue;Ey(s,E,l,K,p===null?KS:function(){return Ty(s),p(v)})}function My(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:K},next:null};var p={};return l.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:p},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function Ty(s){var l=My(s).next.queue;Xf(s,l,{},ui())}function pg(){return si(wg)}function Ay(){return Ri().memoizedState}function wy(){return Ri().memoizedState}function ZS(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var p=ui();s=Es(p);var v=co(l,s,p);v!==null&&(Rr(v,l,p),Hl(v,l,p)),l={cache:Ed()},s.payload=l;return}l=l.return}}function QS(s,l,p){var v=ui();p={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},Bd(s)?Ry(l,p):(p=yd(s,l,p,v),p!==null&&(Rr(p,s,v),aa(p,l,v)))}function Cy(s,l,p){var v=ui();Xf(s,l,p,v)}function Xf(s,l,p,v){var E={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(Bd(s))Ry(l,E);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var F=l.lastRenderedState,$=w(F,p);if(E.hasEagerState=!0,E.eagerState=$,zr($,F))return Go(s,l,E,0),Xt===null&&Of(),!1}catch{}finally{}if(p=yd(s,l,E,v),p!==null)return Rr(p,s,v),aa(p,l,v),!0}return!1}function zd(s,l,p,v){if(v={lane:2,revertLane:t1(),action:v,hasEagerState:!1,eagerState:null,next:null},Bd(s)){if(l)throw Error(i(479))}else l=yd(s,p,v,2),l!==null&&Rr(l,s,2)}function Bd(s){var l=s.alternate;return s===Yt||l!==null&&l===Yt}function Ry(s,l){Zo=Rd=!0;var p=s.pending;p===null?l.next=l:(l.next=p.next,p.next=l),s.pending=l}function aa(s,l,p){if((p&4194048)!==0){var v=l.lanes;v&=s.pendingLanes,p|=v,l.lanes=p,ut(s,p)}}var Wf={readContext:si,use:Od,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useLayoutEffect:hi,useInsertionEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useSyncExternalStore:hi,useId:hi,useHostTransitionStatus:hi,useFormState:hi,useActionState:hi,useOptimistic:hi,useMemoCache:hi,useCacheRefresh:hi},Id={readContext:si,use:Od,useCallback:function(s,l){return Ar().memoizedState=[s,l===void 0?null:l],s},useContext:si,useEffect:ug,useImperativeHandle:function(s,l,p){p=p!=null?p.concat([s]):null,Nd(4194308,4,xy.bind(null,l,s),p)},useLayoutEffect:function(s,l){return Nd(4194308,4,s,l)},useInsertionEffect:function(s,l){Nd(4,2,s,l)},useMemo:function(s,l){var p=Ar();l=l===void 0?null:l;var v=s();if(Tr){Oe(!0);try{s()}finally{Oe(!1)}}return p.memoizedState=[v,l],v},useReducer:function(s,l,p){var v=Ar();if(p!==void 0){var E=p(l);if(Tr){Oe(!0);try{p(l)}finally{Oe(!1)}}}else E=l;return v.memoizedState=v.baseState=E,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:E},v.queue=s,s=s.dispatch=QS.bind(null,Yt,s),[v.memoizedState,s]},useRef:function(s){var l=Ar();return s={current:s},l.memoizedState=s},useState:function(s){s=ag(s);var l=s.queue,p=Cy.bind(null,Yt,l);return l.dispatch=p,[s.memoizedState,p]},useDebugValue:fg,useDeferredValue:function(s,l){var p=Ar();return Ud(p,s,l)},useTransition:function(){var s=ag(!1);return s=Ey.bind(null,Yt,s.queue,!0,!1),Ar().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,p){var v=Yt,E=Ar();if(_n){if(p===void 0)throw Error(i(407));p=p()}else{if(p=l(),Xt===null)throw Error(i(349));(Nt&124)!==0||dc(v,l,p)}E.memoizedState=p;var w={value:p,getSnapshot:l};return E.queue=w,ug(oy.bind(null,v,w,s),[s]),v.flags|=2048,pc(9,jf(),sy.bind(null,v,w,p,l),null),p},useId:function(){var s=Ar(),l=Xt.identifierPrefix;if(_n){var p=_s,v=bs;p=(v&~(1<<32-st(v)-1)).toString(32)+p,l=""+l+"R"+p,p=zi++,0<p&&(l+="H"+p.toString(32)),l+=""}else p=ny++,l=""+l+"r"+p.toString(32)+"";return s.memoizedState=l},useHostTransitionStatus:pg,useFormState:my,useActionState:my,useOptimistic:function(s){var l=Ar();l.memoizedState=l.baseState=s;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=p,l=zd.bind(null,Yt,!0,p),p.dispatch=l,[s,l]},useMemoCache:ng,useCacheRefresh:function(){return Ar().memoizedState=ZS.bind(null,Yt)}},mg={readContext:si,use:Od,useCallback:_y,useContext:si,useEffect:cg,useImperativeHandle:by,useInsertionEffect:Pd,useLayoutEffect:Ld,useMemo:hg,useReducer:Jo,useRef:lg,useState:function(){return Jo(po)},useDebugValue:fg,useDeferredValue:function(s,l){var p=Ri();return Sy(p,Pn.memoizedState,s,l)},useTransition:function(){var s=Jo(po)[0],l=Ri().memoizedState;return[typeof s=="boolean"?s:is(s),l]},useSyncExternalStore:ay,useId:Ay,useHostTransitionStatus:pg,useFormState:gy,useActionState:gy,useOptimistic:function(s,l){var p=Ri();return cy(p,Pn,s,l)},useMemoCache:ng,useCacheRefresh:wy},Dy={readContext:si,use:Od,useCallback:_y,useContext:si,useEffect:cg,useImperativeHandle:by,useInsertionEffect:Pd,useLayoutEffect:Ld,useMemo:hg,useReducer:rg,useRef:lg,useState:function(){return rg(po)},useDebugValue:fg,useDeferredValue:function(s,l){var p=Ri();return Pn===null?Ud(p,s,l):Sy(p,Pn.memoizedState,s,l)},useTransition:function(){var s=rg(po)[0],l=Ri().memoizedState;return[typeof s=="boolean"?s:is(s),l]},useSyncExternalStore:ay,useId:Ay,useHostTransitionStatus:pg,useFormState:yy,useActionState:yy,useOptimistic:function(s,l){var p=Ri();return Pn!==null?cy(p,Pn,s,l):(p.baseState=s,[s,p.queue.dispatch])},useMemoCache:ng,useCacheRefresh:wy},kl=null,qf=0;function Yf(s){var l=qf;return qf+=1,kl===null&&(kl=[]),wd(kl,s,l)}function gc(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function Fd(s,l){throw l.$$typeof===g?Error(i(525)):(s=Object.prototype.toString.call(l),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function Oy(s){var l=s._init;return l(s._payload)}function Ny(s){function l(me,ce){if(s){var be=me.deletions;be===null?(me.deletions=[ce],me.flags|=16):be.push(ce)}}function p(me,ce){if(!s)return null;for(;ce!==null;)l(me,ce),ce=ce.sibling;return null}function v(me){for(var ce=new Map;me!==null;)me.key!==null?ce.set(me.key,me):ce.set(me.index,me),me=me.sibling;return ce}function E(me,ce){return me=fi(me,ce),me.index=0,me.sibling=null,me}function w(me,ce,be){return me.index=be,s?(be=me.alternate,be!==null?(be=be.index,be<ce?(me.flags|=67108866,ce):be):(me.flags|=67108866,ce)):(me.flags|=1048576,ce)}function F(me){return s&&me.alternate===null&&(me.flags|=67108866),me}function $(me,ce,be,Ve){return ce===null||ce.tag!==6?(ce=Pf(be,me.mode,Ve),ce.return=me,ce):(ce=E(ce,be),ce.return=me,ce)}function ne(me,ce,be,Ve){var St=be.type;return St===_?ze(me,ce,be.props.children,Ve,be.key):ce!==null&&(ce.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===V&&Oy(St)===ce.type)?(ce=E(ce,be.props),gc(ce,be),ce.return=me,ce):(ce=Xi(be.type,be.key,be.props,null,me.mode,Ve),gc(ce,be),ce.return=me,ce)}function _e(me,ce,be,Ve){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==be.containerInfo||ce.stateNode.implementation!==be.implementation?(ce=xd(be,me.mode,Ve),ce.return=me,ce):(ce=E(ce,be.children||[]),ce.return=me,ce)}function ze(me,ce,be,Ve,St){return ce===null||ce.tag!==7?(ce=jo(be,me.mode,Ve,St),ce.return=me,ce):(ce=E(ce,be),ce.return=me,ce)}function Ge(me,ce,be){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return ce=Pf(""+ce,me.mode,be),ce.return=me,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case y:return be=Xi(ce.type,ce.key,ce.props,null,me.mode,be),gc(be,ce),be.return=me,be;case b:return ce=xd(ce,me.mode,be),ce.return=me,ce;case V:var Ve=ce._init;return ce=Ve(ce._payload),Ge(me,ce,be)}if(de(ce)||oe(ce))return ce=jo(ce,me.mode,be,null),ce.return=me,ce;if(typeof ce.then=="function")return Ge(me,Yf(ce),be);if(ce.$$typeof===D)return Ge(me,Bf(me,ce),be);Fd(me,ce)}return null}function Te(me,ce,be,Ve){var St=ce!==null?ce.key:null;if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return St!==null?null:$(me,ce,""+be,Ve);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case y:return be.key===St?ne(me,ce,be,Ve):null;case b:return be.key===St?_e(me,ce,be,Ve):null;case V:return St=be._init,be=St(be._payload),Te(me,ce,be,Ve)}if(de(be)||oe(be))return St!==null?null:ze(me,ce,be,Ve,null);if(typeof be.then=="function")return Te(me,ce,Yf(be),Ve);if(be.$$typeof===D)return Te(me,ce,Bf(me,be),Ve);Fd(me,be)}return null}function Re(me,ce,be,Ve,St){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return me=me.get(be)||null,$(ce,me,""+Ve,St);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case y:return me=me.get(Ve.key===null?be:Ve.key)||null,ne(ce,me,Ve,St);case b:return me=me.get(Ve.key===null?be:Ve.key)||null,_e(ce,me,Ve,St);case V:var mn=Ve._init;return Ve=mn(Ve._payload),Re(me,ce,be,Ve,St)}if(de(Ve)||oe(Ve))return me=me.get(be)||null,ze(ce,me,Ve,St,null);if(typeof Ve.then=="function")return Re(me,ce,be,Yf(Ve),St);if(Ve.$$typeof===D)return Re(me,ce,be,Bf(ce,Ve),St);Fd(ce,Ve)}return null}function $t(me,ce,be,Ve){for(var St=null,mn=null,Rt=ce,Vt=ce=0,vr=null;Rt!==null&&Vt<be.length;Vt++){Rt.index>Vt?(vr=Rt,Rt=null):vr=Rt.sibling;var On=Te(me,Rt,be[Vt],Ve);if(On===null){Rt===null&&(Rt=vr);break}s&&Rt&&On.alternate===null&&l(me,Rt),ce=w(On,ce,Vt),mn===null?St=On:mn.sibling=On,mn=On,Rt=vr}if(Vt===be.length)return p(me,Rt),_n&&so(me,Vt),St;if(Rt===null){for(;Vt<be.length;Vt++)Rt=Ge(me,be[Vt],Ve),Rt!==null&&(ce=w(Rt,ce,Vt),mn===null?St=Rt:mn.sibling=Rt,mn=Rt);return _n&&so(me,Vt),St}for(Rt=v(Rt);Vt<be.length;Vt++)vr=Re(Rt,me,Vt,be[Vt],Ve),vr!==null&&(s&&vr.alternate!==null&&Rt.delete(vr.key===null?Vt:vr.key),ce=w(vr,ce,Vt),mn===null?St=vr:mn.sibling=vr,mn=vr);return s&&Rt.forEach(function(Pc){return l(me,Pc)}),_n&&so(me,Vt),St}function Ft(me,ce,be,Ve){if(be==null)throw Error(i(151));for(var St=null,mn=null,Rt=ce,Vt=ce=0,vr=null,On=be.next();Rt!==null&&!On.done;Vt++,On=be.next()){Rt.index>Vt?(vr=Rt,Rt=null):vr=Rt.sibling;var Pc=Te(me,Rt,On.value,Ve);if(Pc===null){Rt===null&&(Rt=vr);break}s&&Rt&&Pc.alternate===null&&l(me,Rt),ce=w(Pc,ce,Vt),mn===null?St=Pc:mn.sibling=Pc,mn=Pc,Rt=vr}if(On.done)return p(me,Rt),_n&&so(me,Vt),St;if(Rt===null){for(;!On.done;Vt++,On=be.next())On=Ge(me,On.value,Ve),On!==null&&(ce=w(On,ce,Vt),mn===null?St=On:mn.sibling=On,mn=On);return _n&&so(me,Vt),St}for(Rt=v(Rt);!On.done;Vt++,On=be.next())On=Re(Rt,me,Vt,On.value,Ve),On!==null&&(s&&On.alternate!==null&&Rt.delete(On.key===null?Vt:On.key),ce=w(On,ce,Vt),mn===null?St=On:mn.sibling=On,mn=On);return s&&Rt.forEach(function(C4){return l(me,C4)}),_n&&so(me,Vt),St}function qn(me,ce,be,Ve){if(typeof be=="object"&&be!==null&&be.type===_&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case y:e:{for(var St=be.key;ce!==null;){if(ce.key===St){if(St=be.type,St===_){if(ce.tag===7){p(me,ce.sibling),Ve=E(ce,be.props.children),Ve.return=me,me=Ve;break e}}else if(ce.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===V&&Oy(St)===ce.type){p(me,ce.sibling),Ve=E(ce,be.props),gc(Ve,be),Ve.return=me,me=Ve;break e}p(me,ce);break}else l(me,ce);ce=ce.sibling}be.type===_?(Ve=jo(be.props.children,me.mode,Ve,be.key),Ve.return=me,me=Ve):(Ve=Xi(be.type,be.key,be.props,null,me.mode,Ve),gc(Ve,be),Ve.return=me,me=Ve)}return F(me);case b:e:{for(St=be.key;ce!==null;){if(ce.key===St)if(ce.tag===4&&ce.stateNode.containerInfo===be.containerInfo&&ce.stateNode.implementation===be.implementation){p(me,ce.sibling),Ve=E(ce,be.children||[]),Ve.return=me,me=Ve;break e}else{p(me,ce);break}else l(me,ce);ce=ce.sibling}Ve=xd(be,me.mode,Ve),Ve.return=me,me=Ve}return F(me);case V:return St=be._init,be=St(be._payload),qn(me,ce,be,Ve)}if(de(be))return $t(me,ce,be,Ve);if(oe(be)){if(St=oe(be),typeof St!="function")throw Error(i(150));return be=St.call(be),Ft(me,ce,be,Ve)}if(typeof be.then=="function")return qn(me,ce,Yf(be),Ve);if(be.$$typeof===D)return qn(me,ce,Bf(me,be),Ve);Fd(me,be)}return typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint"?(be=""+be,ce!==null&&ce.tag===6?(p(me,ce.sibling),Ve=E(ce,be),Ve.return=me,me=Ve):(p(me,ce),Ve=Pf(be,me.mode,Ve),Ve.return=me,me=Ve),F(me)):p(me,ce)}return function(me,ce,be,Ve){try{qf=0;var St=qn(me,ce,be,Ve);return kl=null,St}catch(Rt){if(Rt===Hf||Rt===ns)throw Rt;var mn=Fr(29,Rt,null,me.mode);return mn.lanes=Ve,mn.return=me,mn}finally{}}}var Gl=Ny(!0),Py=Ny(!1),In=te(null),rs=null;function el(s){var l=s.alternate;ye(di,di.current&1),ye(In,s),rs===null&&(l===null||hc.current!==null||l.memoizedState!==null)&&(rs=s)}function Ly(s){if(s.tag===22){if(ye(di,di.current),ye(In,s),rs===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&(rs=s)}}else tl()}function tl(){ye(di,di.current),ye(In,In.current)}function Ms(s){Se(In),rs===s&&(rs=null),Se(di)}var di=te(0);function mo(s){for(var l=s;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||d1(p)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function nl(s,l,p,v){l=s.memoizedState,p=p(v,l),p=p==null?l:m({},l,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var wr={enqueueSetState:function(s,l,p){s=s._reactInternals;var v=ui(),E=Es(v);E.payload=l,p!=null&&(E.callback=p),l=co(s,E,v),l!==null&&(Rr(l,s,v),Hl(l,s,v))},enqueueReplaceState:function(s,l,p){s=s._reactInternals;var v=ui(),E=Es(v);E.tag=1,E.payload=l,p!=null&&(E.callback=p),l=co(s,E,v),l!==null&&(Rr(l,s,v),Hl(l,s,v))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var p=ui(),v=Es(p);v.tag=2,l!=null&&(v.callback=l),l=co(s,v,p),l!==null&&(Rr(l,s,p),Hl(l,s,p))}};function Uy(s,l,p,v,E,w,F){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,w,F):l.prototype&&l.prototype.isPureReactComponent?!es(p,v)||!es(E,w):!0}function zy(s,l,p,v){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,v),l.state!==s&&wr.enqueueReplaceState(l,l.state,null)}function Ts(s,l){var p=l;if("ref"in l){p={};for(var v in l)v!=="ref"&&(p[v]=l[v])}if(s=s.defaultProps){p===l&&(p=m({},p));for(var E in s)p[E]===void 0&&(p[E]=s[E])}return p}var $l=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Kf(s){$l(s)}function Vd(s){console.error(s)}function By(s){$l(s)}function Hd(s,l){try{var p=s.onUncaughtError;p(l.value,{componentStack:l.stack})}catch(v){setTimeout(function(){throw v})}}function Na(s,l,p){try{var v=s.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function kd(s,l,p){return p=Es(p),p.tag=3,p.payload={element:null},p.callback=function(){Hd(s,l)},p}function Iy(s){return s=Es(s),s.tag=3,s}function Gd(s,l,p,v){var E=p.type.getDerivedStateFromError;if(typeof E=="function"){var w=v.value;s.payload=function(){return E(w)},s.callback=function(){Na(l,p,v)}}var F=p.stateNode;F!==null&&typeof F.componentDidCatch=="function"&&(s.callback=function(){Na(l,p,v),typeof E!="function"&&(da===null?da=new Set([this]):da.add(this));var $=v.stack;this.componentDidCatch(v.value,{componentStack:$!==null?$:""})})}function JS(s,l,p,v,E){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(l=p.alternate,l!==null&&Ca(l,p,E,!0),p=In.current,p!==null){switch(p.tag){case 13:return rs===null?c():p.alternate===null&&Zn===0&&(Zn=3),p.flags&=-257,p.flags|=65536,p.lanes=E,v===kf?p.flags|=16384:(l=p.updateQueue,l===null?p.updateQueue=new Set([v]):l.add(v),De(s,v,E)),!1;case 22:return p.flags|=65536,v===kf?p.flags|=16384:(l=p.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=l):(p=l.retryQueue,p===null?l.retryQueue=new Set([v]):p.add(v)),De(s,v,E)),!1}throw Error(i(435,p.tag))}return De(s,v,E),c(),!1}if(_n)return l=In.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=E,v!==_d&&(s=Error(i(422),{cause:v}),Vl(rr(s,p)))):(v!==_d&&(l=Error(i(423),{cause:v}),Vl(rr(l,p))),s=s.current.alternate,s.flags|=65536,E&=-E,s.lanes|=E,v=rr(v,p),E=kd(s.stateNode,v,E),uc(s,E),Zn!==4&&(Zn=2)),!1;var w=Error(i(520),{cause:v});if(w=rr(w,p),Dn===null?Dn=[w]:Dn.push(w),Zn!==4&&(Zn=2),l===null)return!0;v=rr(v,p),p=l;do{switch(p.tag){case 3:return p.flags|=65536,s=E&-E,p.lanes|=s,s=kd(p.stateNode,v,s),uc(p,s),!1;case 1:if(l=p.type,w=p.stateNode,(p.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(da===null||!da.has(w))))return p.flags|=65536,E&=-E,p.lanes|=E,E=Iy(E),Gd(E,s,p,v),uc(p,E),!1}p=p.return}while(p!==null);return!1}var Fy=Error(i(461)),Wi=!1;function pi(s,l,p,v){l.child=s===null?Py(l,null,p,v):Gl(l,s.child,p,v)}function Hr(s,l,p,v,E){p=p.render;var w=l.ref;if("ref"in v){var F={};for(var $ in v)$!=="ref"&&(F[$]=v[$])}else F=v;return Ss(l),v=ho(s,l,p,F,w,E),$=eg(),s!==null&&!Wi?(Dd(s,l,E),qi(s,l,E)):(_n&&$&&Gm(l),l.flags|=1,pi(s,l,v,E),l.child)}function kr(s,l,p,v,E){if(s===null){var w=p.type;return typeof w=="function"&&!Nf(w)&&w.defaultProps===void 0&&p.compare===null?(l.tag=15,l.type=w,gg(s,l,w,v,E)):(s=Xi(p.type,null,v,l,l.mode,E),s.ref=l.ref,s.return=l,l.child=s)}if(w=s.child,!Zf(s,E)){var F=w.memoizedProps;if(p=p.compare,p=p!==null?p:es,p(F,v)&&s.ref===l.ref)return qi(s,l,E)}return l.flags|=1,s=fi(w,v),s.ref=l.ref,s.return=l,l.child=s}function gg(s,l,p,v,E){if(s!==null){var w=s.memoizedProps;if(es(w,v)&&s.ref===l.ref)if(Wi=!1,l.pendingProps=v=w,Zf(s,E))(s.flags&131072)!==0&&(Wi=!0);else return l.lanes=s.lanes,qi(s,l,E)}return vc(s,l,p,v,E)}function jl(s,l,p){var v=l.pendingProps,E=v.children,w=s!==null?s.memoizedState:null;if(v.mode==="hidden"){if((l.flags&128)!==0){if(v=w!==null?w.baseLanes|p:p,s!==null){for(E=l.child=s.child,w=0;E!==null;)w=w|E.lanes|E.childLanes,E=E.sibling;l.childLanes=w&~v}else l.childLanes=0,l.child=null;return Xl(s,l,v,p)}if((p&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&Vf(l,w!==null?w.cachePool:null),w!==null?ty(l,w):Jm(),Ly(l);else return l.lanes=l.childLanes=536870912,Xl(s,l,w!==null?w.baseLanes|p:p,p)}else w!==null?(Vf(l,w.cachePool),ty(l,w),tl(),l.memoizedState=null):(s!==null&&Vf(l,null),Jm(),tl());return pi(s,l,E,p),l.child}function Xl(s,l,p,v){var E=Ko();return E=E===null?null:{parent:wi._currentValue,pool:E},l.memoizedState={baseLanes:p,cachePool:E},s!==null&&Vf(l,null),Jm(),Ly(l),s!==null&&Ca(s,l,v,!0),null}function Wl(s,l){var p=l.ref;if(p===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(i(284));(s===null||s.ref!==p)&&(l.flags|=4194816)}}function vc(s,l,p,v,E){return Ss(l),p=ho(s,l,p,v,void 0,E),v=eg(),s!==null&&!Wi?(Dd(s,l,E),qi(s,l,E)):(_n&&v&&Gm(l),l.flags|=1,pi(s,l,p,E),l.child)}function sa(s,l,p,v,E,w){return Ss(l),l.updateQueue=null,p=ry(l,v,p,E),iy(s),v=eg(),s!==null&&!Wi?(Dd(s,l,w),qi(s,l,w)):(_n&&v&&Gm(l),l.flags|=1,pi(s,l,p,w),l.child)}function oa(s,l,p,v,E){if(Ss(l),l.stateNode===null){var w=$o,F=p.contextType;typeof F=="object"&&F!==null&&(w=si(F)),w=new p(v,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=wr,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=v,w.state=l.memoizedState,w.refs={},Zm(l),F=p.contextType,w.context=typeof F=="object"&&F!==null?si(F):$o,w.state=l.memoizedState,F=p.getDerivedStateFromProps,typeof F=="function"&&(nl(l,p,F,v),w.state=l.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(F=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),F!==w.state&&wr.enqueueReplaceState(w,w.state,null),cc(l,v,w,E),Gf(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),v=!0}else if(s===null){w=l.stateNode;var $=l.memoizedProps,ne=Ts(p,$);w.props=ne;var _e=w.context,ze=p.contextType;F=$o,typeof ze=="object"&&ze!==null&&(F=si(ze));var Ge=p.getDerivedStateFromProps;ze=typeof Ge=="function"||typeof w.getSnapshotBeforeUpdate=="function",$=l.pendingProps!==$,ze||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||($||_e!==F)&&zy(l,w,v,F),uo=!1;var Te=l.memoizedState;w.state=Te,cc(l,v,w,E),Gf(),_e=l.memoizedState,$||Te!==_e||uo?(typeof Ge=="function"&&(nl(l,p,Ge,v),_e=l.memoizedState),(ne=uo||Uy(l,p,ne,v,Te,_e,F))?(ze||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=_e),w.props=v,w.state=_e,w.context=F,v=ne):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{w=l.stateNode,Ht(s,l),F=l.memoizedProps,ze=Ts(p,F),w.props=ze,Ge=l.pendingProps,Te=w.context,_e=p.contextType,ne=$o,typeof _e=="object"&&_e!==null&&(ne=si(_e)),$=p.getDerivedStateFromProps,(_e=typeof $=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(F!==Ge||Te!==ne)&&zy(l,w,v,ne),uo=!1,Te=l.memoizedState,w.state=Te,cc(l,v,w,E),Gf();var Re=l.memoizedState;F!==Ge||Te!==Re||uo||s!==null&&s.dependencies!==null&&zf(s.dependencies)?(typeof $=="function"&&(nl(l,p,$,v),Re=l.memoizedState),(ze=uo||Uy(l,p,ze,v,Te,Re,ne)||s!==null&&s.dependencies!==null&&zf(s.dependencies))?(_e||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(v,Re,ne),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(v,Re,ne)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||F===s.memoizedProps&&Te===s.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&Te===s.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=Re),w.props=v,w.state=Re,w.context=ne,v=ze):(typeof w.componentDidUpdate!="function"||F===s.memoizedProps&&Te===s.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&Te===s.memoizedState||(l.flags|=1024),v=!1)}return w=v,Wl(s,l),v=(l.flags&128)!==0,w||v?(w=l.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,s!==null&&v?(l.child=Gl(l,s.child,null,E),l.child=Gl(l,null,p,E)):pi(s,l,p,E),l.memoizedState=w.state,s=l.child):s=qi(s,l,E),s}function il(s,l,p,v){return rc(),l.flags|=256,pi(s,l,p,v),l.child}var as={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ss(s){return{baseLanes:s,cachePool:Td()}}function Bi(s,l,p){return s=s!==null?s.childLanes&~p:0,l&&(s|=Ba),s}function yc(s,l,p){var v=l.pendingProps,E=!1,w=(l.flags&128)!==0,F;if((F=w)||(F=s!==null&&s.memoizedState===null?!1:(di.current&2)!==0),F&&(E=!0,l.flags&=-129),F=(l.flags&32)!==0,l.flags&=-33,s===null){if(_n){if(E?el(l):tl(),_n){var $=ri,ne;if(ne=$){e:{for(ne=$,$=ia;ne.nodeType!==8;){if(!$){$=null;break e}if(ne=_o(ne.nextSibling),ne===null){$=null;break e}}$=ne}$!==null?(l.memoizedState={dehydrated:$,treeContext:Xo!==null?{id:bs,overflow:_s}:null,retryLane:536870912,hydrationErrors:null},ne=Fr(18,null,null,0),ne.stateNode=$,ne.return=l,l.child=ne,Mr=l,ri=null,ne=!0):ne=!1}ne||Wo(l)}if($=l.memoizedState,$!==null&&($=$.dehydrated,$!==null))return d1($)?l.lanes=32:l.lanes=536870912,null;Ms(l)}return $=v.children,v=v.fallback,E?(tl(),E=l.mode,$=ql({mode:"hidden",children:$},E),v=jo(v,E,p,null),$.return=l,v.return=l,$.sibling=v,l.child=$,E=l.child,E.memoizedState=ss(p),E.childLanes=Bi(s,F,p),l.memoizedState=as,v):(el(l),As(l,$))}if(ne=s.memoizedState,ne!==null&&($=ne.dehydrated,$!==null)){if(w)l.flags&256?(el(l),l.flags&=-257,l=or(s,l,p)):l.memoizedState!==null?(tl(),l.child=s.child,l.flags|=128,l=null):(tl(),E=v.fallback,$=l.mode,v=ql({mode:"visible",children:v.children},$),E=jo(E,$,p,null),E.flags|=2,v.return=l,E.return=l,v.sibling=E,l.child=v,Gl(l,s.child,null,p),v=l.child,v.memoizedState=ss(p),v.childLanes=Bi(s,F,p),l.memoizedState=as,l=E);else if(el(l),d1($)){if(F=$.nextSibling&&$.nextSibling.dataset,F)var _e=F.dgst;F=_e,v=Error(i(419)),v.stack="",v.digest=F,Vl({value:v,source:null,stack:null}),l=or(s,l,p)}else if(Wi||Ca(s,l,p,!1),F=(p&s.childLanes)!==0,Wi||F){if(F=Xt,F!==null&&(v=p&-p,v=(v&42)!==0?1:Tt(v),v=(v&(F.suspendedLanes|p))!==0?0:v,v!==0&&v!==ne.retryLane))throw ne.retryLane=v,ao(s,v),Rr(F,s,v),Fy;$.data==="$?"||c(),l=or(s,l,p)}else $.data==="$?"?(l.flags|=192,l.child=s.child,l=null):(s=ne.treeContext,ri=_o($.nextSibling),Mr=l,_n=!0,wa=null,ia=!1,s!==null&&(ar[na++]=bs,ar[na++]=_s,ar[na++]=Xo,bs=s.id,_s=s.overflow,Xo=l),l=As(l,v.children),l.flags|=4096);return l}return E?(tl(),E=v.fallback,$=l.mode,ne=s.child,_e=ne.sibling,v=fi(ne,{mode:"hidden",children:v.children}),v.subtreeFlags=ne.subtreeFlags&65011712,_e!==null?E=fi(_e,E):(E=jo(E,$,p,null),E.flags|=2),E.return=l,v.return=l,v.sibling=E,l.child=v,v=E,E=l.child,$=s.child.memoizedState,$===null?$=ss(p):(ne=$.cachePool,ne!==null?(_e=wi._currentValue,ne=ne.parent!==_e?{parent:_e,pool:_e}:ne):ne=Td(),$={baseLanes:$.baseLanes|p,cachePool:ne}),E.memoizedState=$,E.childLanes=Bi(s,F,p),l.memoizedState=as,v):(el(l),p=s.child,s=p.sibling,p=fi(p,{mode:"visible",children:v.children}),p.return=l,p.sibling=null,s!==null&&(F=l.deletions,F===null?(l.deletions=[s],l.flags|=16):F.push(s)),l.child=p,l.memoizedState=null,p)}function As(s,l){return l=ql({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function ql(s,l){return s=Fr(22,s,null,l),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function or(s,l,p){return Gl(l,s.child,null,p),s=As(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function lr(s,l,p){s.lanes|=l;var v=s.alternate;v!==null&&(v.lanes|=l),Wm(s.return,l,p)}function vn(s,l,p,v,E){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:E}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=v,w.tail=p,w.tailMode=E)}function Pa(s,l,p){var v=l.pendingProps,E=v.revealOrder,w=v.tail;if(pi(s,l,v.children,p),v=di.current,(v&2)!==0)v=v&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&lr(s,p,l);else if(s.tag===19)lr(s,p,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}v&=1}switch(ye(di,v),E){case"forwards":for(p=l.child,E=null;p!==null;)s=p.alternate,s!==null&&mo(s)===null&&(E=p),p=p.sibling;p=E,p===null?(E=l.child,l.child=null):(E=p.sibling,p.sibling=null),vn(l,!1,E,p,w);break;case"backwards":for(p=null,E=l.child,l.child=null;E!==null;){if(s=E.alternate,s!==null&&mo(s)===null){l.child=E;break}s=E.sibling,E.sibling=p,p=E,E=s}vn(l,!0,p,null,w);break;case"together":vn(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function qi(s,l,p){if(s!==null&&(l.dependencies=s.dependencies),cs|=l.lanes,(p&l.childLanes)===0)if(s!==null){if(Ca(s,l,p,!1),(p&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(i(153));if(l.child!==null){for(s=l.child,p=fi(s,s.pendingProps),l.child=p,p.return=l;s.sibling!==null;)s=s.sibling,p=p.sibling=fi(s,s.pendingProps),p.return=l;p.sibling=null}return l.child}function Zf(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&zf(s)))}function La(s,l,p){switch(l.tag){case 3:Xe(l,l.stateNode.containerInfo),Yo(l,wi,s.memoizedState.cache),rc();break;case 27:case 5:bt(l);break;case 4:Xe(l,l.stateNode.containerInfo);break;case 10:Yo(l,l.type,l.memoizedProps.value);break;case 13:var v=l.memoizedState;if(v!==null)return v.dehydrated!==null?(el(l),l.flags|=128,null):(p&l.child.childLanes)!==0?yc(s,l,p):(el(l),s=qi(s,l,p),s!==null?s.sibling:null);el(l);break;case 19:var E=(s.flags&128)!==0;if(v=(p&l.childLanes)!==0,v||(Ca(s,l,p,!1),v=(p&l.childLanes)!==0),E){if(v)return Pa(s,l,p);l.flags|=128}if(E=l.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),ye(di,di.current),v)break;return null;case 22:case 23:return l.lanes=0,jl(s,l,p);case 24:Yo(l,wi,s.memoizedState.cache)}return qi(s,l,p)}function Yl(s,l,p){if(s!==null)if(s.memoizedProps!==l.pendingProps)Wi=!0;else{if(!Zf(s,p)&&(l.flags&128)===0)return Wi=!1,La(s,l,p);Wi=(s.flags&131072)!==0}else Wi=!1,_n&&(l.flags&1048576)!==0&&bd(l,ic,l.index);switch(l.lanes=0,l.tag){case 16:e:{s=l.pendingProps;var v=l.elementType,E=v._init;if(v=E(v._payload),l.type=v,typeof v=="function")Nf(v)?(s=Ts(v,s),l.tag=1,l=oa(null,l,v,s,p)):(l.tag=0,l=vc(null,l,v,s,p));else{if(v!=null){if(E=v.$$typeof,E===N){l.tag=11,l=Hr(null,l,v,s,p);break e}else if(E===I){l.tag=14,l=kr(null,l,v,s,p);break e}}throw l=he(v)||v,Error(i(306,l,""))}}return l;case 0:return vc(s,l,l.type,l.pendingProps,p);case 1:return v=l.type,E=Ts(v,l.pendingProps),oa(s,l,v,E,p);case 3:e:{if(Xe(l,l.stateNode.containerInfo),s===null)throw Error(i(387));v=l.pendingProps;var w=l.memoizedState;E=w.element,Ht(s,l),cc(l,v,null,p);var F=l.memoizedState;if(v=F.cache,Yo(l,wi,v),v!==w.cache&&Uf(l,[wi],p,!0),Gf(),v=F.element,w.isDehydrated)if(w={element:v,isDehydrated:!1,cache:F.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=il(s,l,v,p);break e}else if(v!==E){E=rr(Error(i(424)),l),Vl(E),l=il(s,l,v,p);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ri=_o(s.firstChild),Mr=l,_n=!0,wa=null,ia=!0,p=Py(l,null,v,p),l.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(rc(),v===E){l=qi(s,l,p);break e}pi(s,l,v,p)}l=l.child}return l;case 26:return Wl(s,l),s===null?(p=AC(l.type,null,l.pendingProps,null))?l.memoizedState=p:_n||(p=l.type,s=l.pendingProps,v=jy(Be.current).createElement(p),v[Mi]=l,v[Li]=s,Dr(v,p,s),Ti(v),l.stateNode=v):l.memoizedState=AC(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return bt(l),s===null&&_n&&(v=l.stateNode=EC(l.type,l.pendingProps,Be.current),Mr=l,ia=!0,E=ri,Cc(l.type)?(p1=E,ri=_o(v.firstChild)):ri=E),pi(s,l,l.pendingProps.children,p),Wl(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&_n&&((E=v=ri)&&(v=i4(v,l.type,l.pendingProps,ia),v!==null?(l.stateNode=v,Mr=l,ri=_o(v.firstChild),ia=!1,E=!0):E=!1),E||Wo(l)),bt(l),E=l.type,w=l.pendingProps,F=s!==null?s.memoizedProps:null,v=w.children,c1(E,w)?v=null:F!==null&&c1(E,F)&&(l.flags|=32),l.memoizedState!==null&&(E=ho(s,l,WS,null,null,p),wg._currentValue=E),Wl(s,l),pi(s,l,v,p),l.child;case 6:return s===null&&_n&&((s=p=ri)&&(p=r4(p,l.pendingProps,ia),p!==null?(l.stateNode=p,Mr=l,ri=null,s=!0):s=!1),s||Wo(l)),null;case 13:return yc(s,l,p);case 4:return Xe(l,l.stateNode.containerInfo),v=l.pendingProps,s===null?l.child=Gl(l,null,v,p):pi(s,l,v,p),l.child;case 11:return Hr(s,l,l.type,l.pendingProps,p);case 7:return pi(s,l,l.pendingProps,p),l.child;case 8:return pi(s,l,l.pendingProps.children,p),l.child;case 12:return pi(s,l,l.pendingProps.children,p),l.child;case 10:return v=l.pendingProps,Yo(l,l.type,v.value),pi(s,l,v.children,p),l.child;case 9:return E=l.type._context,v=l.pendingProps.children,Ss(l),E=si(E),v=v(E),l.flags|=1,pi(s,l,v,p),l.child;case 14:return kr(s,l,l.type,l.pendingProps,p);case 15:return gg(s,l,l.type,l.pendingProps,p);case 19:return Pa(s,l,p);case 31:return v=l.pendingProps,p=l.mode,v={mode:v.mode,children:v.children},s===null?(p=ql(v,p),p.ref=l.ref,l.child=p,p.return=l,l=p):(p=fi(s.child,v),p.ref=l.ref,l.child=p,p.return=l,l=p),l;case 22:return jl(s,l,p);case 24:return Ss(l),v=si(wi),s===null?(E=Ko(),E===null&&(E=Xt,w=Ed(),E.pooledCache=w,w.refCount++,w!==null&&(E.pooledCacheLanes|=p),E=w),l.memoizedState={parent:v,cache:E},Zm(l),Yo(l,wi,E)):((s.lanes&p)!==0&&(Ht(s,l),cc(l,null,null,p),Gf()),E=s.memoizedState,w=l.memoizedState,E.parent!==v?(E={parent:v,cache:v},l.memoizedState=E,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=E),Yo(l,wi,v)):(v=w.cache,Yo(l,wi,v),v!==E.cache&&Uf(l,[wi],p,!0))),pi(s,l,l.pendingProps.children,p),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function os(s){s.flags|=4}function Qf(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!OC(l)){if(l=In.current,l!==null&&((Nt&4194048)===Nt?rs!==null:(Nt&62914560)!==Nt&&(Nt&536870912)===0||l!==rs))throw Da=kf,Ym;s.flags|=8192}}function go(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Je():536870912,s.lanes|=l,xn|=l)}function Kl(s,l){if(!_n)switch(s.tailMode){case"hidden":l=s.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function $n(s){var l=s.alternate!==null&&s.alternate.child===s.child,p=0,v=0;if(l)for(var E=s.child;E!==null;)p|=E.lanes|E.childLanes,v|=E.subtreeFlags&65011712,v|=E.flags&65011712,E.return=s,E=E.sibling;else for(E=s.child;E!==null;)p|=E.lanes|E.childLanes,v|=E.subtreeFlags,v|=E.flags,E.return=s,E=E.sibling;return s.subtreeFlags|=v,s.childLanes=p,l}function vg(s,l,p){var v=l.pendingProps;switch($m(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(l),null;case 1:return $n(l),null;case 3:return p=l.stateNode,v=null,s!==null&&(v=s.memoizedState.cache),l.memoizedState.cache!==v&&(l.flags|=2048),lo(wi),gt(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(ts(l)?os(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Cn())),$n(l),null;case 26:return p=l.memoizedState,s===null?(os(l),p!==null?($n(l),Qf(l,p)):($n(l),l.flags&=-16777217)):p?p!==s.memoizedState?(os(l),$n(l),Qf(l,p)):($n(l),l.flags&=-16777217):(s.memoizedProps!==v&&os(l),$n(l),l.flags&=-16777217),null;case 27:Zt(l),p=Be.current;var E=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==v&&os(l);else{if(!v){if(l.stateNode===null)throw Error(i(166));return $n(l),null}s=se.current,ts(l)?Zv(l):(s=EC(E,v,p),l.stateNode=s,os(l))}return $n(l),null;case 5:if(Zt(l),p=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==v&&os(l);else{if(!v){if(l.stateNode===null)throw Error(i(166));return $n(l),null}if(s=se.current,ts(l))Zv(l);else{switch(E=jy(Be.current),s){case 1:s=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:s=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":s=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":s=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof v.is=="string"?E.createElement("select",{is:v.is}):E.createElement("select"),v.multiple?s.multiple=!0:v.size&&(s.size=v.size);break;default:s=typeof v.is=="string"?E.createElement(p,{is:v.is}):E.createElement(p)}}s[Mi]=l,s[Li]=v;e:for(E=l.child;E!==null;){if(E.tag===5||E.tag===6)s.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===l)break e;for(;E.sibling===null;){if(E.return===null||E.return===l)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}l.stateNode=s;e:switch(Dr(s,p,v),p){case"button":case"input":case"select":case"textarea":s=!!v.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&os(l)}}return $n(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==v&&os(l);else{if(typeof v!="string"&&l.stateNode===null)throw Error(i(166));if(s=Be.current,ts(l)){if(s=l.stateNode,p=l.memoizedProps,v=null,E=Mr,E!==null)switch(E.tag){case 27:case 5:v=E.memoizedProps}s[Mi]=l,s=!!(s.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||gC(s.nodeValue,p)),s||Wo(l)}else s=jy(s).createTextNode(v),s[Mi]=l,l.stateNode=s}return $n(l),null;case 13:if(v=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(E=ts(l),v!==null&&v.dehydrated!==null){if(s===null){if(!E)throw Error(i(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(i(317));E[Mi]=l}else rc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;$n(l),E=!1}else E=Cn(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=E),E=!0;if(!E)return l.flags&256?(Ms(l),l):(Ms(l),null)}if(Ms(l),(l.flags&128)!==0)return l.lanes=p,l;if(p=v!==null,s=s!==null&&s.memoizedState!==null,p){v=l.child,E=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(E=v.alternate.memoizedState.cachePool.pool);var w=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(w=v.memoizedState.cachePool.pool),w!==E&&(v.flags|=2048)}return p!==s&&p&&(l.child.flags|=8192),go(l,l.updateQueue),$n(l),null;case 4:return gt(),s===null&&a1(l.stateNode.containerInfo),$n(l),null;case 10:return lo(l.type),$n(l),null;case 19:if(Se(di),E=l.memoizedState,E===null)return $n(l),null;if(v=(l.flags&128)!==0,w=E.rendering,w===null)if(v)Kl(E,!1);else{if(Zn!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(w=mo(s),w!==null){for(l.flags|=128,Kl(E,!1),s=w.updateQueue,l.updateQueue=s,go(l,s),l.subtreeFlags=0,s=p,p=l.child;p!==null;)km(p,s),p=p.sibling;return ye(di,di.current&1|2),l.child}s=s.sibling}E.tail!==null&&We()>mr&&(l.flags|=128,v=!0,Kl(E,!1),l.lanes=4194304)}else{if(!v)if(s=mo(w),s!==null){if(l.flags|=128,v=!0,s=s.updateQueue,l.updateQueue=s,go(l,s),Kl(E,!0),E.tail===null&&E.tailMode==="hidden"&&!w.alternate&&!_n)return $n(l),null}else 2*We()-E.renderingStartTime>mr&&p!==536870912&&(l.flags|=128,v=!0,Kl(E,!1),l.lanes=4194304);E.isBackwards?(w.sibling=l.child,l.child=w):(s=E.last,s!==null?s.sibling=w:l.child=w,E.last=w)}return E.tail!==null?(l=E.tail,E.rendering=l,E.tail=l.sibling,E.renderingStartTime=We(),l.sibling=null,s=di.current,ye(di,v?s&1|2:s&1),l):($n(l),null);case 22:case 23:return Ms(l),$f(),v=l.memoizedState!==null,s!==null?s.memoizedState!==null!==v&&(l.flags|=8192):v&&(l.flags|=8192),v?(p&536870912)!==0&&(l.flags&128)===0&&($n(l),l.subtreeFlags&6&&(l.flags|=8192)):$n(l),p=l.updateQueue,p!==null&&go(l,p.retryQueue),p=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),v=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),v!==p&&(l.flags|=2048),s!==null&&Se(Ra),null;case 24:return p=null,s!==null&&(p=s.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),lo(wi),$n(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function xc(s,l){switch($m(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return lo(wi),gt(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return Zt(l),null;case 13:if(Ms(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(i(340));rc()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return Se(di),null;case 4:return gt(),null;case 10:return lo(l.type),null;case 22:case 23:return Ms(l),$f(),s!==null&&Se(Ra),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return lo(wi),null;case 25:return null;default:return null}}function bc(s,l){switch($m(l),l.tag){case 3:lo(wi),gt();break;case 26:case 27:case 5:Zt(l);break;case 4:gt();break;case 13:Ms(l);break;case 19:Se(di);break;case 10:lo(l.type);break;case 22:case 23:Ms(l),$f(),s!==null&&Se(Ra);break;case 24:lo(wi)}}function Zl(s,l){try{var p=l.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var E=v.next;p=E;do{if((p.tag&s)===s){v=void 0;var w=p.create,F=p.inst;v=w(),F.destroy=v}p=p.next}while(p!==E)}}catch($){le(l,l.return,$)}}function la(s,l,p){try{var v=l.updateQueue,E=v!==null?v.lastEffect:null;if(E!==null){var w=E.next;v=w;do{if((v.tag&s)===s){var F=v.inst,$=F.destroy;if($!==void 0){F.destroy=void 0,E=l;var ne=p,_e=$;try{_e()}catch(ze){le(E,ne,ze)}}}v=v.next}while(v!==w)}}catch(ze){le(l,l.return,ze)}}function Ql(s){var l=s.updateQueue;if(l!==null){var p=s.stateNode;try{ey(l,p)}catch(v){le(s,s.return,v)}}}function vo(s,l,p){p.props=Ts(s.type,s.memoizedProps),p.state=s.memoizedState;try{p.componentWillUnmount()}catch(v){le(s,l,v)}}function Jl(s,l){try{var p=s.ref;if(p!==null){switch(s.tag){case 26:case 27:case 5:var v=s.stateNode;break;case 30:v=s.stateNode;break;default:v=s.stateNode}typeof p=="function"?s.refCleanup=p(v):p.current=v}}catch(E){le(s,l,E)}}function ws(s,l){var p=s.ref,v=s.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(E){le(s,l,E)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(E){le(s,l,E)}else p.current=null}function _c(s){var l=s.type,p=s.memoizedProps,v=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(E){le(s,s.return,E)}}function Jf(s,l,p){try{var v=s.stateNode;QI(v,s.type,p,l),v[Li]=l}catch(E){le(s,s.return,E)}}function eh(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Cc(s.type)||s.tag===4}function rl(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||eh(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Cc(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function al(s,l,p){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(s,l):(l=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,l.appendChild(s),p=p._reactRootContainer,p!=null||l.onclick!==null||(l.onclick=$y));else if(v!==4&&(v===27&&Cc(s.type)&&(p=s.stateNode,l=null),s=s.child,s!==null))for(al(s,l,p),s=s.sibling;s!==null;)al(s,l,p),s=s.sibling}function sl(s,l,p){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?p.insertBefore(s,l):p.appendChild(s);else if(v!==4&&(v===27&&Cc(s.type)&&(p=s.stateNode),s=s.child,s!==null))for(sl(s,l,p),s=s.sibling;s!==null;)sl(s,l,p),s=s.sibling}function ol(s){var l=s.stateNode,p=s.memoizedProps;try{for(var v=s.type,E=l.attributes;E.length;)l.removeAttributeNode(E[0]);Dr(l,v,p),l[Mi]=s,l[Li]=p}catch(w){le(s,s.return,w)}}var Cs=!1,jn=!1,Sc=!1,ua=typeof WeakSet=="function"?WeakSet:Set,Fn=null;function Ii(s,l){if(s=s.containerInfo,l1=Zy,s=Um(s),Cf(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var E=v.anchorOffset,w=v.focusNode;v=v.focusOffset;try{p.nodeType,w.nodeType}catch{p=null;break e}var F=0,$=-1,ne=-1,_e=0,ze=0,Ge=s,Te=null;t:for(;;){for(var Re;Ge!==p||E!==0&&Ge.nodeType!==3||($=F+E),Ge!==w||v!==0&&Ge.nodeType!==3||(ne=F+v),Ge.nodeType===3&&(F+=Ge.nodeValue.length),(Re=Ge.firstChild)!==null;)Te=Ge,Ge=Re;for(;;){if(Ge===s)break t;if(Te===p&&++_e===E&&($=F),Te===w&&++ze===v&&(ne=F),(Re=Ge.nextSibling)!==null)break;Ge=Te,Te=Ge.parentNode}Ge=Re}p=$===-1||ne===-1?null:{start:$,end:ne}}else p=null}p=p||{start:0,end:0}}else p=null;for(u1={focusedElem:s,selectionRange:p},Zy=!1,Fn=l;Fn!==null;)if(l=Fn,s=l.child,(l.subtreeFlags&1024)!==0&&s!==null)s.return=l,Fn=s;else for(;Fn!==null;){switch(l=Fn,w=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,p=l,E=w.memoizedProps,w=w.memoizedState,v=p.stateNode;try{var $t=Ts(p.type,E,p.elementType===p.type);s=v.getSnapshotBeforeUpdate($t,w),v.__reactInternalSnapshotBeforeUpdate=s}catch(Ft){le(p,p.return,Ft)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,p=s.nodeType,p===9)h1(s);else if(p===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":h1(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=l.sibling,s!==null){s.return=l.return,Fn=s;break}Fn=l.return}}function yo(s,l,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:Cr(s,p),v&4&&Zl(5,p);break;case 1:if(Cr(s,p),v&4)if(s=p.stateNode,l===null)try{s.componentDidMount()}catch(F){le(p,p.return,F)}else{var E=Ts(p.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(E,l,s.__reactInternalSnapshotBeforeUpdate)}catch(F){le(p,p.return,F)}}v&64&&Ql(p),v&512&&Jl(p,p.return);break;case 3:if(Cr(s,p),v&64&&(s=p.updateQueue,s!==null)){if(l=null,p.child!==null)switch(p.child.tag){case 27:case 5:l=p.child.stateNode;break;case 1:l=p.child.stateNode}try{ey(s,l)}catch(F){le(p,p.return,F)}}break;case 27:l===null&&v&4&&ol(p);case 26:case 5:Cr(s,p),l===null&&v&4&&_c(p),v&512&&Jl(p,p.return);break;case 12:Cr(s,p);break;case 13:Cr(s,p),v&4&&ll(s,p),v&64&&(s=p.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(p=Qn.bind(null,p),a4(s,p))));break;case 22:if(v=p.memoizedState!==null||Cs,!v){l=l!==null&&l.memoizedState!==null||jn,E=Cs;var w=jn;Cs=v,(jn=l)&&!w?Rs(s,p,(p.subtreeFlags&8772)!==0):Cr(s,p),Cs=E,jn=w}break;case 30:break;default:Cr(s,p)}}function an(s){var l=s.alternate;l!==null&&(s.alternate=null,an(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&Ln(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Lt=null,yn=!1;function Ua(s,l,p){for(p=p.child;p!==null;)eu(s,l,p),p=p.sibling}function eu(s,l,p){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(Me,p)}catch{}switch(p.tag){case 26:jn||ws(p,l),Ua(s,l,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:jn||ws(p,l);var v=Lt,E=yn;Cc(p.type)&&(Lt=p.stateNode,yn=!1),Ua(s,l,p),Eg(p.stateNode),Lt=v,yn=E;break;case 5:jn||ws(p,l);case 6:if(v=Lt,E=yn,Lt=null,Ua(s,l,p),Lt=v,yn=E,Lt!==null)if(yn)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(p.stateNode)}catch(w){le(p,l,w)}else try{Lt.removeChild(p.stateNode)}catch(w){le(p,l,w)}break;case 18:Lt!==null&&(yn?(s=Lt,_C(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,p.stateNode),Og(s)):_C(Lt,p.stateNode));break;case 4:v=Lt,E=yn,Lt=p.stateNode.containerInfo,yn=!0,Ua(s,l,p),Lt=v,yn=E;break;case 0:case 11:case 14:case 15:jn||la(2,p,l),jn||la(4,p,l),Ua(s,l,p);break;case 1:jn||(ws(p,l),v=p.stateNode,typeof v.componentWillUnmount=="function"&&vo(p,l,v)),Ua(s,l,p);break;case 21:Ua(s,l,p);break;case 22:jn=(v=jn)||p.memoizedState!==null,Ua(s,l,p),jn=v;break;default:Ua(s,l,p)}}function ll(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Og(s)}catch(p){le(l,l.return,p)}}function $d(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new ua),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new ua),l;default:throw Error(i(435,s.tag))}}function tu(s,l){var p=$d(s);l.forEach(function(v){var E=kt.bind(null,s,v);p.has(v)||(p.add(v),v.then(E,E))})}function Yi(s,l){var p=l.deletions;if(p!==null)for(var v=0;v<p.length;v++){var E=p[v],w=s,F=l,$=F;e:for(;$!==null;){switch($.tag){case 27:if(Cc($.type)){Lt=$.stateNode,yn=!1;break e}break;case 5:Lt=$.stateNode,yn=!1;break e;case 3:case 4:Lt=$.stateNode.containerInfo,yn=!0;break e}$=$.return}if(Lt===null)throw Error(i(160));eu(w,F,E),Lt=null,yn=!1,w=E.alternate,w!==null&&(w.return=null),E.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)jd(l,s),l=l.sibling}var ls=null;function jd(s,l){var p=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Yi(l,s),oi(s),v&4&&(la(3,s,s.return),Zl(3,s),la(5,s,s.return));break;case 1:Yi(l,s),oi(s),v&512&&(jn||p===null||ws(p,p.return)),v&64&&Cs&&(s=s.updateQueue,s!==null&&(v=s.callbacks,v!==null&&(p=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var E=ls;if(Yi(l,s),oi(s),v&512&&(jn||p===null||ws(p,p.return)),v&4){var w=p!==null?p.memoizedState:null;if(v=s.memoizedState,p===null)if(v===null)if(s.stateNode===null){e:{v=s.type,p=s.memoizedProps,E=E.ownerDocument||E;t:switch(v){case"title":w=E.getElementsByTagName("title")[0],(!w||w[Ka]||w[Mi]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=E.createElement(v),E.head.insertBefore(w,E.querySelector("head > title"))),Dr(w,v,p),w[Mi]=s,Ti(w),v=w;break e;case"link":var F=RC("link","href",E).get(v+(p.href||""));if(F){for(var $=0;$<F.length;$++)if(w=F[$],w.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&w.getAttribute("rel")===(p.rel==null?null:p.rel)&&w.getAttribute("title")===(p.title==null?null:p.title)&&w.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){F.splice($,1);break t}}w=E.createElement(v),Dr(w,v,p),E.head.appendChild(w);break;case"meta":if(F=RC("meta","content",E).get(v+(p.content||""))){for($=0;$<F.length;$++)if(w=F[$],w.getAttribute("content")===(p.content==null?null:""+p.content)&&w.getAttribute("name")===(p.name==null?null:p.name)&&w.getAttribute("property")===(p.property==null?null:p.property)&&w.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&w.getAttribute("charset")===(p.charSet==null?null:p.charSet)){F.splice($,1);break t}}w=E.createElement(v),Dr(w,v,p),E.head.appendChild(w);break;default:throw Error(i(468,v))}w[Mi]=s,Ti(w),v=w}s.stateNode=v}else DC(E,s.type,s.stateNode);else s.stateNode=CC(E,v,s.memoizedProps);else w!==v?(w===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):w.count--,v===null?DC(E,s.type,s.stateNode):CC(E,v,s.memoizedProps)):v===null&&s.stateNode!==null&&Jf(s,s.memoizedProps,p.memoizedProps)}break;case 27:Yi(l,s),oi(s),v&512&&(jn||p===null||ws(p,p.return)),p!==null&&v&4&&Jf(s,s.memoizedProps,p.memoizedProps);break;case 5:if(Yi(l,s),oi(s),v&512&&(jn||p===null||ws(p,p.return)),s.flags&32){E=s.stateNode;try{_r(E,"")}catch(Re){le(s,s.return,Re)}}v&4&&s.stateNode!=null&&(E=s.memoizedProps,Jf(s,E,p!==null?p.memoizedProps:E)),v&1024&&(Sc=!0);break;case 6:if(Yi(l,s),oi(s),v&4){if(s.stateNode===null)throw Error(i(162));v=s.memoizedProps,p=s.stateNode;try{p.nodeValue=v}catch(Re){le(s,s.return,Re)}}break;case 3:if(qy=null,E=ls,ls=Xy(l.containerInfo),Yi(l,s),ls=E,oi(s),v&4&&p!==null&&p.memoizedState.isDehydrated)try{Og(l.containerInfo)}catch(Re){le(s,s.return,Re)}Sc&&(Sc=!1,ul(s));break;case 4:v=ls,ls=Xy(s.stateNode.containerInfo),Yi(l,s),oi(s),ls=v;break;case 12:Yi(l,s),oi(s);break;case 13:Yi(l,s),oi(s),s.child.flags&8192&&s.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(zn=We()),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,tu(s,v)));break;case 22:E=s.memoizedState!==null;var ne=p!==null&&p.memoizedState!==null,_e=Cs,ze=jn;if(Cs=_e||E,jn=ze||ne,Yi(l,s),jn=ze,Cs=_e,oi(s),v&8192)e:for(l=s.stateNode,l._visibility=E?l._visibility&-2:l._visibility|1,E&&(p===null||ne||Cs||jn||ca(s)),p=null,l=s;;){if(l.tag===5||l.tag===26){if(p===null){ne=p=l;try{if(w=ne.stateNode,E)F=w.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none";else{$=ne.stateNode;var Ge=ne.memoizedProps.style,Te=Ge!=null&&Ge.hasOwnProperty("display")?Ge.display:null;$.style.display=Te==null||typeof Te=="boolean"?"":(""+Te).trim()}}catch(Re){le(ne,ne.return,Re)}}}else if(l.tag===6){if(p===null){ne=l;try{ne.stateNode.nodeValue=E?"":ne.memoizedProps}catch(Re){le(ne,ne.return,Re)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;p===l&&(p=null),l=l.return}p===l&&(p=null),l.sibling.return=l.return,l=l.sibling}v&4&&(v=s.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,tu(s,p))));break;case 19:Yi(l,s),oi(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,tu(s,v)));break;case 30:break;case 21:break;default:Yi(l,s),oi(s)}}function oi(s){var l=s.flags;if(l&2){try{for(var p,v=s.return;v!==null;){if(eh(v)){p=v;break}v=v.return}if(p==null)throw Error(i(160));switch(p.tag){case 27:var E=p.stateNode,w=rl(s);sl(s,w,E);break;case 5:var F=p.stateNode;p.flags&32&&(_r(F,""),p.flags&=-33);var $=rl(s);sl(s,$,F);break;case 3:case 4:var ne=p.stateNode.containerInfo,_e=rl(s);al(s,_e,ne);break;default:throw Error(i(161))}}catch(ze){le(s,s.return,ze)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function ul(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;ul(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Cr(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)yo(s,l.alternate,l),l=l.sibling}function ca(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:la(4,l,l.return),ca(l);break;case 1:ws(l,l.return);var p=l.stateNode;typeof p.componentWillUnmount=="function"&&vo(l,l.return,p),ca(l);break;case 27:Eg(l.stateNode);case 26:case 5:ws(l,l.return),ca(l);break;case 22:l.memoizedState===null&&ca(l);break;case 30:ca(l);break;default:ca(l)}s=s.sibling}}function Rs(s,l,p){for(p=p&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var v=l.alternate,E=s,w=l,F=w.flags;switch(w.tag){case 0:case 11:case 15:Rs(E,w,p),Zl(4,w);break;case 1:if(Rs(E,w,p),v=w,E=v.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(_e){le(v,v.return,_e)}if(v=w,E=v.updateQueue,E!==null){var $=v.stateNode;try{var ne=E.shared.hiddenCallbacks;if(ne!==null)for(E.shared.hiddenCallbacks=null,E=0;E<ne.length;E++)fc(ne[E],$)}catch(_e){le(v,v.return,_e)}}p&&F&64&&Ql(w),Jl(w,w.return);break;case 27:ol(w);case 26:case 5:Rs(E,w,p),p&&v===null&&F&4&&_c(w),Jl(w,w.return);break;case 12:Rs(E,w,p);break;case 13:Rs(E,w,p),p&&F&4&&ll(E,w);break;case 22:w.memoizedState===null&&Rs(E,w,p),Jl(w,w.return);break;case 30:break;default:Rs(E,w,p)}l=l.sibling}}function Xd(s,l){var p=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==p&&(s!=null&&s.refCount++,p!=null&&ac(p))}function Wd(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&ac(s))}function Vn(s,l,p,v){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)qd(s,l,p,v),l=l.sibling}function qd(s,l,p,v){var E=l.flags;switch(l.tag){case 0:case 11:case 15:Vn(s,l,p,v),E&2048&&Zl(9,l);break;case 1:Vn(s,l,p,v);break;case 3:Vn(s,l,p,v),E&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&ac(s)));break;case 12:if(E&2048){Vn(s,l,p,v),s=l.stateNode;try{var w=l.memoizedProps,F=w.id,$=w.onPostCommit;typeof $=="function"&&$(F,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ne){le(l,l.return,ne)}}else Vn(s,l,p,v);break;case 13:Vn(s,l,p,v);break;case 23:break;case 22:w=l.stateNode,F=l.alternate,l.memoizedState!==null?w._visibility&2?Vn(s,l,p,v):us(s,l):w._visibility&2?Vn(s,l,p,v):(w._visibility|=2,xo(s,l,p,v,(l.subtreeFlags&10256)!==0)),E&2048&&Xd(F,l);break;case 24:Vn(s,l,p,v),E&2048&&Wd(l.alternate,l);break;default:Vn(s,l,p,v)}}function xo(s,l,p,v,E){for(E=E&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var w=s,F=l,$=p,ne=v,_e=F.flags;switch(F.tag){case 0:case 11:case 15:xo(w,F,$,ne,E),Zl(8,F);break;case 23:break;case 22:var ze=F.stateNode;F.memoizedState!==null?ze._visibility&2?xo(w,F,$,ne,E):us(w,F):(ze._visibility|=2,xo(w,F,$,ne,E)),E&&_e&2048&&Xd(F.alternate,F);break;case 24:xo(w,F,$,ne,E),E&&_e&2048&&Wd(F.alternate,F);break;default:xo(w,F,$,ne,E)}l=l.sibling}}function us(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var p=s,v=l,E=v.flags;switch(v.tag){case 22:us(p,v),E&2048&&Xd(v.alternate,v);break;case 24:us(p,v),E&2048&&Wd(v.alternate,v);break;default:us(p,v)}l=l.sibling}}var fa=8192;function Ec(s){if(s.subtreeFlags&fa)for(s=s.child;s!==null;)Vy(s),s=s.sibling}function Vy(s){switch(s.tag){case 26:Ec(s),s.flags&fa&&s.memoizedState!==null&&y4(ls,s.memoizedState,s.memoizedProps);break;case 5:Ec(s);break;case 3:case 4:var l=ls;ls=Xy(s.stateNode.containerInfo),Ec(s),ls=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=fa,fa=16777216,Ec(s),fa=l):Ec(s));break;default:Ec(s)}}function Hy(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function Xn(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var p=0;p<l.length;p++){var v=l[p];Fn=v,Os(v,s)}Hy(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)yg(s),s=s.sibling}function yg(s){switch(s.tag){case 0:case 11:case 15:Xn(s),s.flags&2048&&la(9,s,s.return);break;case 3:Xn(s);break;case 12:Xn(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,Ds(s)):Xn(s);break;default:Xn(s)}}function Ds(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var p=0;p<l.length;p++){var v=l[p];Fn=v,Os(v,s)}Hy(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:la(8,l,l.return),Ds(l);break;case 22:p=l.stateNode,p._visibility&2&&(p._visibility&=-3,Ds(l));break;default:Ds(l)}s=s.sibling}}function Os(s,l){for(;Fn!==null;){var p=Fn;switch(p.tag){case 0:case 11:case 15:la(8,p,l);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:ac(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,Fn=v;else e:for(p=s;Fn!==null;){v=Fn;var E=v.sibling,w=v.return;if(an(v),v===p){Fn=null;break e}if(E!==null){E.return=w,Fn=E;break e}Fn=w}}}var li={getCacheForType:function(s){var l=si(wi),p=l.data.get(s);return p===void 0&&(p=s(),l.data.set(s,p)),p}},xg=typeof WeakMap=="function"?WeakMap:Map,Rn=0,Xt=null,fn=null,Nt=0,en=0,ai=null,ha=!1,Mc=!1,Tc=!1,za=0,Zn=0,cs=0,Ns=0,nu=0,Ba=0,xn=0,Dn=null,zt=null,pn=!1,zn=0,mr=1/0,Ia=null,da=null,Fi=0,gr=null,Hn=null,pa=0,bo=0,th=null,ma=null,Ps=0,iu=null;function ui(){if((Rn&2)!==0&&Nt!==0)return Nt&-Nt;if(k.T!==null){var s=qt;return s!==0?s:t1()}return Qt()}function Yd(){Ba===0&&(Ba=(Nt&536870912)===0||_n?re():536870912);var s=In.current;return s!==null&&(s.flags|=32),Ba}function Rr(s,l,p){(s===Xt&&(en===2||en===9)||s.cancelPendingCommit!==null)&&(fl(s,0),fs(s,Nt,Ba,!1)),lt(s,p),((Rn&2)===0||s!==Xt)&&(s===Xt&&((Rn&2)===0&&(Ns|=p),Zn===4&&fs(s,Nt,Ba,!1)),pl(s))}function Ac(s,l,p){if((Rn&6)!==0)throw Error(i(327));var v=!p&&(l&124)===0&&(l&s.expiredLanes)===0||xe(s,l),E=v?M(s,l):h(s,l,!0),w=v;do{if(E===0){Mc&&!v&&fs(s,l,0,!1);break}else{if(p=s.current.alternate,w&&!cl(p)){E=h(s,l,!1),w=!1;continue}if(E===2){if(w=l,s.errorRecoveryDisabledLanes&w)var F=0;else F=s.pendingLanes&-536870913,F=F!==0?F:F&536870912?536870912:0;if(F!==0){l=F;e:{var $=s;E=Dn;var ne=$.current.memoizedState.isDehydrated;if(ne&&(fl($,F).flags|=256),F=h($,F,!1),F!==2){if(Tc&&!ne){$.errorRecoveryDisabledLanes|=w,Ns|=w,E=4;break e}w=zt,zt=E,w!==null&&(zt===null?zt=w:zt.push.apply(zt,w))}E=F}if(w=!1,E!==2)continue}}if(E===1){fl(s,0),fs(s,l,0,!0);break}e:{switch(v=s,w=E,w){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:fs(v,l,Ba,!ha);break e;case 2:zt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(E=zn+300-We(),10<E)){if(fs(v,l,Ba,!ha),ie(v,0,!0)!==0)break e;v.timeoutHandle=xC(nh.bind(null,v,p,zt,Ia,pn,l,Ba,Ns,xn,ha,w,2,-0,0),E);break e}nh(v,p,zt,Ia,pn,l,Ba,Ns,xn,ha,w,0,-0,0)}}break}while(!0);pl(s)}function nh(s,l,p,v,E,w,F,$,ne,_e,ze,Ge,Te,Re){if(s.timeoutHandle=-1,Ge=l.subtreeFlags,(Ge&8192||(Ge&16785408)===16785408)&&(Ag={stylesheets:null,count:0,unsuspend:v4},Vy(l),Ge=x4(),Ge!==null)){s.cancelPendingCommit=Ge(tt.bind(null,s,l,w,p,v,E,F,$,ne,ze,1,Te,Re)),fs(s,w,F,!_e);return}tt(s,l,w,p,v,E,F,$,ne)}function cl(s){for(var l=s;;){var p=l.tag;if((p===0||p===11||p===15)&&l.flags&16384&&(p=l.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var E=p[v],w=E.getSnapshot;E=E.value;try{if(!zr(w(),E))return!1}catch{return!1}}if(p=l.child,l.subtreeFlags&16384&&p!==null)p.return=l,l=p;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function fs(s,l,p,v){l&=~nu,l&=~Ns,s.suspendedLanes|=l,s.pingedLanes&=~l,v&&(s.warmLanes|=l),v=s.expirationTimes;for(var E=l;0<E;){var w=31-st(E),F=1<<w;v[w]=-1,E&=~F}p!==0&&Fe(s,p,l)}function Ls(){return(Rn&6)===0?(bg(0),!1):!0}function ru(){if(fn!==null){if(en===0)var s=fn.return;else s=fn,oo=qo=null,tg(s),kl=null,qf=0,s=fn;for(;s!==null;)bc(s.alternate,s),s=s.return;fn=null}}function fl(s,l){var p=s.timeoutHandle;p!==-1&&(s.timeoutHandle=-1,e4(p)),p=s.cancelPendingCommit,p!==null&&(s.cancelPendingCommit=null,p()),ru(),Xt=s,fn=p=fi(s.current,null),Nt=l,en=0,ai=null,ha=!1,Mc=xe(s,l),Tc=!1,xn=Ba=nu=Ns=cs=Zn=0,zt=Dn=null,pn=!1,(l&8)!==0&&(l|=l&32);var v=s.entangledLanes;if(v!==0)for(s=s.entanglements,v&=l;0<v;){var E=31-st(v),w=1<<E;l|=s[E],v&=~w}return za=l,Of(),p}function Kd(s,l){Yt=null,k.H=Wf,l===Hf||l===ns?(l=Km(),en=3):l===Ym?(l=Km(),en=4):en=l===Fy?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ai=l,fn===null&&(Zn=1,Hd(s,rr(l,s.current)))}function wc(){var s=k.H;return k.H=Wf,s===null?Wf:s}function Zd(){var s=k.A;return k.A=li,s}function c(){Zn=4,ha||(Nt&4194048)!==Nt&&In.current!==null||(Mc=!0),(cs&134217727)===0&&(Ns&134217727)===0||Xt===null||fs(Xt,Nt,Ba,!1)}function h(s,l,p){var v=Rn;Rn|=2;var E=wc(),w=Zd();(Xt!==s||Nt!==l)&&(Ia=null,fl(s,l)),l=!1;var F=Zn;e:do try{if(en!==0&&fn!==null){var $=fn,ne=ai;switch(en){case 8:ru(),F=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(l=!0);var _e=en;if(en=0,ai=null,ae(s,$,ne,_e),p&&Mc){F=0;break e}break;default:_e=en,en=0,ai=null,ae(s,$,ne,_e)}}x(),F=Zn;break}catch(ze){Kd(s,ze)}while(!0);return l&&s.shellSuspendCounter++,oo=qo=null,Rn=v,k.H=E,k.A=w,fn===null&&(Xt=null,Nt=0,Of()),F}function x(){for(;fn!==null;)P(fn)}function M(s,l){var p=Rn;Rn|=2;var v=wc(),E=Zd();Xt!==s||Nt!==l?(Ia=null,mr=We()+500,fl(s,l)):Mc=xe(s,l);e:do try{if(en!==0&&fn!==null){l=fn;var w=ai;t:switch(en){case 1:en=0,ai=null,ae(s,l,w,1);break;case 2:case 9:if(Ad(w)){en=0,ai=null,q(l);break}l=function(){en!==2&&en!==9||Xt!==s||(en=7),pl(s)},w.then(l,l);break e;case 3:en=7;break e;case 4:en=5;break e;case 7:Ad(w)?(en=0,ai=null,q(l)):(en=0,ai=null,ae(s,l,w,7));break;case 5:var F=null;switch(fn.tag){case 26:F=fn.memoizedState;case 5:case 27:var $=fn;if(!F||OC(F)){en=0,ai=null;var ne=$.sibling;if(ne!==null)fn=ne;else{var _e=$.return;_e!==null?(fn=_e,ve(_e)):fn=null}break t}}en=0,ai=null,ae(s,l,w,5);break;case 6:en=0,ai=null,ae(s,l,w,6);break;case 8:ru(),Zn=6;break e;default:throw Error(i(462))}}R();break}catch(ze){Kd(s,ze)}while(!0);return oo=qo=null,k.H=v,k.A=E,Rn=p,fn!==null?0:(Xt=null,Nt=0,Of(),Zn)}function R(){for(;fn!==null&&!Qe();)P(fn)}function P(s){var l=Yl(s.alternate,s,za);s.memoizedProps=s.pendingProps,l===null?ve(s):fn=l}function q(s){var l=s,p=l.alternate;switch(l.tag){case 15:case 0:l=sa(p,l,l.pendingProps,l.type,void 0,Nt);break;case 11:l=sa(p,l,l.pendingProps,l.type.render,l.ref,Nt);break;case 5:tg(l);default:bc(p,l),l=fn=km(l,za),l=Yl(p,l,za)}s.memoizedProps=s.pendingProps,l===null?ve(s):fn=l}function ae(s,l,p,v){oo=qo=null,tg(l),kl=null,qf=0;var E=l.return;try{if(JS(s,E,l,p,Nt)){Zn=1,Hd(s,rr(p,s.current)),fn=null;return}}catch(w){if(E!==null)throw fn=E,w;Zn=1,Hd(s,rr(p,s.current)),fn=null;return}l.flags&32768?(_n||v===1?s=!0:Mc||(Nt&536870912)!==0?s=!1:(ha=s=!0,(v===2||v===9||v===3||v===6)&&(v=In.current,v!==null&&v.tag===13&&(v.flags|=16384))),Ue(l,s)):ve(l)}function ve(s){var l=s;do{if((l.flags&32768)!==0){Ue(l,ha);return}s=l.return;var p=vg(l.alternate,l,za);if(p!==null){fn=p;return}if(l=l.sibling,l!==null){fn=l;return}fn=l=s}while(l!==null);Zn===0&&(Zn=5)}function Ue(s,l){do{var p=xc(s.alternate,s);if(p!==null){p.flags&=32767,fn=p;return}if(p=s.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!l&&(s=s.sibling,s!==null)){fn=s;return}fn=s=p}while(s!==null);Zn=6,fn=null}function tt(s,l,p,v,E,w,F,$,ne){s.cancelPendingCommit=null;do hl();while(Fi!==0);if((Rn&6)!==0)throw Error(i(327));if(l!==null){if(l===s.current)throw Error(i(177));if(w=l.lanes|l.childLanes,w|=vd,Ze(s,p,w,F,$,ne),s===Xt&&(fn=Xt=null,Nt=0),Hn=l,gr=s,pa=p,bo=w,th=E,ma=v,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Sn(at,function(){return dl(),null})):(s.callbackNode=null,s.callbackPriority=0),v=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||v){v=k.T,k.T=null,E=Y.p,Y.p=2,F=Rn,Rn|=4;try{Ii(s,l,p)}finally{Rn=F,Y.p=E,k.T=v}}Fi=1,ct(),mt(),Wt()}}function ct(){if(Fi===1){Fi=0;var s=gr,l=Hn,p=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||p){p=k.T,k.T=null;var v=Y.p;Y.p=2;var E=Rn;Rn|=4;try{jd(l,s);var w=u1,F=Um(s.containerInfo),$=w.focusedElem,ne=w.selectionRange;if(F!==$&&$&&$.ownerDocument&&Lm($.ownerDocument.documentElement,$)){if(ne!==null&&Cf($)){var _e=ne.start,ze=ne.end;if(ze===void 0&&(ze=_e),"selectionStart"in $)$.selectionStart=_e,$.selectionEnd=Math.min(ze,$.value.length);else{var Ge=$.ownerDocument||document,Te=Ge&&Ge.defaultView||window;if(Te.getSelection){var Re=Te.getSelection(),$t=$.textContent.length,Ft=Math.min(ne.start,$t),qn=ne.end===void 0?Ft:Math.min(ne.end,$t);!Re.extend&&Ft>qn&&(F=qn,qn=Ft,Ft=F);var me=Pm($,Ft),ce=Pm($,qn);if(me&&ce&&(Re.rangeCount!==1||Re.anchorNode!==me.node||Re.anchorOffset!==me.offset||Re.focusNode!==ce.node||Re.focusOffset!==ce.offset)){var be=Ge.createRange();be.setStart(me.node,me.offset),Re.removeAllRanges(),Ft>qn?(Re.addRange(be),Re.extend(ce.node,ce.offset)):(be.setEnd(ce.node,ce.offset),Re.addRange(be))}}}}for(Ge=[],Re=$;Re=Re.parentNode;)Re.nodeType===1&&Ge.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<Ge.length;$++){var Ve=Ge[$];Ve.element.scrollLeft=Ve.left,Ve.element.scrollTop=Ve.top}}Zy=!!l1,u1=l1=null}finally{Rn=E,Y.p=v,k.T=p}}s.current=l,Fi=2}}function mt(){if(Fi===2){Fi=0;var s=gr,l=Hn,p=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||p){p=k.T,k.T=null;var v=Y.p;Y.p=2;var E=Rn;Rn|=4;try{yo(s,l.alternate,l)}finally{Rn=E,Y.p=v,k.T=p}}Fi=3}}function Wt(){if(Fi===4||Fi===3){Fi=0,$e();var s=gr,l=Hn,p=pa,v=ma;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Fi=5:(Fi=0,Hn=gr=null,ga(s,s.pendingLanes));var E=s.pendingLanes;if(E===0&&(da=null),ln(p),l=l.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(Me,l,void 0,(l.current.flags&128)===128)}catch{}if(v!==null){l=k.T,E=Y.p,Y.p=2,k.T=null;try{for(var w=s.onRecoverableError,F=0;F<v.length;F++){var $=v[F];w($.value,{componentStack:$.stack})}}finally{k.T=l,Y.p=E}}(pa&3)!==0&&hl(),pl(s),E=s.pendingLanes,(p&4194090)!==0&&(E&42)!==0?s===iu?Ps++:(Ps=0,iu=s):Ps=0,bg(0)}}function ga(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,ac(l)))}function hl(s){return ct(),mt(),Wt(),dl()}function dl(){if(Fi!==5)return!1;var s=gr,l=bo;bo=0;var p=ln(pa),v=k.T,E=Y.p;try{Y.p=32>p?32:p,k.T=null,p=th,th=null;var w=gr,F=pa;if(Fi=0,Hn=gr=null,pa=0,(Rn&6)!==0)throw Error(i(331));var $=Rn;if(Rn|=4,yg(w.current),qd(w,w.current,F,p),Rn=$,bg(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(Me,w)}catch{}return!0}finally{Y.p=E,k.T=v,ga(s,l)}}function Ee(s,l,p){l=rr(p,l),l=kd(s.stateNode,l,2),s=co(s,l,2),s!==null&&(lt(s,2),pl(s))}function le(s,l,p){if(s.tag===3)Ee(s,s,p);else for(;l!==null;){if(l.tag===3){Ee(l,s,p);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(da===null||!da.has(v))){s=rr(p,s),p=Iy(2),v=co(l,p,2),v!==null&&(Gd(p,v,l,s),lt(v,2),pl(v));break}}l=l.return}}function De(s,l,p){var v=s.pingCache;if(v===null){v=s.pingCache=new xg;var E=new Set;v.set(l,E)}else E=v.get(l),E===void 0&&(E=new Set,v.set(l,E));E.has(p)||(Tc=!0,E.add(p),s=et.bind(null,s,l,p),l.then(s,s))}function et(s,l,p){var v=s.pingCache;v!==null&&v.delete(l),s.pingedLanes|=s.suspendedLanes&p,s.warmLanes&=~p,Xt===s&&(Nt&p)===p&&(Zn===4||Zn===3&&(Nt&62914560)===Nt&&300>We()-zn?(Rn&2)===0&&fl(s,0):nu|=p,xn===Nt&&(xn=0)),pl(s)}function Ct(s,l){l===0&&(l=Je()),s=ao(s,l),s!==null&&(lt(s,l),pl(s))}function Qn(s){var l=s.memoizedState,p=0;l!==null&&(p=l.retryLane),Ct(s,p)}function kt(s,l){var p=0;switch(s.tag){case 13:var v=s.stateNode,E=s.memoizedState;E!==null&&(p=E.retryLane);break;case 19:v=s.stateNode;break;case 22:v=s.stateNode._retryCache;break;default:throw Error(i(314))}v!==null&&v.delete(l),Ct(s,p)}function Sn(s,l){return Mt(s,l)}var mi=null,hn=null,Us=!1,Qd=!1,e1=!1,ih=0;function pl(s){s!==hn&&s.next===null&&(hn===null?mi=hn=s:hn=hn.next=s),Qd=!0,Us||(Us=!0,jI())}function bg(s,l){if(!e1&&Qd){e1=!0;do for(var p=!1,v=mi;v!==null;){if(s!==0){var E=v.pendingLanes;if(E===0)var w=0;else{var F=v.suspendedLanes,$=v.pingedLanes;w=(1<<31-st(42|s)+1)-1,w&=E&~(F&~$),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(p=!0,uC(v,w))}else w=Nt,w=ie(v,v===Xt?w:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(w&3)===0||xe(v,w)||(p=!0,uC(v,w));v=v.next}while(p);e1=!1}}function $I(){sC()}function sC(){Qd=Us=!1;var s=0;ih!==0&&(JI()&&(s=ih),ih=0);for(var l=We(),p=null,v=mi;v!==null;){var E=v.next,w=oC(v,l);w===0?(v.next=null,p===null?mi=E:p.next=E,E===null&&(hn=p)):(p=v,(s!==0||(w&3)!==0)&&(Qd=!0)),v=E}bg(s)}function oC(s,l){for(var p=s.suspendedLanes,v=s.pingedLanes,E=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var F=31-st(w),$=1<<F,ne=E[F];ne===-1?(($&p)===0||($&v)!==0)&&(E[F]=Ke($,l)):ne<=l&&(s.expiredLanes|=$),w&=~$}if(l=Xt,p=Nt,p=ie(s,s===l?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v=s.callbackNode,p===0||s===l&&(en===2||en===9)||s.cancelPendingCommit!==null)return v!==null&&v!==null&&Z(v),s.callbackNode=null,s.callbackPriority=0;if((p&3)===0||xe(s,p)){if(l=p&-p,l===s.callbackPriority)return l;switch(v!==null&&Z(v),ln(p)){case 2:case 8:p=He;break;case 32:p=at;break;case 268435456:p=j;break;default:p=at}return v=lC.bind(null,s),p=Mt(p,v),s.callbackPriority=l,s.callbackNode=p,l}return v!==null&&v!==null&&Z(v),s.callbackPriority=2,s.callbackNode=null,2}function lC(s,l){if(Fi!==0&&Fi!==5)return s.callbackNode=null,s.callbackPriority=0,null;var p=s.callbackNode;if(hl()&&s.callbackNode!==p)return null;var v=Nt;return v=ie(s,s===Xt?v:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v===0?null:(Ac(s,v,l),oC(s,We()),s.callbackNode!=null&&s.callbackNode===p?lC.bind(null,s):null)}function uC(s,l){if(hl())return null;Ac(s,l,!0)}function jI(){t4(function(){(Rn&6)!==0?Mt(rt,$I):sC()})}function t1(){return ih===0&&(ih=re()),ih}function cC(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:mf(""+s)}function fC(s,l){var p=l.ownerDocument.createElement("input");return p.name=l.name,p.value=l.value,s.id&&p.setAttribute("form",s.id),l.parentNode.insertBefore(p,l),s=new FormData(s),p.parentNode.removeChild(p),s}function XI(s,l,p,v,E){if(l==="submit"&&p&&p.stateNode===E){var w=cC((E[Li]||null).action),F=v.submitter;F&&(l=(l=F[Li]||null)?cC(l.formAction):F.getAttribute("formAction"),l!==null&&(w=l,F=null));var $=new Xu("action","action",null,v,E);s.push({event:$,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(ih!==0){var ne=F?fC(E,F):new FormData(E);dg(p,{pending:!0,data:ne,method:E.method,action:w},null,ne)}}else typeof w=="function"&&($.preventDefault(),ne=F?fC(E,F):new FormData(E),dg(p,{pending:!0,data:ne,method:E.method,action:w},w,ne))},currentTarget:E}]})}}for(var n1=0;n1<Df.length;n1++){var i1=Df[n1],WI=i1.toLowerCase(),qI=i1[0].toUpperCase()+i1.slice(1);ji(WI,"on"+qI)}ji(Er,"onAnimationEnd"),ji(Im,"onAnimationIteration"),ji(Ir,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(Kv,"onTransitionRun"),ji(io,"onTransitionStart"),ji(ec,"onTransitionCancel"),ji(ro,"onTransitionEnd"),X("onMouseEnter",["mouseout","mouseover"]),X("onMouseLeave",["mouseout","mouseover"]),X("onPointerEnter",["pointerout","pointerover"]),X("onPointerLeave",["pointerout","pointerover"]),Ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ja("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _g="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_g));function hC(s,l){l=(l&4)!==0;for(var p=0;p<s.length;p++){var v=s[p],E=v.event;v=v.listeners;e:{var w=void 0;if(l)for(var F=v.length-1;0<=F;F--){var $=v[F],ne=$.instance,_e=$.currentTarget;if($=$.listener,ne!==w&&E.isPropagationStopped())break e;w=$,E.currentTarget=_e;try{w(E)}catch(ze){$l(ze)}E.currentTarget=null,w=ne}else for(F=0;F<v.length;F++){if($=v[F],ne=$.instance,_e=$.currentTarget,$=$.listener,ne!==w&&E.isPropagationStopped())break e;w=$,E.currentTarget=_e;try{w(E)}catch(ze){$l(ze)}E.currentTarget=null,w=ne}}}}function gn(s,l){var p=l[Lr];p===void 0&&(p=l[Lr]=new Set);var v=s+"__bubble";p.has(v)||(dC(l,s,2,!1),p.add(v))}function r1(s,l,p){var v=0;l&&(v|=4),dC(p,s,v,l)}var ky="_reactListening"+Math.random().toString(36).slice(2);function a1(s){if(!s[ky]){s[ky]=!0,Hu.forEach(function(p){p!=="selectionchange"&&(YI.has(p)||r1(p,!1,s),r1(p,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[ky]||(l[ky]=!0,r1("selectionchange",!1,l))}}function dC(s,l,p,v){switch(BC(l)){case 2:var E=S4;break;case 8:E=E4;break;default:E=x1}p=E.bind(null,l,p,s),E=void 0,!vf||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(E=!0),v?E!==void 0?s.addEventListener(l,p,{capture:!0,passive:E}):s.addEventListener(l,p,!0):E!==void 0?s.addEventListener(l,p,{passive:E}):s.addEventListener(l,p,!1)}function s1(s,l,p,v,E){var w=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var F=v.tag;if(F===3||F===4){var $=v.stateNode.containerInfo;if($===E)break;if(F===4)for(F=v.return;F!==null;){var ne=F.tag;if((ne===3||ne===4)&&F.stateNode.containerInfo===E)return;F=F.return}for(;$!==null;){if(F=Za($),F===null)return;if(ne=F.tag,ne===5||ne===6||ne===26||ne===27){v=w=F;continue e}$=$.parentNode}}v=v.return}_m(function(){var _e=w,ze=rd(p),Ge=[];e:{var Te=gd.get(s);if(Te!==void 0){var Re=Xu,$t=s;switch(s){case"keypress":if(zo(p)===0)break e;case"keydown":case"keyup":Re=Am;break;case"focusin":$t="focus",Re=sd;break;case"focusout":$t="blur",Re=sd;break;case"beforeblur":case"afterblur":Re=sd;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=Mm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=kS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=Cm;break;case Er:case Im:case Ir:Re=Uv;break;case ro:Re=Js;break;case"scroll":case"scrollend":Re=Nv;break;case"wheel":Re=GS;break;case"copy":case"cut":case"paste":Re=Bv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=ld;break;case"toggle":case"beforetoggle":Re=Io}var Ft=(l&4)!==0,qn=!Ft&&(s==="scroll"||s==="scrollend"),me=Ft?Te!==null?Te+"Capture":null:Te;Ft=[];for(var ce=_e,be;ce!==null;){var Ve=ce;if(be=Ve.stateNode,Ve=Ve.tag,Ve!==5&&Ve!==26&&Ve!==27||be===null||me===null||(Ve=Gu(ce,me),Ve!=null&&Ft.push(Sg(ce,Ve,be))),qn)break;ce=ce.return}0<Ft.length&&(Te=new Re(Te,$t,null,p,ze),Ge.push({event:Te,listeners:Ft}))}}if((l&7)===0){e:{if(Te=s==="mouseover"||s==="pointerover",Re=s==="mouseout"||s==="pointerout",Te&&p!==id&&($t=p.relatedTarget||p.fromElement)&&(Za($t)||$t[hr]))break e;if((Re||Te)&&(Te=ze.window===ze?ze:(Te=ze.ownerDocument)?Te.defaultView||Te.parentWindow:window,Re?($t=p.relatedTarget||p.toElement,Re=_e,$t=$t?Za($t):null,$t!==null&&(qn=a($t),Ft=$t.tag,$t!==qn||Ft!==5&&Ft!==27&&Ft!==6)&&($t=null)):(Re=null,$t=_e),Re!==$t)){if(Ft=Mm,Ve="onMouseLeave",me="onMouseEnter",ce="mouse",(s==="pointerout"||s==="pointerover")&&(Ft=ld,Ve="onPointerLeave",me="onPointerEnter",ce="pointer"),qn=Re==null?Te:Lo(Re),be=$t==null?Te:Lo($t),Te=new Ft(Ve,ce+"leave",Re,p,ze),Te.target=qn,Te.relatedTarget=be,Ve=null,Za(ze)===_e&&(Ft=new Ft(me,ce+"enter",$t,p,ze),Ft.target=be,Ft.relatedTarget=qn,Ve=Ft),qn=Ve,Re&&$t)t:{for(Ft=Re,me=$t,ce=0,be=Ft;be;be=Jd(be))ce++;for(be=0,Ve=me;Ve;Ve=Jd(Ve))be++;for(;0<ce-be;)Ft=Jd(Ft),ce--;for(;0<be-ce;)me=Jd(me),be--;for(;ce--;){if(Ft===me||me!==null&&Ft===me.alternate)break t;Ft=Jd(Ft),me=Jd(me)}Ft=null}else Ft=null;Re!==null&&pC(Ge,Te,Re,Ft,!1),$t!==null&&qn!==null&&pC(Ge,qn,$t,Ft,!0)}}e:{if(Te=_e?Lo(_e):window,Re=Te.nodeName&&Te.nodeName.toLowerCase(),Re==="select"||Re==="input"&&Te.type==="file")var St=cd;else if(Nm(Te))if(fd)St=Ho;else{St=Wv;var mn=$S}else Re=Te.nodeName,!Re||Re.toLowerCase()!=="input"||Te.type!=="checkbox"&&Te.type!=="radio"?_e&&nd(_e.elementType)&&(St=cd):St=wf;if(St&&(St=St(s,_e))){Ur(Ge,St,p,ze);break e}mn&&mn(s,Te,_e),s==="focusout"&&_e&&Te.type==="number"&&_e.memoizedProps.value!=null&&er(Te,"number",Te.value)}switch(mn=_e?Lo(_e):window,s){case"focusin":(Nm(mn)||mn.contentEditable==="true")&&(to=mn,dd=_e,Rf=null);break;case"focusout":Rf=dd=to=null;break;case"mousedown":pd=!0;break;case"contextmenu":case"mouseup":case"dragend":pd=!1,Bm(Ge,p,ze);break;case"selectionchange":if(zm)break;case"keydown":case"keyup":Bm(Ge,p,ze)}var Rt;if(_f)e:{switch(s){case"compositionstart":var Vt="onCompositionStart";break e;case"compositionend":Vt="onCompositionEnd";break e;case"compositionupdate":Vt="onCompositionUpdate";break e}Vt=void 0}else Vo?Mf(s,p)&&(Vt="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(Vt="onCompositionStart");Vt&&(Ef&&p.locale!=="ko"&&(Vo||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Vo&&(Rt=Em()):(Zs=ze,Sm="value"in Zs?Zs.value:Zs.textContent,Vo=!0)),mn=Gy(_e,Vt),0<mn.length&&(Vt=new od(Vt,s,null,p,ze),Ge.push({event:Vt,listeners:mn}),Rt?Vt.data=Rt:(Rt=Dm(p),Rt!==null&&(Vt.data=Rt)))),(Rt=Sf?Tf(s,p):Om(s,p))&&(Vt=Gy(_e,"onBeforeInput"),0<Vt.length&&(mn=new od("onBeforeInput","beforeinput",null,p,ze),Ge.push({event:mn,listeners:Vt}),mn.data=Rt)),XI(Ge,s,_e,p,ze)}hC(Ge,l)})}function Sg(s,l,p){return{instance:s,listener:l,currentTarget:p}}function Gy(s,l){for(var p=l+"Capture",v=[];s!==null;){var E=s,w=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||w===null||(E=Gu(s,p),E!=null&&v.unshift(Sg(s,E,w)),E=Gu(s,l),E!=null&&v.push(Sg(s,E,w))),s.tag===3)return v;s=s.return}return[]}function Jd(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function pC(s,l,p,v,E){for(var w=l._reactName,F=[];p!==null&&p!==v;){var $=p,ne=$.alternate,_e=$.stateNode;if($=$.tag,ne!==null&&ne===v)break;$!==5&&$!==26&&$!==27||_e===null||(ne=_e,E?(_e=Gu(p,w),_e!=null&&F.unshift(Sg(p,_e,ne))):E||(_e=Gu(p,w),_e!=null&&F.push(Sg(p,_e,ne)))),p=p.return}F.length!==0&&s.push({event:l,listeners:F})}var KI=/\r\n?/g,ZI=/\u0000|\uFFFD/g;function mC(s){return(typeof s=="string"?s:""+s).replace(KI,`
`).replace(ZI,"")}function gC(s,l){return l=mC(l),mC(s)===l}function $y(){}function Wn(s,l,p,v,E,w){switch(p){case"children":typeof v=="string"?l==="body"||l==="textarea"&&v===""||_r(s,v):(typeof v=="number"||typeof v=="bigint")&&l!=="body"&&_r(s,""+v);break;case"className":ot(s,"class",v);break;case"tabIndex":ot(s,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":ot(s,p,v);break;case"style":pf(s,v,w);break;case"data":if(l!=="object"){ot(s,"data",v);break}case"src":case"href":if(v===""&&(l!=="a"||p!=="href")){s.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(p);break}v=mf(""+v),s.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){s.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(p==="formAction"?(l!=="input"&&Wn(s,l,"name",E.name,E,null),Wn(s,l,"formEncType",E.formEncType,E,null),Wn(s,l,"formMethod",E.formMethod,E,null),Wn(s,l,"formTarget",E.formTarget,E,null)):(Wn(s,l,"encType",E.encType,E,null),Wn(s,l,"method",E.method,E,null),Wn(s,l,"target",E.target,E,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(p);break}v=mf(""+v),s.setAttribute(p,v);break;case"onClick":v!=null&&(s.onclick=$y);break;case"onScroll":v!=null&&gn("scroll",s);break;case"onScrollEnd":v!=null&&gn("scrollend",s);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(p=v.__html,p!=null){if(E.children!=null)throw Error(i(60));s.innerHTML=p}}break;case"multiple":s.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":s.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){s.removeAttribute("xlink:href");break}p=mf(""+v),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(p,""+v):s.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(p,""):s.removeAttribute(p);break;case"capture":case"download":v===!0?s.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(p,v):s.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?s.setAttribute(p,v):s.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?s.removeAttribute(p):s.setAttribute(p,v);break;case"popover":gn("beforetoggle",s),gn("toggle",s),qe(s,"popover",v);break;case"xlinkActuate":ht(s,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":ht(s,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":ht(s,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":ht(s,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":ht(s,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":ht(s,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":ht(s,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":ht(s,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":ht(s,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":qe(s,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=xm.get(p)||p,qe(s,p,v))}}function o1(s,l,p,v,E,w){switch(p){case"style":pf(s,v,w);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(p=v.__html,p!=null){if(E.children!=null)throw Error(i(60));s.innerHTML=p}}break;case"children":typeof v=="string"?_r(s,v):(typeof v=="number"||typeof v=="bigint")&&_r(s,""+v);break;case"onScroll":v!=null&&gn("scroll",s);break;case"onScrollEnd":v!=null&&gn("scrollend",s);break;case"onClick":v!=null&&(s.onclick=$y);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ku.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(E=p.endsWith("Capture"),l=p.slice(2,E?p.length-7:void 0),w=s[Li]||null,w=w!=null?w[p]:null,typeof w=="function"&&s.removeEventListener(l,w,E),typeof v=="function")){typeof w!="function"&&w!==null&&(p in s?s[p]=null:s.hasAttribute(p)&&s.removeAttribute(p)),s.addEventListener(l,v,E);break e}p in s?s[p]=v:v===!0?s.setAttribute(p,""):qe(s,p,v)}}}function Dr(s,l,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gn("error",s),gn("load",s);var v=!1,E=!1,w;for(w in p)if(p.hasOwnProperty(w)){var F=p[w];if(F!=null)switch(w){case"src":v=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Wn(s,l,w,F,p,null)}}E&&Wn(s,l,"srcSet",p.srcSet,p,null),v&&Wn(s,l,"src",p.src,p,null);return;case"input":gn("invalid",s);var $=w=F=E=null,ne=null,_e=null;for(v in p)if(p.hasOwnProperty(v)){var ze=p[v];if(ze!=null)switch(v){case"name":E=ze;break;case"type":F=ze;break;case"checked":ne=ze;break;case"defaultChecked":_e=ze;break;case"value":w=ze;break;case"defaultValue":$=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(i(137,l));break;default:Wn(s,l,v,ze,p,null)}}Un(s,w,$,ne,_e,F,E,!1),Nn(s);return;case"select":gn("invalid",s),v=F=w=null;for(E in p)if(p.hasOwnProperty(E)&&($=p[E],$!=null))switch(E){case"value":w=$;break;case"defaultValue":F=$;break;case"multiple":v=$;default:Wn(s,l,E,$,p,null)}l=w,p=F,s.multiple=!!v,l!=null?Ai(s,!!v,l,!1):p!=null&&Ai(s,!!v,p,!0);return;case"textarea":gn("invalid",s),w=E=v=null;for(F in p)if(p.hasOwnProperty(F)&&($=p[F],$!=null))switch(F){case"value":v=$;break;case"defaultValue":E=$;break;case"children":w=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(i(91));break;default:Wn(s,l,F,$,p,null)}$i(s,v,E,w),Nn(s);return;case"option":for(ne in p)if(p.hasOwnProperty(ne)&&(v=p[ne],v!=null))switch(ne){case"selected":s.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Wn(s,l,ne,v,p,null)}return;case"dialog":gn("beforetoggle",s),gn("toggle",s),gn("cancel",s),gn("close",s);break;case"iframe":case"object":gn("load",s);break;case"video":case"audio":for(v=0;v<_g.length;v++)gn(_g[v],s);break;case"image":gn("error",s),gn("load",s);break;case"details":gn("toggle",s);break;case"embed":case"source":case"link":gn("error",s),gn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_e in p)if(p.hasOwnProperty(_e)&&(v=p[_e],v!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Wn(s,l,_e,v,p,null)}return;default:if(nd(l)){for(ze in p)p.hasOwnProperty(ze)&&(v=p[ze],v!==void 0&&o1(s,l,ze,v,p,void 0));return}}for($ in p)p.hasOwnProperty($)&&(v=p[$],v!=null&&Wn(s,l,$,v,p,null))}function QI(s,l,p,v){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,w=null,F=null,$=null,ne=null,_e=null,ze=null;for(Re in p){var Ge=p[Re];if(p.hasOwnProperty(Re)&&Ge!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":ne=Ge;default:v.hasOwnProperty(Re)||Wn(s,l,Re,null,v,Ge)}}for(var Te in v){var Re=v[Te];if(Ge=p[Te],v.hasOwnProperty(Te)&&(Re!=null||Ge!=null))switch(Te){case"type":w=Re;break;case"name":E=Re;break;case"checked":_e=Re;break;case"defaultChecked":ze=Re;break;case"value":F=Re;break;case"defaultValue":$=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(i(137,l));break;default:Re!==Ge&&Wn(s,l,Te,Re,v,Ge)}}vs(s,F,$,ne,_e,ze,w,E);return;case"select":Re=F=$=Te=null;for(w in p)if(ne=p[w],p.hasOwnProperty(w)&&ne!=null)switch(w){case"value":break;case"multiple":Re=ne;default:v.hasOwnProperty(w)||Wn(s,l,w,null,v,ne)}for(E in v)if(w=v[E],ne=p[E],v.hasOwnProperty(E)&&(w!=null||ne!=null))switch(E){case"value":Te=w;break;case"defaultValue":$=w;break;case"multiple":F=w;default:w!==ne&&Wn(s,l,E,w,v,ne)}l=$,p=F,v=Re,Te!=null?Ai(s,!!p,Te,!1):!!v!=!!p&&(l!=null?Ai(s,!!p,l,!0):Ai(s,!!p,p?[]:"",!1));return;case"textarea":Re=Te=null;for($ in p)if(E=p[$],p.hasOwnProperty($)&&E!=null&&!v.hasOwnProperty($))switch($){case"value":break;case"children":break;default:Wn(s,l,$,null,v,E)}for(F in v)if(E=v[F],w=p[F],v.hasOwnProperty(F)&&(E!=null||w!=null))switch(F){case"value":Te=E;break;case"defaultValue":Re=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:E!==w&&Wn(s,l,F,E,v,w)}Gi(s,Te,Re);return;case"option":for(var $t in p)if(Te=p[$t],p.hasOwnProperty($t)&&Te!=null&&!v.hasOwnProperty($t))switch($t){case"selected":s.selected=!1;break;default:Wn(s,l,$t,null,v,Te)}for(ne in v)if(Te=v[ne],Re=p[ne],v.hasOwnProperty(ne)&&Te!==Re&&(Te!=null||Re!=null))switch(ne){case"selected":s.selected=Te&&typeof Te!="function"&&typeof Te!="symbol";break;default:Wn(s,l,ne,Te,v,Re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ft in p)Te=p[Ft],p.hasOwnProperty(Ft)&&Te!=null&&!v.hasOwnProperty(Ft)&&Wn(s,l,Ft,null,v,Te);for(_e in v)if(Te=v[_e],Re=p[_e],v.hasOwnProperty(_e)&&Te!==Re&&(Te!=null||Re!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(i(137,l));break;default:Wn(s,l,_e,Te,v,Re)}return;default:if(nd(l)){for(var qn in p)Te=p[qn],p.hasOwnProperty(qn)&&Te!==void 0&&!v.hasOwnProperty(qn)&&o1(s,l,qn,void 0,v,Te);for(ze in v)Te=v[ze],Re=p[ze],!v.hasOwnProperty(ze)||Te===Re||Te===void 0&&Re===void 0||o1(s,l,ze,Te,v,Re);return}}for(var me in p)Te=p[me],p.hasOwnProperty(me)&&Te!=null&&!v.hasOwnProperty(me)&&Wn(s,l,me,null,v,Te);for(Ge in v)Te=v[Ge],Re=p[Ge],!v.hasOwnProperty(Ge)||Te===Re||Te==null&&Re==null||Wn(s,l,Ge,Te,v,Re)}var l1=null,u1=null;function jy(s){return s.nodeType===9?s:s.ownerDocument}function vC(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yC(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function c1(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var f1=null;function JI(){var s=window.event;return s&&s.type==="popstate"?s===f1?!1:(f1=s,!0):(f1=null,!1)}var xC=typeof setTimeout=="function"?setTimeout:void 0,e4=typeof clearTimeout=="function"?clearTimeout:void 0,bC=typeof Promise=="function"?Promise:void 0,t4=typeof queueMicrotask=="function"?queueMicrotask:typeof bC<"u"?function(s){return bC.resolve(null).then(s).catch(n4)}:xC;function n4(s){setTimeout(function(){throw s})}function Cc(s){return s==="head"}function _C(s,l){var p=l,v=0,E=0;do{var w=p.nextSibling;if(s.removeChild(p),w&&w.nodeType===8)if(p=w.data,p==="/$"){if(0<v&&8>v){p=v;var F=s.ownerDocument;if(p&1&&Eg(F.documentElement),p&2&&Eg(F.body),p&4)for(p=F.head,Eg(p),F=p.firstChild;F;){var $=F.nextSibling,ne=F.nodeName;F[Ka]||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&F.rel.toLowerCase()==="stylesheet"||p.removeChild(F),F=$}}if(E===0){s.removeChild(w),Og(l);return}E--}else p==="$"||p==="$?"||p==="$!"?E++:v=p.charCodeAt(0)-48;else v=0;p=w}while(p);Og(l)}function h1(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var p=l;switch(l=l.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":h1(p),Ln(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}s.removeChild(p)}}function i4(s,l,p,v){for(;s.nodeType===1;){var E=p;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!v&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(v){if(!s[Ka])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==E.rel||s.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||s.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||s.getAttribute("title")!==(E.title==null?null:E.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(E.src==null?null:E.src)||s.getAttribute("type")!==(E.type==null?null:E.type)||s.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var w=E.name==null?null:""+E.name;if(E.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=_o(s.nextSibling),s===null)break}return null}function r4(s,l,p){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!p||(s=_o(s.nextSibling),s===null))return null;return s}function d1(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function a4(s,l){var p=s.ownerDocument;if(s.data!=="$?"||p.readyState==="complete")l();else{var v=function(){l(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),s._reactRetry=v}}function _o(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}var p1=null;function SC(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(l===0)return s;l--}else p==="/$"&&l++}s=s.previousSibling}return null}function EC(s,l,p){switch(l=jy(p),s){case"html":if(s=l.documentElement,!s)throw Error(i(452));return s;case"head":if(s=l.head,!s)throw Error(i(453));return s;case"body":if(s=l.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Eg(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);Ln(s)}var zs=new Map,MC=new Set;function Xy(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var au=Y.d;Y.d={f:s4,r:o4,D:l4,C:u4,L:c4,m:f4,X:d4,S:h4,M:p4};function s4(){var s=au.f(),l=Ls();return s||l}function o4(s){var l=Qa(s);l!==null&&l.tag===5&&l.type==="form"?Ty(l):au.r(s)}var ep=typeof document>"u"?null:document;function TC(s,l,p){var v=ep;if(v&&typeof l=="string"&&l){var E=Bn(l);E='link[rel="'+s+'"][href="'+E+'"]',typeof p=="string"&&(E+='[crossorigin="'+p+'"]'),MC.has(E)||(MC.add(E),s={rel:s,crossOrigin:p,href:l},v.querySelector(E)===null&&(l=v.createElement("link"),Dr(l,"link",s),Ti(l),v.head.appendChild(l)))}}function l4(s){au.D(s),TC("dns-prefetch",s,null)}function u4(s,l){au.C(s,l),TC("preconnect",s,l)}function c4(s,l,p){au.L(s,l,p);var v=ep;if(v&&s&&l){var E='link[rel="preload"][as="'+Bn(l)+'"]';l==="image"&&p&&p.imageSrcSet?(E+='[imagesrcset="'+Bn(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(E+='[imagesizes="'+Bn(p.imageSizes)+'"]')):E+='[href="'+Bn(s)+'"]';var w=E;switch(l){case"style":w=tp(s);break;case"script":w=np(s)}zs.has(w)||(s=m({rel:"preload",href:l==="image"&&p&&p.imageSrcSet?void 0:s,as:l},p),zs.set(w,s),v.querySelector(E)!==null||l==="style"&&v.querySelector(Mg(w))||l==="script"&&v.querySelector(Tg(w))||(l=v.createElement("link"),Dr(l,"link",s),Ti(l),v.head.appendChild(l)))}}function f4(s,l){au.m(s,l);var p=ep;if(p&&s){var v=l&&typeof l.as=="string"?l.as:"script",E='link[rel="modulepreload"][as="'+Bn(v)+'"][href="'+Bn(s)+'"]',w=E;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=np(s)}if(!zs.has(w)&&(s=m({rel:"modulepreload",href:s},l),zs.set(w,s),p.querySelector(E)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Tg(w)))return}v=p.createElement("link"),Dr(v,"link",s),Ti(v),p.head.appendChild(v)}}}function h4(s,l,p){au.S(s,l,p);var v=ep;if(v&&s){var E=Ks(v).hoistableStyles,w=tp(s);l=l||"default";var F=E.get(w);if(!F){var $={loading:0,preload:null};if(F=v.querySelector(Mg(w)))$.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":l},p),(p=zs.get(w))&&m1(s,p);var ne=F=v.createElement("link");Ti(ne),Dr(ne,"link",s),ne._p=new Promise(function(_e,ze){ne.onload=_e,ne.onerror=ze}),ne.addEventListener("load",function(){$.loading|=1}),ne.addEventListener("error",function(){$.loading|=2}),$.loading|=4,Wy(F,l,v)}F={type:"stylesheet",instance:F,count:1,state:$},E.set(w,F)}}}function d4(s,l){au.X(s,l);var p=ep;if(p&&s){var v=Ks(p).hoistableScripts,E=np(s),w=v.get(E);w||(w=p.querySelector(Tg(E)),w||(s=m({src:s,async:!0},l),(l=zs.get(E))&&g1(s,l),w=p.createElement("script"),Ti(w),Dr(w,"link",s),p.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},v.set(E,w))}}function p4(s,l){au.M(s,l);var p=ep;if(p&&s){var v=Ks(p).hoistableScripts,E=np(s),w=v.get(E);w||(w=p.querySelector(Tg(E)),w||(s=m({src:s,async:!0,type:"module"},l),(l=zs.get(E))&&g1(s,l),w=p.createElement("script"),Ti(w),Dr(w,"link",s),p.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},v.set(E,w))}}function AC(s,l,p,v){var E=(E=Be.current)?Xy(E):null;if(!E)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(l=tp(p.href),p=Ks(E).hoistableStyles,v=p.get(l),v||(v={type:"style",instance:null,count:0,state:null},p.set(l,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){s=tp(p.href);var w=Ks(E).hoistableStyles,F=w.get(s);if(F||(E=E.ownerDocument||E,F={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,F),(w=E.querySelector(Mg(s)))&&!w._p&&(F.instance=w,F.state.loading=5),zs.has(s)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},zs.set(s,p),w||m4(E,s,p,F.state))),l&&v===null)throw Error(i(528,""));return F}if(l&&v!==null)throw Error(i(529,""));return null;case"script":return l=p.async,p=p.src,typeof p=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=np(p),p=Ks(E).hoistableScripts,v=p.get(l),v||(v={type:"script",instance:null,count:0,state:null},p.set(l,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function tp(s){return'href="'+Bn(s)+'"'}function Mg(s){return'link[rel="stylesheet"]['+s+"]"}function wC(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function m4(s,l,p,v){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?v.loading=1:(l=s.createElement("link"),v.preload=l,l.addEventListener("load",function(){return v.loading|=1}),l.addEventListener("error",function(){return v.loading|=2}),Dr(l,"link",p),Ti(l),s.head.appendChild(l))}function np(s){return'[src="'+Bn(s)+'"]'}function Tg(s){return"script[async]"+s}function CC(s,l,p){if(l.count++,l.instance===null)switch(l.type){case"style":var v=s.querySelector('style[data-href~="'+Bn(p.href)+'"]');if(v)return l.instance=v,Ti(v),v;var E=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(s.ownerDocument||s).createElement("style"),Ti(v),Dr(v,"style",E),Wy(v,p.precedence,s),l.instance=v;case"stylesheet":E=tp(p.href);var w=s.querySelector(Mg(E));if(w)return l.state.loading|=4,l.instance=w,Ti(w),w;v=wC(p),(E=zs.get(E))&&m1(v,E),w=(s.ownerDocument||s).createElement("link"),Ti(w);var F=w;return F._p=new Promise(function($,ne){F.onload=$,F.onerror=ne}),Dr(w,"link",v),l.state.loading|=4,Wy(w,p.precedence,s),l.instance=w;case"script":return w=np(p.src),(E=s.querySelector(Tg(w)))?(l.instance=E,Ti(E),E):(v=p,(E=zs.get(w))&&(v=m({},p),g1(v,E)),s=s.ownerDocument||s,E=s.createElement("script"),Ti(E),Dr(E,"link",v),s.head.appendChild(E),l.instance=E);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(v=l.instance,l.state.loading|=4,Wy(v,p.precedence,s));return l.instance}function Wy(s,l,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=v.length?v[v.length-1]:null,w=E,F=0;F<v.length;F++){var $=v[F];if($.dataset.precedence===l)w=$;else if(w!==E)break}w?w.parentNode.insertBefore(s,w.nextSibling):(l=p.nodeType===9?p.head:p,l.insertBefore(s,l.firstChild))}function m1(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function g1(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var qy=null;function RC(s,l,p){if(qy===null){var v=new Map,E=qy=new Map;E.set(p,v)}else E=qy,v=E.get(p),v||(v=new Map,E.set(p,v));if(v.has(s))return v;for(v.set(s,null),p=p.getElementsByTagName(s),E=0;E<p.length;E++){var w=p[E];if(!(w[Ka]||w[Mi]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var F=w.getAttribute(l)||"";F=s+F;var $=v.get(F);$?$.push(w):v.set(F,[w])}}return v}function DC(s,l,p){s=s.ownerDocument||s,s.head.insertBefore(p,l==="title"?s.querySelector("head > title"):null)}function g4(s,l,p){if(p===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function OC(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Ag=null;function v4(){}function y4(s,l,p){if(Ag===null)throw Error(i(475));var v=Ag;if(l.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var E=tp(p.href),w=s.querySelector(Mg(E));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(v.count++,v=Yy.bind(v),s.then(v,v)),l.state.loading|=4,l.instance=w,Ti(w);return}w=s.ownerDocument||s,p=wC(p),(E=zs.get(E))&&m1(p,E),w=w.createElement("link"),Ti(w);var F=w;F._p=new Promise(function($,ne){F.onload=$,F.onerror=ne}),Dr(w,"link",p),l.instance=w}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(v.count++,l=Yy.bind(v),s.addEventListener("load",l),s.addEventListener("error",l))}}function x4(){if(Ag===null)throw Error(i(475));var s=Ag;return s.stylesheets&&s.count===0&&v1(s,s.stylesheets),0<s.count?function(l){var p=setTimeout(function(){if(s.stylesheets&&v1(s,s.stylesheets),s.unsuspend){var v=s.unsuspend;s.unsuspend=null,v()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(p)}}:null}function Yy(){if(this.count--,this.count===0){if(this.stylesheets)v1(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Ky=null;function v1(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Ky=new Map,l.forEach(b4,s),Ky=null,Yy.call(s))}function b4(s,l){if(!(l.state.loading&4)){var p=Ky.get(s);if(p)var v=p.get(null);else{p=new Map,Ky.set(s,p);for(var E=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<E.length;w++){var F=E[w];(F.nodeName==="LINK"||F.getAttribute("media")!=="not all")&&(p.set(F.dataset.precedence,F),v=F)}v&&p.set(null,v)}E=l.instance,F=E.getAttribute("data-precedence"),w=p.get(F)||v,w===v&&p.set(null,E),p.set(F,E),this.count++,v=Yy.bind(this),E.addEventListener("load",v),E.addEventListener("error",v),w?w.parentNode.insertBefore(E,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(E,s.firstChild)),l.state.loading|=4}}var wg={$$typeof:D,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function _4(s,l,p,v,E,w,F,$){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=v,this.onUncaughtError=E,this.onCaughtError=w,this.onRecoverableError=F,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function NC(s,l,p,v,E,w,F,$,ne,_e,ze,Ge){return s=new _4(s,l,p,F,$,ne,_e,Ge),l=1,w===!0&&(l|=24),w=Fr(3,null,null,l),s.current=w,w.stateNode=s,l=Ed(),l.refCount++,s.pooledCache=l,l.refCount++,w.memoizedState={element:v,isDehydrated:p,cache:l},Zm(w),s}function PC(s){return s?(s=$o,s):$o}function LC(s,l,p,v,E,w){E=PC(E),v.context===null?v.context=E:v.pendingContext=E,v=Es(l),v.payload={element:p},w=w===void 0?null:w,w!==null&&(v.callback=w),p=co(s,v,l),p!==null&&(Rr(p,s,l),Hl(p,s,l))}function UC(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<l?p:l}}function y1(s,l){UC(s,l),(s=s.alternate)&&UC(s,l)}function zC(s){if(s.tag===13){var l=ao(s,67108864);l!==null&&Rr(l,s,67108864),y1(s,67108864)}}var Zy=!0;function S4(s,l,p,v){var E=k.T;k.T=null;var w=Y.p;try{Y.p=2,x1(s,l,p,v)}finally{Y.p=w,k.T=E}}function E4(s,l,p,v){var E=k.T;k.T=null;var w=Y.p;try{Y.p=8,x1(s,l,p,v)}finally{Y.p=w,k.T=E}}function x1(s,l,p,v){if(Zy){var E=b1(v);if(E===null)s1(s,l,v,Qy,p),IC(s,v);else if(T4(E,s,l,p,v))v.stopPropagation();else if(IC(s,v),l&4&&-1<M4.indexOf(s)){for(;E!==null;){var w=Qa(E);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var F=yt(w.pendingLanes);if(F!==0){var $=w;for($.pendingLanes|=2,$.entangledLanes|=2;F;){var ne=1<<31-st(F);$.entanglements[1]|=ne,F&=~ne}pl(w),(Rn&6)===0&&(mr=We()+500,bg(0))}}break;case 13:$=ao(w,2),$!==null&&Rr($,w,2),Ls(),y1(w,2)}if(w=b1(v),w===null&&s1(s,l,v,Qy,p),w===E)break;E=w}E!==null&&v.stopPropagation()}else s1(s,l,v,null,p)}}function b1(s){return s=rd(s),_1(s)}var Qy=null;function _1(s){if(Qy=null,s=Za(s),s!==null){var l=a(s);if(l===null)s=null;else{var p=l.tag;if(p===13){if(s=o(l),s!==null)return s;s=null}else if(p===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Qy=s,null}function BC(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pe()){case rt:return 2;case He:return 8;case at:case wt:return 32;case j:return 268435456;default:return 32}default:return 32}}var S1=!1,Rc=null,Dc=null,Oc=null,Cg=new Map,Rg=new Map,Nc=[],M4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function IC(s,l){switch(s){case"focusin":case"focusout":Rc=null;break;case"dragenter":case"dragleave":Dc=null;break;case"mouseover":case"mouseout":Oc=null;break;case"pointerover":case"pointerout":Cg.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rg.delete(l.pointerId)}}function Dg(s,l,p,v,E,w){return s===null||s.nativeEvent!==w?(s={blockedOn:l,domEventName:p,eventSystemFlags:v,nativeEvent:w,targetContainers:[E]},l!==null&&(l=Qa(l),l!==null&&zC(l)),s):(s.eventSystemFlags|=v,l=s.targetContainers,E!==null&&l.indexOf(E)===-1&&l.push(E),s)}function T4(s,l,p,v,E){switch(l){case"focusin":return Rc=Dg(Rc,s,l,p,v,E),!0;case"dragenter":return Dc=Dg(Dc,s,l,p,v,E),!0;case"mouseover":return Oc=Dg(Oc,s,l,p,v,E),!0;case"pointerover":var w=E.pointerId;return Cg.set(w,Dg(Cg.get(w)||null,s,l,p,v,E)),!0;case"gotpointercapture":return w=E.pointerId,Rg.set(w,Dg(Rg.get(w)||null,s,l,p,v,E)),!0}return!1}function FC(s){var l=Za(s.target);if(l!==null){var p=a(l);if(p!==null){if(l=p.tag,l===13){if(l=o(p),l!==null){s.blockedOn=l,Ei(s.priority,function(){if(p.tag===13){var v=ui();v=Tt(v);var E=ao(p,v);E!==null&&Rr(E,p,v),y1(p,v)}});return}}else if(l===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Jy(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var p=b1(s.nativeEvent);if(p===null){p=s.nativeEvent;var v=new p.constructor(p.type,p);id=v,p.target.dispatchEvent(v),id=null}else return l=Qa(p),l!==null&&zC(l),s.blockedOn=p,!1;l.shift()}return!0}function VC(s,l,p){Jy(s)&&p.delete(l)}function A4(){S1=!1,Rc!==null&&Jy(Rc)&&(Rc=null),Dc!==null&&Jy(Dc)&&(Dc=null),Oc!==null&&Jy(Oc)&&(Oc=null),Cg.forEach(VC),Rg.forEach(VC)}function ex(s,l){s.blockedOn===l&&(s.blockedOn=null,S1||(S1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,A4)))}var tx=null;function HC(s){tx!==s&&(tx=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){tx===s&&(tx=null);for(var l=0;l<s.length;l+=3){var p=s[l],v=s[l+1],E=s[l+2];if(typeof v!="function"){if(_1(v||p)===null)continue;break}var w=Qa(p);w!==null&&(s.splice(l,3),l-=3,dg(w,{pending:!0,data:E,method:p.method,action:v},v,E))}}))}function Og(s){function l(ne){return ex(ne,s)}Rc!==null&&ex(Rc,s),Dc!==null&&ex(Dc,s),Oc!==null&&ex(Oc,s),Cg.forEach(l),Rg.forEach(l);for(var p=0;p<Nc.length;p++){var v=Nc[p];v.blockedOn===s&&(v.blockedOn=null)}for(;0<Nc.length&&(p=Nc[0],p.blockedOn===null);)FC(p),p.blockedOn===null&&Nc.shift();if(p=(s.ownerDocument||s).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var E=p[v],w=p[v+1],F=E[Li]||null;if(typeof w=="function")F||HC(p);else if(F){var $=null;if(w&&w.hasAttribute("formAction")){if(E=w,F=w[Li]||null)$=F.formAction;else if(_1(E)!==null)continue}else $=F.action;typeof $=="function"?p[v+1]=$:(p.splice(v,3),v-=3),HC(p)}}}function E1(s){this._internalRoot=s}nx.prototype.render=E1.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(i(409));var p=l.current,v=ui();LC(p,v,s,l,null,null)},nx.prototype.unmount=E1.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;LC(s.current,2,null,s,null,null),Ls(),l[hr]=null}};function nx(s){this._internalRoot=s}nx.prototype.unstable_scheduleHydration=function(s){if(s){var l=Qt();s={blockedOn:null,target:s,priority:l};for(var p=0;p<Nc.length&&l!==0&&l<Nc[p].priority;p++);Nc.splice(p,0,s),p===0&&FC(s)}};var kC=e.version;if(kC!=="19.1.0")throw Error(i(527,kC,"19.1.0"));Y.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(l),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var w4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ix=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ix.isDisabled&&ix.supportsFiber)try{Me=ix.inject(w4),Ne=ix}catch{}}return Pg.createRoot=function(s,l){if(!r(s))throw Error(i(299));var p=!1,v="",E=Kf,w=Vd,F=By,$=null;return l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(E=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(F=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&($=l.unstable_transitionCallbacks)),l=NC(s,1,!1,null,null,p,v,E,w,F,$,null),s[hr]=l.current,a1(s),new E1(l)},Pg.hydrateRoot=function(s,l,p){if(!r(s))throw Error(i(299));var v=!1,E="",w=Kf,F=Vd,$=By,ne=null,_e=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onUncaughtError!==void 0&&(w=p.onUncaughtError),p.onCaughtError!==void 0&&(F=p.onCaughtError),p.onRecoverableError!==void 0&&($=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(ne=p.unstable_transitionCallbacks),p.formState!==void 0&&(_e=p.formState)),l=NC(s,1,!0,l,p??null,v,E,w,F,$,ne,_e),l.context=PC(null),p=l.current,v=ui(),v=Tt(v),E=Es(v),E.callback=null,co(p,E,v),p=v,l.current.lanes=p,lt(l,p),pl(l),s[hr]=l.current,a1(s),new nx(l)},Pg.version="19.1.0",Pg}var QC;function B4(){if(QC)return A1.exports;QC=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),A1.exports=z4(),A1.exports}var I4=B4();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const F_="178",xh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},bh={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},vN=0,LM=1,yN=2,F4=3,xN=0,V_=1,o0=2,Ao=3,Cu=0,Ma=1,xl=2,_u=0,Lh=1,UM=2,zM=3,BM=4,bN=5,Gc=100,_N=101,SN=102,EN=103,MN=104,TN=200,AN=201,wN=202,CN=203,Mb=204,Tb=205,RN=206,DN=207,ON=208,NN=209,PN=210,LN=211,UN=212,zN=213,BN=214,Ab=0,wb=1,Cb=2,Hh=3,Rb=4,Db=5,Ob=6,Nb=7,iv=0,IN=1,FN=2,Sl=0,VN=1,HN=2,kN=3,sA=4,GN=5,$N=6,jN=7,IM="attached",XN="detached",H_=300,Ru=301,Qc=302,R0=303,D0=304,nm=306,O0=1e3,ks=1001,N0=1002,Nr=1003,oA=1004,V4=1004,Cp=1005,H4=1005,ur=1006,l0=1007,k4=1007,bl=1008,G4=1008,Xs=1009,lA=1010,uA=1011,Gp=1012,k_=1013,Du=1014,$a=1015,im=1016,G_=1017,$_=1018,$p=1020,cA=35902,fA=1021,hA=1022,qr=1023,jp=1026,Xp=1027,j_=1028,rv=1029,dA=1030,X_=1031,$4=1032,W_=1033,u0=33776,c0=33777,f0=33778,h0=33779,Pb=35840,Lb=35841,Ub=35842,zb=35843,Bb=36196,Ib=37492,Fb=37496,Vb=37808,Hb=37809,kb=37810,Gb=37811,$b=37812,jb=37813,Xb=37814,Wb=37815,qb=37816,Yb=37817,Kb=37818,Zb=37819,Qb=37820,Jb=37821,d0=36492,e_=36494,t_=36495,pA=36283,n_=36284,i_=36285,r_=36286,WN=2200,qN=2201,YN=2202,P0=2300,a_=2301,fb=2302,Ch=2400,Rh=2401,L0=2402,q_=2500,mA=2501,j4=0,X4=1,W4=2,KN=3200,ZN=3201,q4=3202,Y4=3203,sf=0,QN=1,vu="",Wr="srgb",Jc="srgb-linear",U0="linear",kn="srgb",K4=0,_h=7680,Z4=7681,Q4=7682,J4=7683,e5=34055,t5=34056,n5=5386,i5=512,r5=513,a5=514,s5=515,o5=516,l5=517,u5=518,FM=519,JN=512,eP=513,tP=514,gA=515,nP=516,iP=517,rP=518,aP=519,z0=35044,c5=35048,f5=35040,h5=35045,d5=35049,p5=35041,m5=35046,g5=35050,v5=35042,y5="100",VM="300 es",Gs=2e3,B0=2001,x5={COMPUTE:"compute",RENDER:"render"},b5={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},_5={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let Pl=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,o=r.length;a<o;a++)r[a].call(this,e);e.target=null}}};const $r=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let JC=1234567;const Uh=Math.PI/180,Wp=180/Math.PI;function ps(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return($r[n&255]+$r[n>>8&255]+$r[n>>16&255]+$r[n>>24&255]+"-"+$r[e&255]+$r[e>>8&255]+"-"+$r[e>>16&15|64]+$r[e>>24&255]+"-"+$r[t&63|128]+$r[t>>8&255]+"-"+$r[t>>16&255]+$r[t>>24&255]+$r[i&255]+$r[i>>8&255]+$r[i>>16&255]+$r[i>>24&255]).toLowerCase()}function Kt(n,e,t){return Math.max(e,Math.min(t,n))}function vA(n,e){return(n%e+e)%e}function S5(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function E5(n,e,t){return n!==e?(t-n)/(e-n):0}function p0(n,e,t){return(1-t)*n+t*e}function M5(n,e,t,i){return p0(n,e,1-Math.exp(-t*i))}function T5(n,e=1){return e-Math.abs(vA(n,e*2)-e)}function A5(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function w5(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function C5(n,e){return n+Math.floor(Math.random()*(e-n+1))}function R5(n,e){return n+Math.random()*(e-n)}function D5(n){return n*(.5-Math.random())}function O5(n){n!==void 0&&(JC=n);let e=JC+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function N5(n){return n*Uh}function P5(n){return n*Wp}function L5(n){return(n&n-1)===0&&n!==0}function U5(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function z5(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function B5(n,e,t,i,r){const a=Math.cos,o=Math.sin,u=a(t/2),f=o(t/2),d=a((e+i)/2),m=o((e+i)/2),g=a((e-i)/2),y=o((e-i)/2),b=a((i-e)/2),_=o((i-e)/2);switch(r){case"XYX":n.set(u*m,f*g,f*y,u*d);break;case"YZY":n.set(f*y,u*m,f*g,u*d);break;case"ZXZ":n.set(f*g,f*y,u*m,u*d);break;case"XZX":n.set(u*m,f*_,f*b,u*d);break;case"YXY":n.set(f*b,u*m,f*_,u*d);break;case"ZYZ":n.set(f*_,f*b,u*m,u*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function _a(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function sn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const I5={DEG2RAD:Uh,RAD2DEG:Wp,generateUUID:ps,clamp:Kt,euclideanModulo:vA,mapLinear:S5,inverseLerp:E5,lerp:p0,damp:M5,pingpong:T5,smoothstep:A5,smootherstep:w5,randInt:C5,randFloat:R5,randFloatSpread:D5,seededRandom:O5,degToRad:N5,radToDeg:P5,isPowerOfTwo:L5,ceilPowerOfTwo:U5,floorPowerOfTwo:z5,setQuaternionFromProperEuler:B5,normalize:sn,denormalize:_a};class Ie{constructor(e=0,t=0){Ie.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Kt(this.x,e.x,t.x),this.y=Kt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Kt(this.x,e,t),this.y=Kt(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Kt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Kt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),a=this.x-e.x,o=this.y-e.y;return this.x=a*i-o*r+e.x,this.y=a*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Zr{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,a,o,u){let f=i[r+0],d=i[r+1],m=i[r+2],g=i[r+3];const y=a[o+0],b=a[o+1],_=a[o+2],A=a[o+3];if(u===0){e[t+0]=f,e[t+1]=d,e[t+2]=m,e[t+3]=g;return}if(u===1){e[t+0]=y,e[t+1]=b,e[t+2]=_,e[t+3]=A;return}if(g!==A||f!==y||d!==b||m!==_){let T=1-u;const S=f*y+d*b+m*_+g*A,C=S>=0?1:-1,D=1-S*S;if(D>Number.EPSILON){const z=Math.sqrt(D),U=Math.atan2(z,S*C);T=Math.sin(T*U)/z,u=Math.sin(u*U)/z}const N=u*C;if(f=f*T+y*N,d=d*T+b*N,m=m*T+_*N,g=g*T+A*N,T===1-u){const z=1/Math.sqrt(f*f+d*d+m*m+g*g);f*=z,d*=z,m*=z,g*=z}}e[t]=f,e[t+1]=d,e[t+2]=m,e[t+3]=g}static multiplyQuaternionsFlat(e,t,i,r,a,o){const u=i[r],f=i[r+1],d=i[r+2],m=i[r+3],g=a[o],y=a[o+1],b=a[o+2],_=a[o+3];return e[t]=u*_+m*g+f*b-d*y,e[t+1]=f*_+m*y+d*g-u*b,e[t+2]=d*_+m*b+u*y-f*g,e[t+3]=m*_-u*g-f*y-d*b,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,a=e._z,o=e._order,u=Math.cos,f=Math.sin,d=u(i/2),m=u(r/2),g=u(a/2),y=f(i/2),b=f(r/2),_=f(a/2);switch(o){case"XYZ":this._x=y*m*g+d*b*_,this._y=d*b*g-y*m*_,this._z=d*m*_+y*b*g,this._w=d*m*g-y*b*_;break;case"YXZ":this._x=y*m*g+d*b*_,this._y=d*b*g-y*m*_,this._z=d*m*_-y*b*g,this._w=d*m*g+y*b*_;break;case"ZXY":this._x=y*m*g-d*b*_,this._y=d*b*g+y*m*_,this._z=d*m*_+y*b*g,this._w=d*m*g-y*b*_;break;case"ZYX":this._x=y*m*g-d*b*_,this._y=d*b*g+y*m*_,this._z=d*m*_-y*b*g,this._w=d*m*g+y*b*_;break;case"YZX":this._x=y*m*g+d*b*_,this._y=d*b*g+y*m*_,this._z=d*m*_-y*b*g,this._w=d*m*g-y*b*_;break;case"XZY":this._x=y*m*g-d*b*_,this._y=d*b*g-y*m*_,this._z=d*m*_+y*b*g,this._w=d*m*g+y*b*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],a=t[8],o=t[1],u=t[5],f=t[9],d=t[2],m=t[6],g=t[10],y=i+u+g;if(y>0){const b=.5/Math.sqrt(y+1);this._w=.25/b,this._x=(m-f)*b,this._y=(a-d)*b,this._z=(o-r)*b}else if(i>u&&i>g){const b=2*Math.sqrt(1+i-u-g);this._w=(m-f)/b,this._x=.25*b,this._y=(r+o)/b,this._z=(a+d)/b}else if(u>g){const b=2*Math.sqrt(1+u-i-g);this._w=(a-d)/b,this._x=(r+o)/b,this._y=.25*b,this._z=(f+m)/b}else{const b=2*Math.sqrt(1+g-i-u);this._w=(o-r)/b,this._x=(a+d)/b,this._y=(f+m)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Kt(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,a=e._z,o=e._w,u=t._x,f=t._y,d=t._z,m=t._w;return this._x=i*m+o*u+r*d-a*f,this._y=r*m+o*f+a*u-i*d,this._z=a*m+o*d+i*f-r*u,this._w=o*m-i*u-r*f-a*d,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,a=this._z,o=this._w;let u=o*e._w+i*e._x+r*e._y+a*e._z;if(u<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,u=-u):this.copy(e),u>=1)return this._w=o,this._x=i,this._y=r,this._z=a,this;const f=1-u*u;if(f<=Number.EPSILON){const b=1-t;return this._w=b*o+t*this._w,this._x=b*i+t*this._x,this._y=b*r+t*this._y,this._z=b*a+t*this._z,this.normalize(),this}const d=Math.sqrt(f),m=Math.atan2(d,u),g=Math.sin((1-t)*m)/d,y=Math.sin(t*m)/d;return this._w=o*g+this._w*y,this._x=i*g+this._x*y,this._y=r*g+this._y*y,this._z=a*g+this._z*y,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Q{constructor(e=0,t=0,i=0){Q.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(eR.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(eR.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*i+a[6]*r,this.y=a[1]*t+a[4]*i+a[7]*r,this.z=a[2]*t+a[5]*i+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,a=e.elements,o=1/(a[3]*t+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*i+a[8]*r+a[12])*o,this.y=(a[1]*t+a[5]*i+a[9]*r+a[13])*o,this.z=(a[2]*t+a[6]*i+a[10]*r+a[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,a=e.x,o=e.y,u=e.z,f=e.w,d=2*(o*r-u*i),m=2*(u*t-a*r),g=2*(a*i-o*t);return this.x=t+f*d+o*g-u*m,this.y=i+f*m+u*d-a*g,this.z=r+f*g+a*m-o*d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r,this.y=a[1]*t+a[5]*i+a[9]*r,this.z=a[2]*t+a[6]*i+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Kt(this.x,e.x,t.x),this.y=Kt(this.y,e.y,t.y),this.z=Kt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Kt(this.x,e,t),this.y=Kt(this.y,e,t),this.z=Kt(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Kt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,a=e.z,o=t.x,u=t.y,f=t.z;return this.x=r*f-a*u,this.y=a*o-i*f,this.z=i*u-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return D1.copy(this).projectOnVector(e),this.sub(D1)}reflect(e){return this.sub(D1.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Kt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const D1=new Q,eR=new Zr;class tn{constructor(e,t,i,r,a,o,u,f,d){tn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,a,o,u,f,d)}set(e,t,i,r,a,o,u,f,d){const m=this.elements;return m[0]=e,m[1]=r,m[2]=u,m[3]=t,m[4]=a,m[5]=f,m[6]=i,m[7]=o,m[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,a=this.elements,o=i[0],u=i[3],f=i[6],d=i[1],m=i[4],g=i[7],y=i[2],b=i[5],_=i[8],A=r[0],T=r[3],S=r[6],C=r[1],D=r[4],N=r[7],z=r[2],U=r[5],I=r[8];return a[0]=o*A+u*C+f*z,a[3]=o*T+u*D+f*U,a[6]=o*S+u*N+f*I,a[1]=d*A+m*C+g*z,a[4]=d*T+m*D+g*U,a[7]=d*S+m*N+g*I,a[2]=y*A+b*C+_*z,a[5]=y*T+b*D+_*U,a[8]=y*S+b*N+_*I,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],o=e[4],u=e[5],f=e[6],d=e[7],m=e[8];return t*o*m-t*u*d-i*a*m+i*u*f+r*a*d-r*o*f}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],o=e[4],u=e[5],f=e[6],d=e[7],m=e[8],g=m*o-u*d,y=u*f-m*a,b=d*a-o*f,_=t*g+i*y+r*b;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const A=1/_;return e[0]=g*A,e[1]=(r*d-m*i)*A,e[2]=(u*i-r*o)*A,e[3]=y*A,e[4]=(m*t-r*f)*A,e[5]=(r*a-u*t)*A,e[6]=b*A,e[7]=(i*f-d*t)*A,e[8]=(o*t-i*a)*A,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,a,o,u){const f=Math.cos(a),d=Math.sin(a);return this.set(i*f,i*d,-i*(f*o+d*u)+o+e,-r*d,r*f,-r*(-d*o+f*u)+u+t,0,0,1),this}scale(e,t){return this.premultiply(O1.makeScale(e,t)),this}rotate(e){return this.premultiply(O1.makeRotation(-e)),this}translate(e,t){return this.premultiply(O1.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const O1=new tn;function sP(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const F5={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Rp(n,e){return new F5[n](e)}function I0(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function oP(){const n=I0("canvas");return n.style.display="block",n}const tR={};function Ip(n){n in tR||(tR[n]=!0,console.warn(n))}function V5(n,e,t){return new Promise(function(i,r){function a(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:i()}}setTimeout(a,t)})}function H5(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function k5(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const nR=new tn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),iR=new tn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function G5(){const n={enabled:!0,workingColorSpace:Jc,spaces:{},convert:function(r,a,o){return this.enabled===!1||a===o||!a||!o||(this.spaces[a].transfer===kn&&(r.r=Su(r.r),r.g=Su(r.g),r.b=Su(r.b)),this.spaces[a].primaries!==this.spaces[o].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===kn&&(r.r=Fp(r.r),r.g=Fp(r.g),r.b=Fp(r.b))),r},workingToColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},colorSpaceToWorking:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===vu?U0:this.spaces[r].transfer},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,o){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,a){return Ip("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(r,a)},toWorkingColorSpace:function(r,a){return Ip("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(r,a)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Jc]:{primaries:e,whitePoint:i,transfer:U0,toXYZ:nR,fromXYZ:iR,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Wr},outputColorSpaceConfig:{drawingBufferColorSpace:Wr}},[Wr]:{primaries:e,whitePoint:i,transfer:kn,toXYZ:nR,fromXYZ:iR,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Wr}}}),n}const bn=G5();function Su(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Fp(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let ip;class lP{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{ip===void 0&&(ip=I0("canvas")),ip.width=e.width,ip.height=e.height;const r=ip.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=ip}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=I0("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),a=r.data;for(let o=0;o<a.length;o++)a[o]=Su(a[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Su(t[i]/255)*255):t[i]=Su(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let $5=0;class Xc{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:$5++}),this.uuid=ps(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let o=0,u=r.length;o<u;o++)r[o].isDataTexture?a.push(N1(r[o].image)):a.push(N1(r[o]))}else a=N1(r);i.url=a}return t||(e.images[this.uuid]=i),i}}function N1(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?lP.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let j5=0;const P1=new Q;class Ni extends Pl{constructor(e=Ni.DEFAULT_IMAGE,t=Ni.DEFAULT_MAPPING,i=ks,r=ks,a=ur,o=bl,u=qr,f=Xs,d=Ni.DEFAULT_ANISOTROPY,m=vu){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:j5++}),this.uuid=ps(),this.name="",this.source=new Xc(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=a,this.minFilter=o,this.anisotropy=d,this.format=u,this.internalFormat=null,this.type=f,this.offset=new Ie(0,0),this.repeat=new Ie(1,1),this.center=new Ie(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new tn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(P1).x}get height(){return this.source.getSize(P1).y}get depth(){return this.source.getSize(P1).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==H_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case O0:e.x=e.x-Math.floor(e.x);break;case ks:e.x=e.x<0?0:1;break;case N0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case O0:e.y=e.y-Math.floor(e.y);break;case ks:e.y=e.y<0?0:1;break;case N0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ni.DEFAULT_IMAGE=null;Ni.DEFAULT_MAPPING=H_;Ni.DEFAULT_ANISOTROPY=1;class An{constructor(e=0,t=0,i=0,r=1){An.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,a=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*a,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*a,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*a,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,a;const f=e.elements,d=f[0],m=f[4],g=f[8],y=f[1],b=f[5],_=f[9],A=f[2],T=f[6],S=f[10];if(Math.abs(m-y)<.01&&Math.abs(g-A)<.01&&Math.abs(_-T)<.01){if(Math.abs(m+y)<.1&&Math.abs(g+A)<.1&&Math.abs(_+T)<.1&&Math.abs(d+b+S-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const D=(d+1)/2,N=(b+1)/2,z=(S+1)/2,U=(m+y)/4,I=(g+A)/4,V=(_+T)/4;return D>N&&D>z?D<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(D),r=U/i,a=I/i):N>z?N<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(N),i=U/r,a=V/r):z<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(z),i=I/a,r=V/a),this.set(i,r,a,t),this}let C=Math.sqrt((T-_)*(T-_)+(g-A)*(g-A)+(y-m)*(y-m));return Math.abs(C)<.001&&(C=1),this.x=(T-_)/C,this.y=(g-A)/C,this.z=(y-m)/C,this.w=Math.acos((d+b+S-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Kt(this.x,e.x,t.x),this.y=Kt(this.y,e.y,t.y),this.z=Kt(this.z,e.z,t.z),this.w=Kt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Kt(this.x,e,t),this.y=Kt(this.y,e,t),this.z=Kt(this.z,e,t),this.w=Kt(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Kt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class yA extends Pl{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ur,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new An(0,0,e,t),this.scissorTest=!1,this.viewport=new An(0,0,e,t);const r={width:e,height:t,depth:i.depth},a=new Ni(r);this.textures=[];const o=i.count;for(let u=0;u<o;u++)this.textures[u]=a.clone(),this.textures[u].isRenderTargetTexture=!0,this.textures[u].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:ur,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new Xc(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Rl extends yA{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class Y_ extends Ni{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Nr,this.minFilter=Nr,this.wrapR=ks,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class X5 extends Rl{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Y_(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class K_ extends Ni{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Nr,this.minFilter=Nr,this.wrapR=ks,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class W5 extends Rl{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new K_(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class Qr{constructor(e=new Q(1/0,1/0,1/0),t=new Q(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(So.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(So.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=So.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const a=i.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,u=a.count;o<u;o++)e.isMesh===!0?e.getVertexPosition(o,So):So.fromBufferAttribute(a,o),So.applyMatrix4(e.matrixWorld),this.expandByPoint(So);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),rx.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),rx.copy(i.boundingBox)),rx.applyMatrix4(e.matrixWorld),this.union(rx)}const r=e.children;for(let a=0,o=r.length;a<o;a++)this.expandByObject(r[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,So),So.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Lg),ax.subVectors(this.max,Lg),rp.subVectors(e.a,Lg),ap.subVectors(e.b,Lg),sp.subVectors(e.c,Lg),Lc.subVectors(ap,rp),Uc.subVectors(sp,ap),rh.subVectors(rp,sp);let t=[0,-Lc.z,Lc.y,0,-Uc.z,Uc.y,0,-rh.z,rh.y,Lc.z,0,-Lc.x,Uc.z,0,-Uc.x,rh.z,0,-rh.x,-Lc.y,Lc.x,0,-Uc.y,Uc.x,0,-rh.y,rh.x,0];return!L1(t,rp,ap,sp,ax)||(t=[1,0,0,0,1,0,0,0,1],!L1(t,rp,ap,sp,ax))?!1:(sx.crossVectors(Lc,Uc),t=[sx.x,sx.y,sx.z],L1(t,rp,ap,sp,ax))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,So).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(So).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(su[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),su[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),su[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),su[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),su[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),su[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),su[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),su[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(su),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const su=[new Q,new Q,new Q,new Q,new Q,new Q,new Q,new Q],So=new Q,rx=new Qr,rp=new Q,ap=new Q,sp=new Q,Lc=new Q,Uc=new Q,rh=new Q,Lg=new Q,ax=new Q,sx=new Q,ah=new Q;function L1(n,e,t,i,r){for(let a=0,o=n.length-3;a<=o;a+=3){ah.fromArray(n,a);const u=r.x*Math.abs(ah.x)+r.y*Math.abs(ah.y)+r.z*Math.abs(ah.z),f=e.dot(ah),d=t.dot(ah),m=i.dot(ah);if(Math.max(-Math.max(f,d,m),Math.min(f,d,m))>u)return!1}return!0}const q5=new Qr,Ug=new Q,U1=new Q;class Pr{constructor(e=new Q,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):q5.setFromPoints(e).getCenter(i);let r=0;for(let a=0,o=e.length;a<o;a++)r=Math.max(r,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ug.subVectors(e,this.center);const t=Ug.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(Ug,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(U1.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ug.copy(e.center).add(U1)),this.expandByPoint(Ug.copy(e.center).sub(U1))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const ou=new Q,z1=new Q,ox=new Q,zc=new Q,B1=new Q,lx=new Q,I1=new Q;class Kh{constructor(e=new Q,t=new Q(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ou)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ou.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ou.copy(this.origin).addScaledVector(this.direction,t),ou.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){z1.copy(e).add(t).multiplyScalar(.5),ox.copy(t).sub(e).normalize(),zc.copy(this.origin).sub(z1);const a=e.distanceTo(t)*.5,o=-this.direction.dot(ox),u=zc.dot(this.direction),f=-zc.dot(ox),d=zc.lengthSq(),m=Math.abs(1-o*o);let g,y,b,_;if(m>0)if(g=o*f-u,y=o*u-f,_=a*m,g>=0)if(y>=-_)if(y<=_){const A=1/m;g*=A,y*=A,b=g*(g+o*y+2*u)+y*(o*g+y+2*f)+d}else y=a,g=Math.max(0,-(o*y+u)),b=-g*g+y*(y+2*f)+d;else y=-a,g=Math.max(0,-(o*y+u)),b=-g*g+y*(y+2*f)+d;else y<=-_?(g=Math.max(0,-(-o*a+u)),y=g>0?-a:Math.min(Math.max(-a,-f),a),b=-g*g+y*(y+2*f)+d):y<=_?(g=0,y=Math.min(Math.max(-a,-f),a),b=y*(y+2*f)+d):(g=Math.max(0,-(o*a+u)),y=g>0?a:Math.min(Math.max(-a,-f),a),b=-g*g+y*(y+2*f)+d);else y=o>0?-a:a,g=Math.max(0,-(o*y+u)),b=-g*g+y*(y+2*f)+d;return i&&i.copy(this.origin).addScaledVector(this.direction,g),r&&r.copy(z1).addScaledVector(ox,y),b}intersectSphere(e,t){ou.subVectors(e.center,this.origin);const i=ou.dot(this.direction),r=ou.dot(ou)-i*i,a=e.radius*e.radius;if(r>a)return null;const o=Math.sqrt(a-r),u=i-o,f=i+o;return f<0?null:u<0?this.at(f,t):this.at(u,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,a,o,u,f;const d=1/this.direction.x,m=1/this.direction.y,g=1/this.direction.z,y=this.origin;return d>=0?(i=(e.min.x-y.x)*d,r=(e.max.x-y.x)*d):(i=(e.max.x-y.x)*d,r=(e.min.x-y.x)*d),m>=0?(a=(e.min.y-y.y)*m,o=(e.max.y-y.y)*m):(a=(e.max.y-y.y)*m,o=(e.min.y-y.y)*m),i>o||a>r||((a>i||isNaN(i))&&(i=a),(o<r||isNaN(r))&&(r=o),g>=0?(u=(e.min.z-y.z)*g,f=(e.max.z-y.z)*g):(u=(e.max.z-y.z)*g,f=(e.min.z-y.z)*g),i>f||u>r)||((u>i||i!==i)&&(i=u),(f<r||r!==r)&&(r=f),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,ou)!==null}intersectTriangle(e,t,i,r,a){B1.subVectors(t,e),lx.subVectors(i,e),I1.crossVectors(B1,lx);let o=this.direction.dot(I1),u;if(o>0){if(r)return null;u=1}else if(o<0)u=-1,o=-o;else return null;zc.subVectors(this.origin,e);const f=u*this.direction.dot(lx.crossVectors(zc,lx));if(f<0)return null;const d=u*this.direction.dot(B1.cross(zc));if(d<0||f+d>o)return null;const m=-u*zc.dot(I1);return m<0?null:this.at(m/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Gt{constructor(e,t,i,r,a,o,u,f,d,m,g,y,b,_,A,T){Gt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,a,o,u,f,d,m,g,y,b,_,A,T)}set(e,t,i,r,a,o,u,f,d,m,g,y,b,_,A,T){const S=this.elements;return S[0]=e,S[4]=t,S[8]=i,S[12]=r,S[1]=a,S[5]=o,S[9]=u,S[13]=f,S[2]=d,S[6]=m,S[10]=g,S[14]=y,S[3]=b,S[7]=_,S[11]=A,S[15]=T,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Gt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/op.setFromMatrixColumn(e,0).length(),a=1/op.setFromMatrixColumn(e,1).length(),o=1/op.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*a,t[5]=i[5]*a,t[6]=i[6]*a,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,a=e.z,o=Math.cos(i),u=Math.sin(i),f=Math.cos(r),d=Math.sin(r),m=Math.cos(a),g=Math.sin(a);if(e.order==="XYZ"){const y=o*m,b=o*g,_=u*m,A=u*g;t[0]=f*m,t[4]=-f*g,t[8]=d,t[1]=b+_*d,t[5]=y-A*d,t[9]=-u*f,t[2]=A-y*d,t[6]=_+b*d,t[10]=o*f}else if(e.order==="YXZ"){const y=f*m,b=f*g,_=d*m,A=d*g;t[0]=y+A*u,t[4]=_*u-b,t[8]=o*d,t[1]=o*g,t[5]=o*m,t[9]=-u,t[2]=b*u-_,t[6]=A+y*u,t[10]=o*f}else if(e.order==="ZXY"){const y=f*m,b=f*g,_=d*m,A=d*g;t[0]=y-A*u,t[4]=-o*g,t[8]=_+b*u,t[1]=b+_*u,t[5]=o*m,t[9]=A-y*u,t[2]=-o*d,t[6]=u,t[10]=o*f}else if(e.order==="ZYX"){const y=o*m,b=o*g,_=u*m,A=u*g;t[0]=f*m,t[4]=_*d-b,t[8]=y*d+A,t[1]=f*g,t[5]=A*d+y,t[9]=b*d-_,t[2]=-d,t[6]=u*f,t[10]=o*f}else if(e.order==="YZX"){const y=o*f,b=o*d,_=u*f,A=u*d;t[0]=f*m,t[4]=A-y*g,t[8]=_*g+b,t[1]=g,t[5]=o*m,t[9]=-u*m,t[2]=-d*m,t[6]=b*g+_,t[10]=y-A*g}else if(e.order==="XZY"){const y=o*f,b=o*d,_=u*f,A=u*d;t[0]=f*m,t[4]=-g,t[8]=d*m,t[1]=y*g+A,t[5]=o*m,t[9]=b*g-_,t[2]=_*g-b,t[6]=u*m,t[10]=A*g+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Y5,e,K5)}lookAt(e,t,i){const r=this.elements;return hs.subVectors(e,t),hs.lengthSq()===0&&(hs.z=1),hs.normalize(),Bc.crossVectors(i,hs),Bc.lengthSq()===0&&(Math.abs(i.z)===1?hs.x+=1e-4:hs.z+=1e-4,hs.normalize(),Bc.crossVectors(i,hs)),Bc.normalize(),ux.crossVectors(hs,Bc),r[0]=Bc.x,r[4]=ux.x,r[8]=hs.x,r[1]=Bc.y,r[5]=ux.y,r[9]=hs.y,r[2]=Bc.z,r[6]=ux.z,r[10]=hs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,a=this.elements,o=i[0],u=i[4],f=i[8],d=i[12],m=i[1],g=i[5],y=i[9],b=i[13],_=i[2],A=i[6],T=i[10],S=i[14],C=i[3],D=i[7],N=i[11],z=i[15],U=r[0],I=r[4],V=r[8],B=r[12],L=r[1],W=r[5],oe=r[9],ee=r[13],he=r[2],de=r[6],k=r[10],Y=r[14],K=r[3],ue=r[7],G=r[11],te=r[15];return a[0]=o*U+u*L+f*he+d*K,a[4]=o*I+u*W+f*de+d*ue,a[8]=o*V+u*oe+f*k+d*G,a[12]=o*B+u*ee+f*Y+d*te,a[1]=m*U+g*L+y*he+b*K,a[5]=m*I+g*W+y*de+b*ue,a[9]=m*V+g*oe+y*k+b*G,a[13]=m*B+g*ee+y*Y+b*te,a[2]=_*U+A*L+T*he+S*K,a[6]=_*I+A*W+T*de+S*ue,a[10]=_*V+A*oe+T*k+S*G,a[14]=_*B+A*ee+T*Y+S*te,a[3]=C*U+D*L+N*he+z*K,a[7]=C*I+D*W+N*de+z*ue,a[11]=C*V+D*oe+N*k+z*G,a[15]=C*B+D*ee+N*Y+z*te,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],a=e[12],o=e[1],u=e[5],f=e[9],d=e[13],m=e[2],g=e[6],y=e[10],b=e[14],_=e[3],A=e[7],T=e[11],S=e[15];return _*(+a*f*g-r*d*g-a*u*y+i*d*y+r*u*b-i*f*b)+A*(+t*f*b-t*d*y+a*o*y-r*o*b+r*d*m-a*f*m)+T*(+t*d*g-t*u*b-a*o*g+i*o*b+a*u*m-i*d*m)+S*(-r*u*m-t*f*g+t*u*y+r*o*g-i*o*y+i*f*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],o=e[4],u=e[5],f=e[6],d=e[7],m=e[8],g=e[9],y=e[10],b=e[11],_=e[12],A=e[13],T=e[14],S=e[15],C=g*T*d-A*y*d+A*f*b-u*T*b-g*f*S+u*y*S,D=_*y*d-m*T*d-_*f*b+o*T*b+m*f*S-o*y*S,N=m*A*d-_*g*d+_*u*b-o*A*b-m*u*S+o*g*S,z=_*g*f-m*A*f-_*u*y+o*A*y+m*u*T-o*g*T,U=t*C+i*D+r*N+a*z;if(U===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/U;return e[0]=C*I,e[1]=(A*y*a-g*T*a-A*r*b+i*T*b+g*r*S-i*y*S)*I,e[2]=(u*T*a-A*f*a+A*r*d-i*T*d-u*r*S+i*f*S)*I,e[3]=(g*f*a-u*y*a-g*r*d+i*y*d+u*r*b-i*f*b)*I,e[4]=D*I,e[5]=(m*T*a-_*y*a+_*r*b-t*T*b-m*r*S+t*y*S)*I,e[6]=(_*f*a-o*T*a-_*r*d+t*T*d+o*r*S-t*f*S)*I,e[7]=(o*y*a-m*f*a+m*r*d-t*y*d-o*r*b+t*f*b)*I,e[8]=N*I,e[9]=(_*g*a-m*A*a-_*i*b+t*A*b+m*i*S-t*g*S)*I,e[10]=(o*A*a-_*u*a+_*i*d-t*A*d-o*i*S+t*u*S)*I,e[11]=(m*u*a-o*g*a-m*i*d+t*g*d+o*i*b-t*u*b)*I,e[12]=z*I,e[13]=(m*A*r-_*g*r+_*i*y-t*A*y-m*i*T+t*g*T)*I,e[14]=(_*u*r-o*A*r-_*i*f+t*A*f+o*i*T-t*u*T)*I,e[15]=(o*g*r-m*u*r+m*i*f-t*g*f-o*i*y+t*u*y)*I,this}scale(e){const t=this.elements,i=e.x,r=e.y,a=e.z;return t[0]*=i,t[4]*=r,t[8]*=a,t[1]*=i,t[5]*=r,t[9]*=a,t[2]*=i,t[6]*=r,t[10]*=a,t[3]*=i,t[7]*=r,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),a=1-i,o=e.x,u=e.y,f=e.z,d=a*o,m=a*u;return this.set(d*o+i,d*u-r*f,d*f+r*u,0,d*u+r*f,m*u+i,m*f-r*o,0,d*f-r*u,m*f+r*o,a*f*f+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,a,o){return this.set(1,i,a,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,a=t._x,o=t._y,u=t._z,f=t._w,d=a+a,m=o+o,g=u+u,y=a*d,b=a*m,_=a*g,A=o*m,T=o*g,S=u*g,C=f*d,D=f*m,N=f*g,z=i.x,U=i.y,I=i.z;return r[0]=(1-(A+S))*z,r[1]=(b+N)*z,r[2]=(_-D)*z,r[3]=0,r[4]=(b-N)*U,r[5]=(1-(y+S))*U,r[6]=(T+C)*U,r[7]=0,r[8]=(_+D)*I,r[9]=(T-C)*I,r[10]=(1-(y+A))*I,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let a=op.set(r[0],r[1],r[2]).length();const o=op.set(r[4],r[5],r[6]).length(),u=op.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],Eo.copy(this);const d=1/a,m=1/o,g=1/u;return Eo.elements[0]*=d,Eo.elements[1]*=d,Eo.elements[2]*=d,Eo.elements[4]*=m,Eo.elements[5]*=m,Eo.elements[6]*=m,Eo.elements[8]*=g,Eo.elements[9]*=g,Eo.elements[10]*=g,t.setFromRotationMatrix(Eo),i.x=a,i.y=o,i.z=u,this}makePerspective(e,t,i,r,a,o,u=Gs){const f=this.elements,d=2*a/(t-e),m=2*a/(i-r),g=(t+e)/(t-e),y=(i+r)/(i-r);let b,_;if(u===Gs)b=-(o+a)/(o-a),_=-2*o*a/(o-a);else if(u===B0)b=-o/(o-a),_=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);return f[0]=d,f[4]=0,f[8]=g,f[12]=0,f[1]=0,f[5]=m,f[9]=y,f[13]=0,f[2]=0,f[6]=0,f[10]=b,f[14]=_,f[3]=0,f[7]=0,f[11]=-1,f[15]=0,this}makeOrthographic(e,t,i,r,a,o,u=Gs){const f=this.elements,d=1/(t-e),m=1/(i-r),g=1/(o-a),y=(t+e)*d,b=(i+r)*m;let _,A;if(u===Gs)_=(o+a)*g,A=-2*g;else if(u===B0)_=a*g,A=-1*g;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);return f[0]=2*d,f[4]=0,f[8]=0,f[12]=-y,f[1]=0,f[5]=2*m,f[9]=0,f[13]=-b,f[2]=0,f[6]=0,f[10]=A,f[14]=-_,f[3]=0,f[7]=0,f[11]=0,f[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const op=new Q,Eo=new Gt,Y5=new Q(0,0,0),K5=new Q(1,1,1),Bc=new Q,ux=new Q,hs=new Q,rR=new Gt,aR=new Zr;class ms{constructor(e=0,t=0,i=0,r=ms.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,a=r[0],o=r[4],u=r[8],f=r[1],d=r[5],m=r[9],g=r[2],y=r[6],b=r[10];switch(t){case"XYZ":this._y=Math.asin(Kt(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-m,b),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(y,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Kt(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(u,b),this._z=Math.atan2(f,d)):(this._y=Math.atan2(-g,a),this._z=0);break;case"ZXY":this._x=Math.asin(Kt(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-g,b),this._z=Math.atan2(-o,d)):(this._y=0,this._z=Math.atan2(f,a));break;case"ZYX":this._y=Math.asin(-Kt(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(y,b),this._z=Math.atan2(f,a)):(this._x=0,this._z=Math.atan2(-o,d));break;case"YZX":this._z=Math.asin(Kt(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-m,d),this._y=Math.atan2(-g,a)):(this._x=0,this._y=Math.atan2(u,b));break;case"XZY":this._z=Math.asin(-Kt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(y,d),this._y=Math.atan2(u,a)):(this._x=Math.atan2(-m,b),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return rR.makeRotationFromQuaternion(e),this.setFromRotationMatrix(rR,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return aR.setFromEuler(this),this.setFromQuaternion(aR,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ms.DEFAULT_ORDER="XYZ";class qp{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Z5=0;const sR=new Q,lp=new Zr,lu=new Gt,cx=new Q,zg=new Q,Q5=new Q,J5=new Zr,oR=new Q(1,0,0),lR=new Q(0,1,0),uR=new Q(0,0,1),cR={type:"added"},eF={type:"removed"},up={type:"childadded",child:null},F1={type:"childremoved",child:null};class wn extends Pl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Z5++}),this.uuid=ps(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=wn.DEFAULT_UP.clone();const e=new Q,t=new ms,i=new Zr,r=new Q(1,1,1);function a(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(a),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Gt},normalMatrix:{value:new tn}}),this.matrix=new Gt,this.matrixWorld=new Gt,this.matrixAutoUpdate=wn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=wn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new qp,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return lp.setFromAxisAngle(e,t),this.quaternion.multiply(lp),this}rotateOnWorldAxis(e,t){return lp.setFromAxisAngle(e,t),this.quaternion.premultiply(lp),this}rotateX(e){return this.rotateOnAxis(oR,e)}rotateY(e){return this.rotateOnAxis(lR,e)}rotateZ(e){return this.rotateOnAxis(uR,e)}translateOnAxis(e,t){return sR.copy(e).applyQuaternion(this.quaternion),this.position.add(sR.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(oR,e)}translateY(e){return this.translateOnAxis(lR,e)}translateZ(e){return this.translateOnAxis(uR,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(lu.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?cx.copy(e):cx.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),zg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?lu.lookAt(zg,cx,this.up):lu.lookAt(cx,zg,this.up),this.quaternion.setFromRotationMatrix(lu),r&&(lu.extractRotation(r.matrixWorld),lp.setFromRotationMatrix(lu),this.quaternion.premultiply(lp.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(cR),up.child=e,this.dispatchEvent(up),up.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(eF),F1.child=e,this.dispatchEvent(F1),F1.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),lu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),lu.multiply(e.parent.matrixWorld)),e.applyMatrix4(lu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(cR),up.child=e,this.dispatchEvent(up),up.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let a=0,o=r.length;a<o;a++)r[a].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(zg,e,Q5),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(zg,J5,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let a=0,o=r.length;a<o;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(u=>({...u,boundingBox:u.boundingBox?u.boundingBox.toJSON():void 0,boundingSphere:u.boundingSphere?u.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(u=>({...u})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function a(u,f){return u[f.uuid]===void 0&&(u[f.uuid]=f.toJSON(e)),f.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const f=u.shapes;if(Array.isArray(f))for(let d=0,m=f.length;d<m;d++){const g=f[d];a(e.shapes,g)}else a(e.shapes,f)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let f=0,d=this.material.length;f<d;f++)u.push(a(e.materials,this.material[f]));r.material=u}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let u=0;u<this.children.length;u++)r.children.push(this.children[u].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let u=0;u<this.animations.length;u++){const f=this.animations[u];r.animations.push(a(e.animations,f))}}if(t){const u=o(e.geometries),f=o(e.materials),d=o(e.textures),m=o(e.images),g=o(e.shapes),y=o(e.skeletons),b=o(e.animations),_=o(e.nodes);u.length>0&&(i.geometries=u),f.length>0&&(i.materials=f),d.length>0&&(i.textures=d),m.length>0&&(i.images=m),g.length>0&&(i.shapes=g),y.length>0&&(i.skeletons=y),b.length>0&&(i.animations=b),_.length>0&&(i.nodes=_)}return i.object=r,i;function o(u){const f=[];for(const d in u){const m=u[d];delete m.metadata,f.push(m)}return f}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}wn.DEFAULT_UP=new Q(0,1,0);wn.DEFAULT_MATRIX_AUTO_UPDATE=!0;wn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Mo=new Q,uu=new Q,V1=new Q,cu=new Q,cp=new Q,fp=new Q,fR=new Q,H1=new Q,k1=new Q,G1=new Q,$1=new An,j1=new An,X1=new An;class Ga{constructor(e=new Q,t=new Q,i=new Q){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Mo.subVectors(e,t),r.cross(Mo);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,t,i,r,a){Mo.subVectors(r,t),uu.subVectors(i,t),V1.subVectors(e,t);const o=Mo.dot(Mo),u=Mo.dot(uu),f=Mo.dot(V1),d=uu.dot(uu),m=uu.dot(V1),g=o*d-u*u;if(g===0)return a.set(0,0,0),null;const y=1/g,b=(d*f-u*m)*y,_=(o*m-u*f)*y;return a.set(1-b-_,_,b)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,cu)===null?!1:cu.x>=0&&cu.y>=0&&cu.x+cu.y<=1}static getInterpolation(e,t,i,r,a,o,u,f){return this.getBarycoord(e,t,i,r,cu)===null?(f.x=0,f.y=0,"z"in f&&(f.z=0),"w"in f&&(f.w=0),null):(f.setScalar(0),f.addScaledVector(a,cu.x),f.addScaledVector(o,cu.y),f.addScaledVector(u,cu.z),f)}static getInterpolatedAttribute(e,t,i,r,a,o){return $1.setScalar(0),j1.setScalar(0),X1.setScalar(0),$1.fromBufferAttribute(e,t),j1.fromBufferAttribute(e,i),X1.fromBufferAttribute(e,r),o.setScalar(0),o.addScaledVector($1,a.x),o.addScaledVector(j1,a.y),o.addScaledVector(X1,a.z),o}static isFrontFacing(e,t,i,r){return Mo.subVectors(i,t),uu.subVectors(e,t),Mo.cross(uu).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Mo.subVectors(this.c,this.b),uu.subVectors(this.a,this.b),Mo.cross(uu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ga.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ga.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,a){return Ga.getInterpolation(e,this.a,this.b,this.c,t,i,r,a)}containsPoint(e){return Ga.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ga.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,a=this.c;let o,u;cp.subVectors(r,i),fp.subVectors(a,i),H1.subVectors(e,i);const f=cp.dot(H1),d=fp.dot(H1);if(f<=0&&d<=0)return t.copy(i);k1.subVectors(e,r);const m=cp.dot(k1),g=fp.dot(k1);if(m>=0&&g<=m)return t.copy(r);const y=f*g-m*d;if(y<=0&&f>=0&&m<=0)return o=f/(f-m),t.copy(i).addScaledVector(cp,o);G1.subVectors(e,a);const b=cp.dot(G1),_=fp.dot(G1);if(_>=0&&b<=_)return t.copy(a);const A=b*d-f*_;if(A<=0&&d>=0&&_<=0)return u=d/(d-_),t.copy(i).addScaledVector(fp,u);const T=m*_-b*g;if(T<=0&&g-m>=0&&b-_>=0)return fR.subVectors(a,r),u=(g-m)/(g-m+(b-_)),t.copy(r).addScaledVector(fR,u);const S=1/(T+A+y);return o=A*S,u=y*S,t.copy(i).addScaledVector(cp,o).addScaledVector(fp,u)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const uP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ic={h:0,s:0,l:0},fx={h:0,s:0,l:0};function W1(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}let xt=class{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Wr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,bn.colorSpaceToWorking(this,t),this}setRGB(e,t,i,r=bn.workingColorSpace){return this.r=e,this.g=t,this.b=i,bn.colorSpaceToWorking(this,r),this}setHSL(e,t,i,r=bn.workingColorSpace){if(e=vA(e,1),t=Kt(t,0,1),i=Kt(i,0,1),t===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+t):i+t-i*t,o=2*i-a;this.r=W1(o,a,e+1/3),this.g=W1(o,a,e),this.b=W1(o,a,e-1/3)}return bn.colorSpaceToWorking(this,r),this}setStyle(e,t=Wr){function i(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=r[1],u=r[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Wr){const i=uP[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Su(e.r),this.g=Su(e.g),this.b=Su(e.b),this}copyLinearToSRGB(e){return this.r=Fp(e.r),this.g=Fp(e.g),this.b=Fp(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Wr){return bn.workingToColorSpace(jr.copy(this),e),Math.round(Kt(jr.r*255,0,255))*65536+Math.round(Kt(jr.g*255,0,255))*256+Math.round(Kt(jr.b*255,0,255))}getHexString(e=Wr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=bn.workingColorSpace){bn.workingToColorSpace(jr.copy(this),t);const i=jr.r,r=jr.g,a=jr.b,o=Math.max(i,r,a),u=Math.min(i,r,a);let f,d;const m=(u+o)/2;if(u===o)f=0,d=0;else{const g=o-u;switch(d=m<=.5?g/(o+u):g/(2-o-u),o){case i:f=(r-a)/g+(r<a?6:0);break;case r:f=(a-i)/g+2;break;case a:f=(i-r)/g+4;break}f/=6}return e.h=f,e.s=d,e.l=m,e}getRGB(e,t=bn.workingColorSpace){return bn.workingToColorSpace(jr.copy(this),t),e.r=jr.r,e.g=jr.g,e.b=jr.b,e}getStyle(e=Wr){bn.workingToColorSpace(jr.copy(this),e);const t=jr.r,i=jr.g,r=jr.b;return e!==Wr?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(Ic),this.setHSL(Ic.h+e,Ic.s+t,Ic.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Ic),e.getHSL(fx);const i=p0(Ic.h,fx.h,t),r=p0(Ic.s,fx.s,t),a=p0(Ic.l,fx.l,t);return this.setHSL(i,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,a=e.elements;return this.r=a[0]*t+a[3]*i+a[6]*r,this.g=a[1]*t+a[4]*i+a[7]*r,this.b=a[2]*t+a[5]*i+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const jr=new xt;xt.NAMES=uP;let tF=0;class ea extends Pl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:tF++}),this.uuid=ps(),this.name="",this.type="Material",this.blending=Lh,this.side=Cu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Mb,this.blendDst=Tb,this.blendEquation=Gc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new xt(0,0,0),this.blendAlpha=0,this.depthFunc=Hh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=FM,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=_h,this.stencilZFail=_h,this.stencilZPass=_h,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Lh&&(i.blending=this.blending),this.side!==Cu&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==Mb&&(i.blendSrc=this.blendSrc),this.blendDst!==Tb&&(i.blendDst=this.blendDst),this.blendEquation!==Gc&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Hh&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==FM&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==_h&&(i.stencilFail=this.stencilFail),this.stencilZFail!==_h&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==_h&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(a){const o=[];for(const u in a){const f=a[u];delete f.metadata,o.push(f)}return o}if(t){const a=r(e.textures),o=r(e.images);a.length>0&&(i.textures=a),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=t[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class of extends ea{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new xt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ms,this.combine=iv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const yu=nF();function nF(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let f=0;f<256;++f){const d=f-127;d<-27?(i[f]=0,i[f|256]=32768,r[f]=24,r[f|256]=24):d<-14?(i[f]=1024>>-d-14,i[f|256]=1024>>-d-14|32768,r[f]=-d-1,r[f|256]=-d-1):d<=15?(i[f]=d+15<<10,i[f|256]=d+15<<10|32768,r[f]=13,r[f|256]=13):d<128?(i[f]=31744,i[f|256]=64512,r[f]=24,r[f|256]=24):(i[f]=31744,i[f|256]=64512,r[f]=13,r[f|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),u=new Uint32Array(64);for(let f=1;f<1024;++f){let d=f<<13,m=0;for(;(d&8388608)===0;)d<<=1,m-=8388608;d&=-8388609,m+=947912704,a[f]=d|m}for(let f=1024;f<2048;++f)a[f]=939524096+(f-1024<<13);for(let f=1;f<31;++f)o[f]=f<<23;o[31]=1199570944,o[32]=2147483648;for(let f=33;f<63;++f)o[f]=2147483648+(f-32<<23);o[63]=3347054592;for(let f=1;f<64;++f)f!==32&&(u[f]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:o,offsetTable:u}}function Va(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Kt(n,-65504,65504),yu.floatView[0]=n;const e=yu.uint32View[0],t=e>>23&511;return yu.baseTable[t]+((e&8388607)>>yu.shiftTable[t])}function Zg(n){const e=n>>10;return yu.uint32View[0]=yu.mantissaTable[yu.offsetTable[e]+(n&1023)]+yu.exponentTable[e],yu.floatView[0]}class iF{static toHalfFloat(e){return Va(e)}static fromHalfFloat(e){return Zg(e)}}const Ki=new Q,hx=new Ie;let rF=0;class Kn{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:rF++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=z0,this.updateRanges=[],this.gpuType=$a,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)hx.fromBufferAttribute(this,t),hx.applyMatrix3(e),this.setXY(t,hx.x,hx.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Ki.fromBufferAttribute(this,t),Ki.applyMatrix3(e),this.setXYZ(t,Ki.x,Ki.y,Ki.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Ki.fromBufferAttribute(this,t),Ki.applyMatrix4(e),this.setXYZ(t,Ki.x,Ki.y,Ki.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Ki.fromBufferAttribute(this,t),Ki.applyNormalMatrix(e),this.setXYZ(t,Ki.x,Ki.y,Ki.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Ki.fromBufferAttribute(this,t),Ki.transformDirection(e),this.setXYZ(t,Ki.x,Ki.y,Ki.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=_a(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=sn(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=_a(t,this.array)),t}setX(e,t){return this.normalized&&(t=sn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=_a(t,this.array)),t}setY(e,t){return this.normalized&&(t=sn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=_a(t,this.array)),t}setZ(e,t){return this.normalized&&(t=sn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=_a(t,this.array)),t}setW(e,t){return this.normalized&&(t=sn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=sn(t,this.array),i=sn(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=sn(t,this.array),i=sn(i,this.array),r=sn(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,a){return e*=this.itemSize,this.normalized&&(t=sn(t,this.array),i=sn(i,this.array),r=sn(r,this.array),a=sn(a,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==z0&&(e.usage=this.usage),e}}class aF extends Kn{constructor(e,t,i){super(new Int8Array(e),t,i)}}class sF extends Kn{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class oF extends Kn{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class lF extends Kn{constructor(e,t,i){super(new Int16Array(e),t,i)}}class xA extends Kn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class uF extends Kn{constructor(e,t,i){super(new Int32Array(e),t,i)}}class bA extends Kn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class cF extends Kn{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Zg(this.array[e*this.itemSize]);return this.normalized&&(t=_a(t,this.array)),t}setX(e,t){return this.normalized&&(t=sn(t,this.array)),this.array[e*this.itemSize]=Va(t),this}getY(e){let t=Zg(this.array[e*this.itemSize+1]);return this.normalized&&(t=_a(t,this.array)),t}setY(e,t){return this.normalized&&(t=sn(t,this.array)),this.array[e*this.itemSize+1]=Va(t),this}getZ(e){let t=Zg(this.array[e*this.itemSize+2]);return this.normalized&&(t=_a(t,this.array)),t}setZ(e,t){return this.normalized&&(t=sn(t,this.array)),this.array[e*this.itemSize+2]=Va(t),this}getW(e){let t=Zg(this.array[e*this.itemSize+3]);return this.normalized&&(t=_a(t,this.array)),t}setW(e,t){return this.normalized&&(t=sn(t,this.array)),this.array[e*this.itemSize+3]=Va(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=sn(t,this.array),i=sn(i,this.array)),this.array[e+0]=Va(t),this.array[e+1]=Va(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=sn(t,this.array),i=sn(i,this.array),r=sn(r,this.array)),this.array[e+0]=Va(t),this.array[e+1]=Va(i),this.array[e+2]=Va(r),this}setXYZW(e,t,i,r,a){return e*=this.itemSize,this.normalized&&(t=sn(t,this.array),i=sn(i,this.array),r=sn(r,this.array),a=sn(a,this.array)),this.array[e+0]=Va(t),this.array[e+1]=Va(i),this.array[e+2]=Va(r),this.array[e+3]=Va(a),this}}class Et extends Kn{constructor(e,t,i){super(new Float32Array(e),t,i)}}let fF=0;const Bs=new Gt,q1=new wn,hp=new Q,ds=new Qr,Bg=new Qr,yr=new Q;class on extends Pl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:fF++}),this.uuid=ps(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(sP(e)?bA:xA)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new tn().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Bs.makeRotationFromQuaternion(e),this.applyMatrix4(Bs),this}rotateX(e){return Bs.makeRotationX(e),this.applyMatrix4(Bs),this}rotateY(e){return Bs.makeRotationY(e),this.applyMatrix4(Bs),this}rotateZ(e){return Bs.makeRotationZ(e),this.applyMatrix4(Bs),this}translate(e,t,i){return Bs.makeTranslation(e,t,i),this.applyMatrix4(Bs),this}scale(e,t,i){return Bs.makeScale(e,t,i),this.applyMatrix4(Bs),this}lookAt(e){return q1.lookAt(e),q1.updateMatrix(),this.applyMatrix4(q1.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(hp).negate(),this.translate(hp.x,hp.y,hp.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,a=e.length;r<a;r++){const o=e[r];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Et(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const a=e[r];t.setXYZ(r,a.x,a.y,a.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Qr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Q(-1/0,-1/0,-1/0),new Q(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const a=t[i];ds.setFromBufferAttribute(a),this.morphTargetsRelative?(yr.addVectors(this.boundingBox.min,ds.min),this.boundingBox.expandByPoint(yr),yr.addVectors(this.boundingBox.max,ds.max),this.boundingBox.expandByPoint(yr)):(this.boundingBox.expandByPoint(ds.min),this.boundingBox.expandByPoint(ds.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Pr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Q,1/0);return}if(e){const i=this.boundingSphere.center;if(ds.setFromBufferAttribute(e),t)for(let a=0,o=t.length;a<o;a++){const u=t[a];Bg.setFromBufferAttribute(u),this.morphTargetsRelative?(yr.addVectors(ds.min,Bg.min),ds.expandByPoint(yr),yr.addVectors(ds.max,Bg.max),ds.expandByPoint(yr)):(ds.expandByPoint(Bg.min),ds.expandByPoint(Bg.max))}ds.getCenter(i);let r=0;for(let a=0,o=e.count;a<o;a++)yr.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared(yr));if(t)for(let a=0,o=t.length;a<o;a++){const u=t[a],f=this.morphTargetsRelative;for(let d=0,m=u.count;d<m;d++)yr.fromBufferAttribute(u,d),f&&(hp.fromBufferAttribute(e,d),yr.add(hp)),r=Math.max(r,i.distanceToSquared(yr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Kn(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),u=[],f=[];for(let V=0;V<i.count;V++)u[V]=new Q,f[V]=new Q;const d=new Q,m=new Q,g=new Q,y=new Ie,b=new Ie,_=new Ie,A=new Q,T=new Q;function S(V,B,L){d.fromBufferAttribute(i,V),m.fromBufferAttribute(i,B),g.fromBufferAttribute(i,L),y.fromBufferAttribute(a,V),b.fromBufferAttribute(a,B),_.fromBufferAttribute(a,L),m.sub(d),g.sub(d),b.sub(y),_.sub(y);const W=1/(b.x*_.y-_.x*b.y);isFinite(W)&&(A.copy(m).multiplyScalar(_.y).addScaledVector(g,-b.y).multiplyScalar(W),T.copy(g).multiplyScalar(b.x).addScaledVector(m,-_.x).multiplyScalar(W),u[V].add(A),u[B].add(A),u[L].add(A),f[V].add(T),f[B].add(T),f[L].add(T))}let C=this.groups;C.length===0&&(C=[{start:0,count:e.count}]);for(let V=0,B=C.length;V<B;++V){const L=C[V],W=L.start,oe=L.count;for(let ee=W,he=W+oe;ee<he;ee+=3)S(e.getX(ee+0),e.getX(ee+1),e.getX(ee+2))}const D=new Q,N=new Q,z=new Q,U=new Q;function I(V){z.fromBufferAttribute(r,V),U.copy(z);const B=u[V];D.copy(B),D.sub(z.multiplyScalar(z.dot(B))).normalize(),N.crossVectors(U,B);const W=N.dot(f[V])<0?-1:1;o.setXYZW(V,D.x,D.y,D.z,W)}for(let V=0,B=C.length;V<B;++V){const L=C[V],W=L.start,oe=L.count;for(let ee=W,he=W+oe;ee<he;ee+=3)I(e.getX(ee+0)),I(e.getX(ee+1)),I(e.getX(ee+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Kn(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let y=0,b=i.count;y<b;y++)i.setXYZ(y,0,0,0);const r=new Q,a=new Q,o=new Q,u=new Q,f=new Q,d=new Q,m=new Q,g=new Q;if(e)for(let y=0,b=e.count;y<b;y+=3){const _=e.getX(y+0),A=e.getX(y+1),T=e.getX(y+2);r.fromBufferAttribute(t,_),a.fromBufferAttribute(t,A),o.fromBufferAttribute(t,T),m.subVectors(o,a),g.subVectors(r,a),m.cross(g),u.fromBufferAttribute(i,_),f.fromBufferAttribute(i,A),d.fromBufferAttribute(i,T),u.add(m),f.add(m),d.add(m),i.setXYZ(_,u.x,u.y,u.z),i.setXYZ(A,f.x,f.y,f.z),i.setXYZ(T,d.x,d.y,d.z)}else for(let y=0,b=t.count;y<b;y+=3)r.fromBufferAttribute(t,y+0),a.fromBufferAttribute(t,y+1),o.fromBufferAttribute(t,y+2),m.subVectors(o,a),g.subVectors(r,a),m.cross(g),i.setXYZ(y+0,m.x,m.y,m.z),i.setXYZ(y+1,m.x,m.y,m.z),i.setXYZ(y+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)yr.fromBufferAttribute(e,t),yr.normalize(),e.setXYZ(t,yr.x,yr.y,yr.z)}toNonIndexed(){function e(u,f){const d=u.array,m=u.itemSize,g=u.normalized,y=new d.constructor(f.length*m);let b=0,_=0;for(let A=0,T=f.length;A<T;A++){u.isInterleavedBufferAttribute?b=f[A]*u.data.stride+u.offset:b=f[A]*m;for(let S=0;S<m;S++)y[_++]=d[b++]}return new Kn(y,m,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new on,i=this.index.array,r=this.attributes;for(const u in r){const f=r[u],d=e(f,i);t.setAttribute(u,d)}const a=this.morphAttributes;for(const u in a){const f=[],d=a[u];for(let m=0,g=d.length;m<g;m++){const y=d[m],b=e(y,i);f.push(b)}t.morphAttributes[u]=f}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let u=0,f=o.length;u<f;u++){const d=o[u];t.addGroup(d.start,d.count,d.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const f=this.parameters;for(const d in f)f[d]!==void 0&&(e[d]=f[d]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const f in i){const d=i[f];e.data.attributes[f]=d.toJSON(e.data)}const r={};let a=!1;for(const f in this.morphAttributes){const d=this.morphAttributes[f],m=[];for(let g=0,y=d.length;g<y;g++){const b=d[g];m.push(b.toJSON(e.data))}m.length>0&&(r[f]=m,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const u=this.boundingSphere;return u!==null&&(e.data.boundingSphere=u.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const d in r){const m=r[d];this.setAttribute(d,m.clone(t))}const a=e.morphAttributes;for(const d in a){const m=[],g=a[d];for(let y=0,b=g.length;y<b;y++)m.push(g[y].clone(t));this.morphAttributes[d]=m}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let d=0,m=o.length;d<m;d++){const g=o[d];this.addGroup(g.start,g.count,g.materialIndex)}const u=e.boundingBox;u!==null&&(this.boundingBox=u.clone());const f=e.boundingSphere;return f!==null&&(this.boundingSphere=f.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const hR=new Gt,sh=new Kh,dx=new Pr,dR=new Q,px=new Q,mx=new Q,gx=new Q,Y1=new Q,vx=new Q,pR=new Q,yx=new Q;class Qi extends wn{constructor(e=new on,t=new of){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const u=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=a}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,a=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const u=this.morphTargetInfluences;if(a&&u){vx.set(0,0,0);for(let f=0,d=a.length;f<d;f++){const m=u[f],g=a[f];m!==0&&(Y1.fromBufferAttribute(g,e),o?vx.addScaledVector(Y1,m):vx.addScaledVector(Y1.sub(t),m))}t.add(vx)}return t}raycast(e,t){const i=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),dx.copy(i.boundingSphere),dx.applyMatrix4(a),sh.copy(e.ray).recast(e.near),!(dx.containsPoint(sh.origin)===!1&&(sh.intersectSphere(dx,dR)===null||sh.origin.distanceToSquared(dR)>(e.far-e.near)**2))&&(hR.copy(a).invert(),sh.copy(e.ray).applyMatrix4(hR),!(i.boundingBox!==null&&sh.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,sh)))}_computeIntersections(e,t,i){let r;const a=this.geometry,o=this.material,u=a.index,f=a.attributes.position,d=a.attributes.uv,m=a.attributes.uv1,g=a.attributes.normal,y=a.groups,b=a.drawRange;if(u!==null)if(Array.isArray(o))for(let _=0,A=y.length;_<A;_++){const T=y[_],S=o[T.materialIndex],C=Math.max(T.start,b.start),D=Math.min(u.count,Math.min(T.start+T.count,b.start+b.count));for(let N=C,z=D;N<z;N+=3){const U=u.getX(N),I=u.getX(N+1),V=u.getX(N+2);r=xx(this,S,e,i,d,m,g,U,I,V),r&&(r.faceIndex=Math.floor(N/3),r.face.materialIndex=T.materialIndex,t.push(r))}}else{const _=Math.max(0,b.start),A=Math.min(u.count,b.start+b.count);for(let T=_,S=A;T<S;T+=3){const C=u.getX(T),D=u.getX(T+1),N=u.getX(T+2);r=xx(this,o,e,i,d,m,g,C,D,N),r&&(r.faceIndex=Math.floor(T/3),t.push(r))}}else if(f!==void 0)if(Array.isArray(o))for(let _=0,A=y.length;_<A;_++){const T=y[_],S=o[T.materialIndex],C=Math.max(T.start,b.start),D=Math.min(f.count,Math.min(T.start+T.count,b.start+b.count));for(let N=C,z=D;N<z;N+=3){const U=N,I=N+1,V=N+2;r=xx(this,S,e,i,d,m,g,U,I,V),r&&(r.faceIndex=Math.floor(N/3),r.face.materialIndex=T.materialIndex,t.push(r))}}else{const _=Math.max(0,b.start),A=Math.min(f.count,b.start+b.count);for(let T=_,S=A;T<S;T+=3){const C=T,D=T+1,N=T+2;r=xx(this,o,e,i,d,m,g,C,D,N),r&&(r.faceIndex=Math.floor(T/3),t.push(r))}}}}function hF(n,e,t,i,r,a,o,u){let f;if(e.side===Ma?f=i.intersectTriangle(o,a,r,!0,u):f=i.intersectTriangle(r,a,o,e.side===Cu,u),f===null)return null;yx.copy(u),yx.applyMatrix4(n.matrixWorld);const d=t.ray.origin.distanceTo(yx);return d<t.near||d>t.far?null:{distance:d,point:yx.clone(),object:n}}function xx(n,e,t,i,r,a,o,u,f,d){n.getVertexPosition(u,px),n.getVertexPosition(f,mx),n.getVertexPosition(d,gx);const m=hF(n,e,t,i,px,mx,gx,pR);if(m){const g=new Q;Ga.getBarycoord(pR,px,mx,gx,g),r&&(m.uv=Ga.getInterpolatedAttribute(r,u,f,d,g,new Ie)),a&&(m.uv1=Ga.getInterpolatedAttribute(a,u,f,d,g,new Ie)),o&&(m.normal=Ga.getInterpolatedAttribute(o,u,f,d,g,new Q),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const y={a:u,b:f,c:d,normal:new Q,materialIndex:0};Ga.getNormal(px,mx,gx,y.normal),m.face=y,m.barycoord=g}return m}class Zh extends on{constructor(e=1,t=1,i=1,r=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:a,depthSegments:o};const u=this;r=Math.floor(r),a=Math.floor(a),o=Math.floor(o);const f=[],d=[],m=[],g=[];let y=0,b=0;_("z","y","x",-1,-1,i,t,e,o,a,0),_("z","y","x",1,-1,i,t,-e,o,a,1),_("x","z","y",1,1,e,i,t,r,o,2),_("x","z","y",1,-1,e,i,-t,r,o,3),_("x","y","z",1,-1,e,t,i,r,a,4),_("x","y","z",-1,-1,e,t,-i,r,a,5),this.setIndex(f),this.setAttribute("position",new Et(d,3)),this.setAttribute("normal",new Et(m,3)),this.setAttribute("uv",new Et(g,2));function _(A,T,S,C,D,N,z,U,I,V,B){const L=N/I,W=z/V,oe=N/2,ee=z/2,he=U/2,de=I+1,k=V+1;let Y=0,K=0;const ue=new Q;for(let G=0;G<k;G++){const te=G*W-ee;for(let Se=0;Se<de;Se++){const ye=Se*L-oe;ue[A]=ye*C,ue[T]=te*D,ue[S]=he,d.push(ue.x,ue.y,ue.z),ue[A]=0,ue[T]=0,ue[S]=U>0?1:-1,m.push(ue.x,ue.y,ue.z),g.push(Se/I),g.push(1-G/V),Y+=1}}for(let G=0;G<V;G++)for(let te=0;te<I;te++){const Se=y+te+de*G,ye=y+te+de*(G+1),se=y+(te+1)+de*(G+1),we=y+(te+1)+de*G;f.push(Se,ye,we),f.push(ye,se,we),K+=6}u.addGroup(b,K,B),b+=K,y+=Y}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Yp(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function xa(n){const e={};for(let t=0;t<n.length;t++){const i=Yp(n[t]);for(const r in i)e[r]=i[r]}return e}function dF(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function cP(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:bn.workingColorSpace}const fP={clone:Yp,merge:xa};var pF=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,mF=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Do extends ea{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=pF,this.fragmentShader=mF,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Yp(e.uniforms),this.uniformsGroups=dF(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class Z_ extends wn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Gt,this.projectionMatrix=new Gt,this.projectionMatrixInverse=new Gt,this.coordinateSystem=Gs}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Fc=new Q,mR=new Ie,gR=new Ie;class ki extends Z_{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Wp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Uh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Wp*2*Math.atan(Math.tan(Uh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){Fc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Fc.x,Fc.y).multiplyScalar(-e/Fc.z),Fc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Fc.x,Fc.y).multiplyScalar(-e/Fc.z)}getViewSize(e,t){return this.getViewBounds(e,mR,gR),t.subVectors(gR,mR)}setViewOffset(e,t,i,r,a,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Uh*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,a=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const f=o.fullWidth,d=o.fullHeight;a+=o.offsetX*r/f,t-=o.offsetY*i/d,r*=o.width/f,i*=o.height/d}const u=this.filmOffset;u!==0&&(a+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const dp=-90,pp=1;class hP extends wn{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new ki(dp,pp,e,t);r.layers=this.layers,this.add(r);const a=new ki(dp,pp,e,t);a.layers=this.layers,this.add(a);const o=new ki(dp,pp,e,t);o.layers=this.layers,this.add(o);const u=new ki(dp,pp,e,t);u.layers=this.layers,this.add(u);const f=new ki(dp,pp,e,t);f.layers=this.layers,this.add(f);const d=new ki(dp,pp,e,t);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,a,o,u,f]=t;for(const d of t)this.remove(d);if(e===Gs)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),f.up.set(0,1,0),f.lookAt(0,0,-1);else if(e===B0)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),f.up.set(0,-1,0),f.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const d of t)this.add(d),d.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,u,f,d,m]=this.children,g=e.getRenderTarget(),y=e.getActiveCubeFace(),b=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const A=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,a),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,u),e.setRenderTarget(i,3,r),e.render(t,f),e.setRenderTarget(i,4,r),e.render(t,d),i.texture.generateMipmaps=A,e.setRenderTarget(i,5,r),e.render(t,m),e.setRenderTarget(g,y,b),e.xr.enabled=_,i.texture.needsPMREMUpdate=!0}}class av extends Ni{constructor(e=[],t=Ru,i,r,a,o,u,f,d,m){super(e,t,i,r,a,o,u,f,d,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class dP extends Rl{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new av(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Zh(5,5,5),a=new Do({name:"CubemapFromEquirect",uniforms:Yp(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Ma,blending:_u});a.uniforms.tEquirect.value=t;const o=new Qi(r,a),u=t.minFilter;return t.minFilter===bl&&(t.minFilter=ur),new hP(1,10,this).update(e,o),t.minFilter=u,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(a)}}class Dp extends wn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const gF={type:"move"};class hb{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Dp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Dp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Q,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Q),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Dp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Q,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Q),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,a=null,o=null;const u=this._targetRay,f=this._grip,d=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(d&&e.hand){o=!0;for(const A of e.hand.values()){const T=t.getJointPose(A,i),S=this._getHandJoint(d,A);T!==null&&(S.matrix.fromArray(T.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.matrixWorldNeedsUpdate=!0,S.jointRadius=T.radius),S.visible=T!==null}const m=d.joints["index-finger-tip"],g=d.joints["thumb-tip"],y=m.position.distanceTo(g.position),b=.02,_=.005;d.inputState.pinching&&y>b+_?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&y<=b-_&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else f!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,i),a!==null&&(f.matrix.fromArray(a.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.matrixWorldNeedsUpdate=!0,a.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(a.linearVelocity)):f.hasLinearVelocity=!1,a.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(a.angularVelocity)):f.hasAngularVelocity=!1));u!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&a!==null&&(r=a),r!==null&&(u.matrix.fromArray(r.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,r.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(r.linearVelocity)):u.hasLinearVelocity=!1,r.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(r.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(gF)))}return u!==null&&(u.visible=r!==null),f!==null&&(f.visible=a!==null),d!==null&&(d.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Dp;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class Q_{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new xt(e),this.density=t}clone(){return new Q_(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class J_{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new xt(e),this.near=t,this.far=i}clone(){return new J_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class _A extends wn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ms,this.environmentIntensity=1,this.environmentRotation=new ms,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class eS{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=z0,this.updateRanges=[],this.version=0,this.uuid=ps()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ps()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ps()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const va=new Q;class kh{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)va.fromBufferAttribute(this,t),va.applyMatrix4(e),this.setXYZ(t,va.x,va.y,va.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)va.fromBufferAttribute(this,t),va.applyNormalMatrix(e),this.setXYZ(t,va.x,va.y,va.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)va.fromBufferAttribute(this,t),va.transformDirection(e),this.setXYZ(t,va.x,va.y,va.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=_a(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=sn(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=sn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=sn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=sn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=sn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=_a(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=_a(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=_a(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=_a(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=sn(t,this.array),i=sn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=sn(t,this.array),i=sn(i,this.array),r=sn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=sn(t,this.array),i=sn(i,this.array),r=sn(r,this.array),a=sn(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return new Kn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new kh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SA extends ea{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new xt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let mp;const Ig=new Q,gp=new Q,vp=new Q,yp=new Ie,Fg=new Ie,pP=new Gt,bx=new Q,Vg=new Q,_x=new Q,vR=new Ie,K1=new Ie,yR=new Ie;class mP extends wn{constructor(e=new SA){if(super(),this.isSprite=!0,this.type="Sprite",mp===void 0){mp=new on;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new eS(t,5);mp.setIndex([0,1,2,0,2,3]),mp.setAttribute("position",new kh(i,3,0,!1)),mp.setAttribute("uv",new kh(i,2,3,!1))}this.geometry=mp,this.material=e,this.center=new Ie(.5,.5),this.count=1}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),gp.setFromMatrixScale(this.matrixWorld),pP.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),vp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&gp.multiplyScalar(-vp.z);const i=this.material.rotation;let r,a;i!==0&&(a=Math.cos(i),r=Math.sin(i));const o=this.center;Sx(bx.set(-.5,-.5,0),vp,o,gp,r,a),Sx(Vg.set(.5,-.5,0),vp,o,gp,r,a),Sx(_x.set(.5,.5,0),vp,o,gp,r,a),vR.set(0,0),K1.set(1,0),yR.set(1,1);let u=e.ray.intersectTriangle(bx,Vg,_x,!1,Ig);if(u===null&&(Sx(Vg.set(-.5,.5,0),vp,o,gp,r,a),K1.set(0,1),u=e.ray.intersectTriangle(bx,_x,Vg,!1,Ig),u===null))return;const f=e.ray.origin.distanceTo(Ig);f<e.near||f>e.far||t.push({distance:f,point:Ig.clone(),uv:Ga.getInterpolation(Ig,bx,Vg,_x,vR,K1,yR,new Ie),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Sx(n,e,t,i,r,a){yp.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Fg.x=a*yp.x-r*yp.y,Fg.y=r*yp.x+a*yp.y):Fg.copy(yp),n.copy(e),n.x+=Fg.x,n.y+=Fg.y,n.applyMatrix4(pP)}const Ex=new Q,xR=new Q;class gP extends wn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const a=t[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let a;for(a=0;a<r.length&&!(t<r[a].distance);a++);return r.splice(a,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let a=t[i].distance;if(t[i].object.visible&&(a-=a*t[i].hysteresis),e<a)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Ex.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Ex);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Ex.setFromMatrixPosition(e.matrixWorld),xR.setFromMatrixPosition(this.matrixWorld);const i=Ex.distanceTo(xR)/e.zoom;t[0].object.visible=!0;let r,a;for(r=1,a=t.length;r<a;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,a=i.length;r<a;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const bR=new Q,_R=new An,SR=new An,vF=new Q,ER=new Gt,Mx=new Q,Z1=new Pr,MR=new Gt,Q1=new Kh;class vP extends Qi{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=IM,this.bindMatrix=new Gt,this.bindMatrixInverse=new Gt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Qr),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Mx),this.boundingBox.expandByPoint(Mx)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Pr),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Mx),this.boundingSphere.expandByPoint(Mx)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Z1.copy(this.boundingSphere),Z1.applyMatrix4(r),e.ray.intersectsSphere(Z1)!==!1&&(MR.copy(r).invert(),Q1.copy(e.ray).applyMatrix4(MR),!(this.boundingBox!==null&&Q1.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,Q1)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new An,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===IM?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===XN?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;_R.fromBufferAttribute(r.attributes.skinIndex,e),SR.fromBufferAttribute(r.attributes.skinWeight,e),bR.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const o=SR.getComponent(a);if(o!==0){const u=_R.getComponent(a);ER.multiplyMatrices(i.bones[u].matrixWorld,i.boneInverses[u]),t.addScaledVector(vF.copy(bR).applyMatrix4(ER),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class EA extends wn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class El extends Ni{constructor(e=null,t=1,i=1,r,a,o,u,f,d=Nr,m=Nr,g,y){super(null,o,u,f,d,m,r,a,g,y),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const TR=new Gt,yF=new Gt;class tS{constructor(e=[],t=[]){this.uuid=ps(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Gt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Gt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const u=e[a]?e[a].matrixWorld:yF;TR.multiplyMatrices(u,t[a]),TR.toArray(i,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new tS(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new El(t,e,e,qr,$a);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const a=e.bones[i];let o=t[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new EA),this.bones.push(o),this.boneInverses.push(new Gt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,a=t.length;r<a;r++){const o=t[r];e.bones.push(o.uuid);const u=i[r];e.boneInverses.push(u.toArray())}return e}}class Kp extends Kn{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const xp=new Gt,AR=new Gt,Tx=[],wR=new Qr,xF=new Gt,Hg=new Qi,kg=new Pr;class yP extends Qi{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Kp(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,xF)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Qr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,xp),wR.copy(e.boundingBox).applyMatrix4(xp),this.boundingBox.union(wR)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Pr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,xp),kg.copy(e.boundingSphere).applyMatrix4(xp),this.boundingSphere.union(kg)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,a=i.length+1,o=e*a+1;for(let u=0;u<i.length;u++)i[u]=r[o+u]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Hg.geometry=this.geometry,Hg.material=this.material,Hg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),kg.copy(this.boundingSphere),kg.applyMatrix4(i),e.ray.intersectsSphere(kg)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,xp),AR.multiplyMatrices(i,xp),Hg.matrixWorld=AR,Hg.raycast(e,Tx);for(let o=0,u=Tx.length;o<u;o++){const f=Tx[o];f.instanceId=a,f.object=this,t.push(f)}Tx.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Kp(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new El(new Float32Array(r*this.count),r,this.count,j_,$a));const a=this.morphTexture.source.data.data;let o=0;for(let d=0;d<i.length;d++)o+=i[d];const u=this.geometry.morphTargetsRelative?1:1-o,f=r*e;a[f]=u,a.set(i,f+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const J1=new Q,bF=new Q,_F=new tn;class mu{constructor(e=new Q(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=J1.subVectors(i,t).cross(bF.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(J1),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:t.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||_F.getNormalMatrix(e),r=this.coplanarPoint(J1).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const oh=new Pr,SF=new Ie(.5,.5),Ax=new Q;class rm{constructor(e=new mu,t=new mu,i=new mu,r=new mu,a=new mu,o=new mu){this.planes=[e,t,i,r,a,o]}set(e,t,i,r,a,o){const u=this.planes;return u[0].copy(e),u[1].copy(t),u[2].copy(i),u[3].copy(r),u[4].copy(a),u[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Gs){const i=this.planes,r=e.elements,a=r[0],o=r[1],u=r[2],f=r[3],d=r[4],m=r[5],g=r[6],y=r[7],b=r[8],_=r[9],A=r[10],T=r[11],S=r[12],C=r[13],D=r[14],N=r[15];if(i[0].setComponents(f-a,y-d,T-b,N-S).normalize(),i[1].setComponents(f+a,y+d,T+b,N+S).normalize(),i[2].setComponents(f+o,y+m,T+_,N+C).normalize(),i[3].setComponents(f-o,y-m,T-_,N-C).normalize(),i[4].setComponents(f-u,y-g,T-A,N-D).normalize(),t===Gs)i[5].setComponents(f+u,y+g,T+A,N+D).normalize();else if(t===B0)i[5].setComponents(u,g,A,D).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),oh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),oh.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(oh)}intersectsSprite(e){oh.center.set(0,0,0);const t=SF.distanceTo(e.center);return oh.radius=.7071067811865476+t,oh.applyMatrix4(e.matrixWorld),this.intersectsSphere(oh)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Ax.x=r.normal.x>0?e.max.x:e.min.x,Ax.y=r.normal.y>0?e.max.y:e.min.y,Ax.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Ax)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const ml=new Gt,gl=new rm;class nS{constructor(){this.coordinateSystem=Gs}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ml.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),gl.setFromProjectionMatrix(ml,this.coordinateSystem),gl.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ml.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),gl.setFromProjectionMatrix(ml,this.coordinateSystem),gl.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ml.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),gl.setFromProjectionMatrix(ml,this.coordinateSystem),gl.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ml.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),gl.setFromProjectionMatrix(ml,this.coordinateSystem),gl.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ml.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),gl.setFromProjectionMatrix(ml,this.coordinateSystem),gl.containsPoint(e))return!0}return!1}clone(){return new nS}}function eE(n,e){return n-e}function EF(n,e){return n.z-e.z}function MF(n,e){return e.z-n.z}class TF{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const a=this.pool,o=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const u=a[this.index];o.push(u),this.index++,u.start=e,u.count=t,u.z=i,u.index=r}reset(){this.list.length=0,this.index=0}}const Fa=new Gt,AF=new xt(1,1,1),CR=new rm,wF=new nS,wx=new Qr,lh=new Pr,Gg=new Q,RR=new Q,CF=new Q,tE=new TF,Xr=new Qi,Cx=[];function RF(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let a=0;a<r;a++)for(let o=0;o<i;o++)e.setComponent(a+t,o,n.getComponent(a,o))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function uh(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class xP extends Qi{constructor(e,t,i=t*2,r){super(new on,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new El(t,e,e,qr,$a);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new El(t,e,e,rv,Du);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new El(t,e,e,qr,$a);i.colorSpace=bn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const o=e.getAttribute(a),{array:u,itemSize:f,normalized:d}=o,m=new u.constructor(i*f),g=new Kn(m,f,d);t.setAttribute(a,g)}if(e.getIndex()!==null){const a=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Kn(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),a=t.getAttribute(i);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Qr);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,Fa),this.getBoundingBoxAt(a,wx).applyMatrix4(Fa),e.union(wx)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Pr);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,Fa),this.getBoundingSphereAt(a,lh).applyMatrix4(Fa),e.union(lh)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(eE),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const a=this._matricesTexture;Fa.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const o=this._colorsTexture;return o&&(AF.toArray(o.image.data,r*4),o.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?o.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let f;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(eE),f=this._availableGeometryIds.shift(),a[f]=r):(f=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(f,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,f}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,a=i.getIndex(),o=t.getIndex(),u=this._geometryInfo[e];if(r&&o.count>u.reservedIndexCount||t.attributes.position.count>u.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const f=u.vertexStart,d=u.reservedVertexCount;u.vertexCount=t.getAttribute("position").count;for(const m in i.attributes){const g=t.getAttribute(m),y=i.getAttribute(m);RF(g,y,f);const b=g.itemSize;for(let _=g.count,A=d;_<A;_++){const T=f+_;for(let S=0;S<b;S++)y.setComponent(T,S,0)}y.needsUpdate=!0,y.addUpdateRange(f*b,d*b)}if(r){const m=u.indexStart,g=u.reservedIndexCount;u.indexCount=t.getIndex().count;for(let y=0;y<o.count;y++)a.setX(m+y,f+o.getX(y));for(let y=o.count,b=g;y<b;y++)a.setX(m+y,f);a.needsUpdate=!0,a.addUpdateRange(m,u.reservedIndexCount)}return u.start=r?u.indexStart:u.vertexStart,u.count=r?u.indexCount:u.vertexCount,u.boundingBox=null,t.boundingBox!==null&&(u.boundingBox=t.boundingBox.clone()),u.boundingSphere=null,t.boundingSphere!==null&&(u.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,a=i.length;r<a;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((o,u)=>u).sort((o,u)=>i[o].vertexStart-i[u].vertexStart),a=this.geometry;for(let o=0,u=i.length;o<u;o++){const f=r[o],d=i[f];if(d.active!==!1){if(a.index!==null){if(d.indexStart!==t){const{indexStart:m,vertexStart:g,reservedIndexCount:y}=d,b=a.index,_=b.array,A=e-g;for(let T=m;T<m+y;T++)_[T]=_[T]+A;b.array.copyWithin(t,m,m+y),b.addUpdateRange(t,y),d.indexStart=t}t+=d.reservedIndexCount}if(d.vertexStart!==e){const{vertexStart:m,reservedVertexCount:g}=d,y=a.attributes;for(const b in y){const _=y[b],{array:A,itemSize:T}=_;A.copyWithin(e*T,m*T,(m+g)*T),_.addUpdateRange(e*T,g*T)}d.vertexStart=e}e+=d.reservedVertexCount,d.start=a.index?d.indexStart:d.vertexStart,this._nextIndexStart=a.index?d.indexStart+d.reservedIndexCount:0,this._nextVertexStart=d.vertexStart+d.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const a=new Qr,o=i.index,u=i.attributes.position;for(let f=r.start,d=r.start+r.count;f<d;f++){let m=f;o&&(m=o.getX(m)),a.expandByPoint(Gg.fromBufferAttribute(u,m))}r.boundingBox=a}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const a=new Pr;this.getBoundingBoxAt(e,wx),wx.getCenter(a.center);const o=i.index,u=i.attributes.position;let f=0;for(let d=r.start,m=r.start+r.count;d<m;d++){let g=d;o&&(g=o.getX(g)),Gg.fromBufferAttribute(u,g),f=Math.max(f,a.center.distanceToSquared(Gg))}a.radius=Math.sqrt(f),r.boundingSphere=a}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(eE);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),a=new Int32Array(e);uh(this._multiDrawCounts,r),uh(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=e;const o=this._indirectTexture,u=this._matricesTexture,f=this._colorsTexture;o.dispose(),this._initIndirectTexture(),uh(o.image.data,this._indirectTexture.image.data),u.dispose(),this._initMatricesTexture(),uh(u.image.data,this._matricesTexture.image.data),f&&(f.dispose(),this._initColorsTexture(),uh(f.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(u=>u.active);if(Math.max(...i.map(u=>u.vertexStart+u.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(f=>f.indexStart+f.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new on,this._initializeGeometry(a));const o=this.geometry;a.index&&uh(a.index.array,o.index.array);for(const u in a.attributes)uh(a.attributes[u].array,o.attributes[u].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,o=this.geometry;Xr.material=this.material,Xr.geometry.index=o.index,Xr.geometry.attributes=o.attributes,Xr.geometry.boundingBox===null&&(Xr.geometry.boundingBox=new Qr),Xr.geometry.boundingSphere===null&&(Xr.geometry.boundingSphere=new Pr);for(let u=0,f=i.length;u<f;u++){if(!i[u].visible||!i[u].active)continue;const d=i[u].geometryIndex,m=r[d];Xr.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(u,Xr.matrixWorld).premultiply(a),this.getBoundingBoxAt(d,Xr.geometry.boundingBox),this.getBoundingSphereAt(d,Xr.geometry.boundingSphere),Xr.raycast(e,Cx);for(let g=0,y=Cx.length;g<y;g++){const b=Cx[g];b.object=this,b.batchId=u,t.push(b)}Cx.length=0}Xr.material=null,Xr.geometry.index=null,Xr.geometry.attributes={},Xr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),u=o===null?1:o.array.BYTES_PER_ELEMENT,f=this._instanceInfo,d=this._multiDrawStarts,m=this._multiDrawCounts,g=this._geometryInfo,y=this.perObjectFrustumCulled,b=this._indirectTexture,_=b.image.data,A=i.isArrayCamera?wF:CR;y&&!i.isArrayCamera&&(Fa.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),CR.setFromProjectionMatrix(Fa,e.coordinateSystem));let T=0;if(this.sortObjects){Fa.copy(this.matrixWorld).invert(),Gg.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Fa),RR.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Fa);for(let D=0,N=f.length;D<N;D++)if(f[D].visible&&f[D].active){const z=f[D].geometryIndex;this.getMatrixAt(D,Fa),this.getBoundingSphereAt(z,lh).applyMatrix4(Fa);let U=!1;if(y&&(U=!A.intersectsSphere(lh,i)),!U){const I=g[z],V=CF.subVectors(lh.center,Gg).dot(RR);tE.push(I.start,I.count,V,D)}}const S=tE.list,C=this.customSort;C===null?S.sort(a.transparent?MF:EF):C.call(this,S,i);for(let D=0,N=S.length;D<N;D++){const z=S[D];d[T]=z.start*u,m[T]=z.count,_[T]=z.index,T++}tE.reset()}else for(let S=0,C=f.length;S<C;S++)if(f[S].visible&&f[S].active){const D=f[S].geometryIndex;let N=!1;if(y&&(this.getMatrixAt(S,Fa),this.getBoundingSphereAt(D,lh).applyMatrix4(Fa),N=!A.intersectsSphere(lh,i)),!N){const z=g[D];d[T]=z.start*u,m[T]=z.count,_[T]=S,T++}}b.needsUpdate=!0,this._multiDrawCount=T,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,a,o){this.onBeforeRender(e,null,r,a,o)}}class Ta extends ea{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new xt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const s_=new Q,o_=new Q,DR=new Gt,$g=new Kh,Rx=new Pr,nE=new Q,OR=new Q;class ef extends wn{constructor(e=new on,t=new Ta){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,a=t.count;r<a;r++)s_.fromBufferAttribute(t,r-1),o_.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=s_.distanceTo(o_);e.setAttribute("lineDistance",new Et(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Rx.copy(i.boundingSphere),Rx.applyMatrix4(r),Rx.radius+=a,e.ray.intersectsSphere(Rx)===!1)return;DR.copy(r).invert(),$g.copy(e.ray).applyMatrix4(DR);const u=a/((this.scale.x+this.scale.y+this.scale.z)/3),f=u*u,d=this.isLineSegments?2:1,m=i.index,y=i.attributes.position;if(m!==null){const b=Math.max(0,o.start),_=Math.min(m.count,o.start+o.count);for(let A=b,T=_-1;A<T;A+=d){const S=m.getX(A),C=m.getX(A+1),D=Dx(this,e,$g,f,S,C,A);D&&t.push(D)}if(this.isLineLoop){const A=m.getX(_-1),T=m.getX(b),S=Dx(this,e,$g,f,A,T,_-1);S&&t.push(S)}}else{const b=Math.max(0,o.start),_=Math.min(y.count,o.start+o.count);for(let A=b,T=_-1;A<T;A+=d){const S=Dx(this,e,$g,f,A,A+1,A);S&&t.push(S)}if(this.isLineLoop){const A=Dx(this,e,$g,f,_-1,b,_-1);A&&t.push(A)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const u=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=a}}}}}function Dx(n,e,t,i,r,a,o){const u=n.geometry.attributes.position;if(s_.fromBufferAttribute(u,r),o_.fromBufferAttribute(u,a),t.distanceSqToSegment(s_,o_,nE,OR)>i)return;nE.applyMatrix4(n.matrixWorld);const d=e.ray.origin.distanceTo(nE);if(!(d<e.near||d>e.far))return{distance:d,point:OR.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const NR=new Q,PR=new Q;class Ll extends ef{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,a=t.count;r<a;r+=2)NR.fromBufferAttribute(t,r),PR.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+NR.distanceTo(PR);e.setAttribute("lineDistance",new Et(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class bP extends ef{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class MA extends ea{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new xt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const LR=new Gt,HM=new Kh,Ox=new Pr,Nx=new Q;class _P extends wn{constructor(e=new on,t=new MA){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ox.copy(i.boundingSphere),Ox.applyMatrix4(r),Ox.radius+=a,e.ray.intersectsSphere(Ox)===!1)return;LR.copy(r).invert(),HM.copy(e.ray).applyMatrix4(LR);const u=a/((this.scale.x+this.scale.y+this.scale.z)/3),f=u*u,d=i.index,g=i.attributes.position;if(d!==null){const y=Math.max(0,o.start),b=Math.min(d.count,o.start+o.count);for(let _=y,A=b;_<A;_++){const T=d.getX(_);Nx.fromBufferAttribute(g,T),UR(Nx,T,f,r,e,t,this)}}else{const y=Math.max(0,o.start),b=Math.min(g.count,o.start+o.count);for(let _=y,A=b;_<A;_++)Nx.fromBufferAttribute(g,_),UR(Nx,_,f,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const u=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=a}}}}}function UR(n,e,t,i,r,a,o){const u=HM.distanceSqToPoint(n);if(u<t){const f=new Q;HM.closestPointToPoint(n,f),f.applyMatrix4(i);const d=r.ray.origin.distanceTo(f);if(d<r.near||d>r.far)return;a.push({distance:d,distanceToRay:Math.sqrt(u),point:f,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class SP extends Ni{constructor(e,t,i,r,a=ur,o=ur,u,f,d){super(e,t,i,r,a,o,u,f,d),this.isVideoTexture=!0,this.generateMipmaps=!1;const m=this;function g(){m.needsUpdate=!0,e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class DF extends SP{constructor(e,t,i,r,a,o,u,f){super({},e,t,i,r,a,o,u,f),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class OF extends Ni{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Nr,this.minFilter=Nr,this.generateMipmaps=!1,this.needsUpdate=!0}}class iS extends Ni{constructor(e,t,i,r,a,o,u,f,d,m,g,y){super(null,o,u,f,d,m,r,a,g,y),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class NF extends iS{constructor(e,t,i,r,a,o){super(e,t,i,a,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ks,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class PF extends iS{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Ru),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class LF extends Ni{constructor(e,t,i,r,a,o,u,f,d){super(e,t,i,r,a,o,u,f,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class TA extends Ni{constructor(e,t,i=Du,r,a,o,u=Nr,f=Nr,d,m=jp,g=1){if(m!==jp&&m!==Xp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const y={width:e,height:t,depth:g};super(y,r,a,o,u,f,m,i,d),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Xc(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class rS extends on{constructor(e=1,t=1,i=4,r=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r,heightSegments:a},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),a=Math.max(1,Math.floor(a));const o=[],u=[],f=[],d=[],m=t/2,g=Math.PI/2*e,y=t,b=2*g+y,_=i*2+a,A=r+1,T=new Q,S=new Q;for(let C=0;C<=_;C++){let D=0,N=0,z=0,U=0;if(C<=i){const B=C/i,L=B*Math.PI/2;N=-m-e*Math.cos(L),z=e*Math.sin(L),U=-e*Math.cos(L),D=B*g}else if(C<=i+a){const B=(C-i)/a;N=-m+B*t,z=e,U=0,D=g+B*y}else{const B=(C-i-a)/i,L=B*Math.PI/2;N=m+e*Math.sin(L),z=e*Math.cos(L),U=e*Math.sin(L),D=g+y+B*g}const I=Math.max(0,Math.min(1,D/b));let V=0;C===0?V=.5/r:C===_&&(V=-.5/r);for(let B=0;B<=r;B++){const L=B/r,W=L*Math.PI*2,oe=Math.sin(W),ee=Math.cos(W);S.x=-z*ee,S.y=N,S.z=z*oe,u.push(S.x,S.y,S.z),T.set(-z*ee,U,z*oe),T.normalize(),f.push(T.x,T.y,T.z),d.push(L+V,I)}if(C>0){const B=(C-1)*A;for(let L=0;L<r;L++){const W=B+L,oe=B+L+1,ee=C*A+L,he=C*A+L+1;o.push(W,oe,ee),o.push(oe,he,ee)}}}this.setIndex(o),this.setAttribute("position",new Et(u,3)),this.setAttribute("normal",new Et(f,3)),this.setAttribute("uv",new Et(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rS(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class aS extends on{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const a=[],o=[],u=[],f=[],d=new Q,m=new Ie;o.push(0,0,0),u.push(0,0,1),f.push(.5,.5);for(let g=0,y=3;g<=t;g++,y+=3){const b=i+g/t*r;d.x=e*Math.cos(b),d.y=e*Math.sin(b),o.push(d.x,d.y,d.z),u.push(0,0,1),m.x=(o[y]/e+1)/2,m.y=(o[y+1]/e+1)/2,f.push(m.x,m.y)}for(let g=1;g<=t;g++)a.push(g,g+1,0);this.setIndex(a),this.setAttribute("position",new Et(o,3)),this.setAttribute("normal",new Et(u,3)),this.setAttribute("uv",new Et(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new aS(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class sv extends on{constructor(e=1,t=1,i=1,r=32,a=1,o=!1,u=0,f=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:a,openEnded:o,thetaStart:u,thetaLength:f};const d=this;r=Math.floor(r),a=Math.floor(a);const m=[],g=[],y=[],b=[];let _=0;const A=[],T=i/2;let S=0;C(),o===!1&&(e>0&&D(!0),t>0&&D(!1)),this.setIndex(m),this.setAttribute("position",new Et(g,3)),this.setAttribute("normal",new Et(y,3)),this.setAttribute("uv",new Et(b,2));function C(){const N=new Q,z=new Q;let U=0;const I=(t-e)/i;for(let V=0;V<=a;V++){const B=[],L=V/a,W=L*(t-e)+e;for(let oe=0;oe<=r;oe++){const ee=oe/r,he=ee*f+u,de=Math.sin(he),k=Math.cos(he);z.x=W*de,z.y=-L*i+T,z.z=W*k,g.push(z.x,z.y,z.z),N.set(de,I,k).normalize(),y.push(N.x,N.y,N.z),b.push(ee,1-L),B.push(_++)}A.push(B)}for(let V=0;V<r;V++)for(let B=0;B<a;B++){const L=A[B][V],W=A[B+1][V],oe=A[B+1][V+1],ee=A[B][V+1];(e>0||B!==0)&&(m.push(L,W,ee),U+=3),(t>0||B!==a-1)&&(m.push(W,oe,ee),U+=3)}d.addGroup(S,U,0),S+=U}function D(N){const z=_,U=new Ie,I=new Q;let V=0;const B=N===!0?e:t,L=N===!0?1:-1;for(let oe=1;oe<=r;oe++)g.push(0,T*L,0),y.push(0,L,0),b.push(.5,.5),_++;const W=_;for(let oe=0;oe<=r;oe++){const he=oe/r*f+u,de=Math.cos(he),k=Math.sin(he);I.x=B*k,I.y=T*L,I.z=B*de,g.push(I.x,I.y,I.z),y.push(0,L,0),U.x=de*.5+.5,U.y=k*.5*L+.5,b.push(U.x,U.y),_++}for(let oe=0;oe<r;oe++){const ee=z+oe,he=W+oe;N===!0?m.push(he,he+1,ee):m.push(he+1,he,ee),V+=3}d.addGroup(S,V,N===!0?1:2),S+=V}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sv(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ov extends sv{constructor(e=1,t=1,i=32,r=1,a=!1,o=0,u=Math.PI*2){super(0,e,t,i,r,a,o,u),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:u}}static fromJSON(e){return new ov(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class lf extends on{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const a=[],o=[];u(r),d(i),m(),this.setAttribute("position",new Et(a,3)),this.setAttribute("normal",new Et(a.slice(),3)),this.setAttribute("uv",new Et(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function u(C){const D=new Q,N=new Q,z=new Q;for(let U=0;U<t.length;U+=3)b(t[U+0],D),b(t[U+1],N),b(t[U+2],z),f(D,N,z,C)}function f(C,D,N,z){const U=z+1,I=[];for(let V=0;V<=U;V++){I[V]=[];const B=C.clone().lerp(N,V/U),L=D.clone().lerp(N,V/U),W=U-V;for(let oe=0;oe<=W;oe++)oe===0&&V===U?I[V][oe]=B:I[V][oe]=B.clone().lerp(L,oe/W)}for(let V=0;V<U;V++)for(let B=0;B<2*(U-V)-1;B++){const L=Math.floor(B/2);B%2===0?(y(I[V][L+1]),y(I[V+1][L]),y(I[V][L])):(y(I[V][L+1]),y(I[V+1][L+1]),y(I[V+1][L]))}}function d(C){const D=new Q;for(let N=0;N<a.length;N+=3)D.x=a[N+0],D.y=a[N+1],D.z=a[N+2],D.normalize().multiplyScalar(C),a[N+0]=D.x,a[N+1]=D.y,a[N+2]=D.z}function m(){const C=new Q;for(let D=0;D<a.length;D+=3){C.x=a[D+0],C.y=a[D+1],C.z=a[D+2];const N=T(C)/2/Math.PI+.5,z=S(C)/Math.PI+.5;o.push(N,1-z)}_(),g()}function g(){for(let C=0;C<o.length;C+=6){const D=o[C+0],N=o[C+2],z=o[C+4],U=Math.max(D,N,z),I=Math.min(D,N,z);U>.9&&I<.1&&(D<.2&&(o[C+0]+=1),N<.2&&(o[C+2]+=1),z<.2&&(o[C+4]+=1))}}function y(C){a.push(C.x,C.y,C.z)}function b(C,D){const N=C*3;D.x=e[N+0],D.y=e[N+1],D.z=e[N+2]}function _(){const C=new Q,D=new Q,N=new Q,z=new Q,U=new Ie,I=new Ie,V=new Ie;for(let B=0,L=0;B<a.length;B+=9,L+=6){C.set(a[B+0],a[B+1],a[B+2]),D.set(a[B+3],a[B+4],a[B+5]),N.set(a[B+6],a[B+7],a[B+8]),U.set(o[L+0],o[L+1]),I.set(o[L+2],o[L+3]),V.set(o[L+4],o[L+5]),z.copy(C).add(D).add(N).divideScalar(3);const W=T(z);A(U,L+0,C,W),A(I,L+2,D,W),A(V,L+4,N,W)}}function A(C,D,N,z){z<0&&C.x===1&&(o[D]=C.x-1),N.x===0&&N.z===0&&(o[D]=z/2/Math.PI+.5)}function T(C){return Math.atan2(C.z,-C.x)}function S(C){return Math.atan2(-C.y,Math.sqrt(C.x*C.x+C.z*C.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lf(e.vertices,e.indices,e.radius,e.details)}}class sS extends lf{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new sS(e.radius,e.detail)}}const Px=new Q,Lx=new Q,iE=new Q,Ux=new Ga;class EP extends on{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),a=Math.cos(Uh*t),o=e.getIndex(),u=e.getAttribute("position"),f=o?o.count:u.count,d=[0,0,0],m=["a","b","c"],g=new Array(3),y={},b=[];for(let _=0;_<f;_+=3){o?(d[0]=o.getX(_),d[1]=o.getX(_+1),d[2]=o.getX(_+2)):(d[0]=_,d[1]=_+1,d[2]=_+2);const{a:A,b:T,c:S}=Ux;if(A.fromBufferAttribute(u,d[0]),T.fromBufferAttribute(u,d[1]),S.fromBufferAttribute(u,d[2]),Ux.getNormal(iE),g[0]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,g[1]=`${Math.round(T.x*r)},${Math.round(T.y*r)},${Math.round(T.z*r)}`,g[2]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let C=0;C<3;C++){const D=(C+1)%3,N=g[C],z=g[D],U=Ux[m[C]],I=Ux[m[D]],V=`${N}_${z}`,B=`${z}_${N}`;B in y&&y[B]?(iE.dot(y[B].normal)<=a&&(b.push(U.x,U.y,U.z),b.push(I.x,I.y,I.z)),y[B]=null):V in y||(y[V]={index0:d[C],index1:d[D],normal:iE.clone()})}}for(const _ in y)if(y[_]){const{index0:A,index1:T}=y[_];Px.fromBufferAttribute(u,A),Lx.fromBufferAttribute(u,T),b.push(Px.x,Px.y,Px.z),b.push(Lx.x,Lx.y,Lx.z)}this.setAttribute("position",new Et(b,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class No{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),a=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),a+=i.distanceTo(r),t.push(a),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const a=i.length;let o;t?o=t:o=e*i[a-1];let u=0,f=a-1,d;for(;u<=f;)if(r=Math.floor(u+(f-u)/2),d=i[r]-o,d<0)u=r+1;else if(d>0)f=r-1;else{f=r;break}if(r=f,i[r]===o)return r/(a-1);const m=i[r],y=i[r+1]-m,b=(o-m)/y;return(r+b)/(a-1)}getTangent(e,t){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);const o=this.getPoint(r),u=this.getPoint(a),f=t||(o.isVector2?new Ie:new Q);return f.copy(u).sub(o).normalize(),f}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new Q,r=[],a=[],o=[],u=new Q,f=new Gt;for(let b=0;b<=e;b++){const _=b/e;r[b]=this.getTangentAt(_,new Q)}a[0]=new Q,o[0]=new Q;let d=Number.MAX_VALUE;const m=Math.abs(r[0].x),g=Math.abs(r[0].y),y=Math.abs(r[0].z);m<=d&&(d=m,i.set(1,0,0)),g<=d&&(d=g,i.set(0,1,0)),y<=d&&i.set(0,0,1),u.crossVectors(r[0],i).normalize(),a[0].crossVectors(r[0],u),o[0].crossVectors(r[0],a[0]);for(let b=1;b<=e;b++){if(a[b]=a[b-1].clone(),o[b]=o[b-1].clone(),u.crossVectors(r[b-1],r[b]),u.length()>Number.EPSILON){u.normalize();const _=Math.acos(Kt(r[b-1].dot(r[b]),-1,1));a[b].applyMatrix4(f.makeRotationAxis(u,_))}o[b].crossVectors(r[b],a[b])}if(t===!0){let b=Math.acos(Kt(a[0].dot(a[e]),-1,1));b/=e,r[0].dot(u.crossVectors(a[0],a[e]))>0&&(b=-b);for(let _=1;_<=e;_++)a[_].applyMatrix4(f.makeRotationAxis(r[_],b*_)),o[_].crossVectors(r[_],a[_])}return{tangents:r,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class oS extends No{constructor(e=0,t=0,i=1,r=1,a=0,o=Math.PI*2,u=!1,f=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=u,this.aRotation=f}getPoint(e,t=new Ie){const i=t,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(o?a=0:a=r),this.aClockwise===!0&&!o&&(a===r?a=-r:a=a-r);const u=this.aStartAngle+e*a;let f=this.aX+this.xRadius*Math.cos(u),d=this.aY+this.yRadius*Math.sin(u);if(this.aRotation!==0){const m=Math.cos(this.aRotation),g=Math.sin(this.aRotation),y=f-this.aX,b=d-this.aY;f=y*m-b*g+this.aX,d=y*g+b*m+this.aY}return i.set(f,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class MP extends oS{constructor(e,t,i,r,a,o){super(e,t,i,i,r,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function AA(){let n=0,e=0,t=0,i=0;function r(a,o,u,f){n=a,e=u,t=-3*a+3*o-2*u-f,i=2*a-2*o+u+f}return{initCatmullRom:function(a,o,u,f,d){r(o,u,d*(u-a),d*(f-o))},initNonuniformCatmullRom:function(a,o,u,f,d,m,g){let y=(o-a)/d-(u-a)/(d+m)+(u-o)/m,b=(u-o)/m-(f-o)/(m+g)+(f-u)/g;y*=m,b*=m,r(o,u,y,b)},calc:function(a){const o=a*a,u=o*a;return n+e*a+t*o+i*u}}}const zx=new Q,rE=new AA,aE=new AA,sE=new AA;class TP extends No{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new Q){const i=t,r=this.points,a=r.length,o=(a-(this.closed?0:1))*e;let u=Math.floor(o),f=o-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/a)+1)*a:f===0&&u===a-1&&(u=a-2,f=1);let d,m;this.closed||u>0?d=r[(u-1)%a]:(zx.subVectors(r[0],r[1]).add(r[0]),d=zx);const g=r[u%a],y=r[(u+1)%a];if(this.closed||u+2<a?m=r[(u+2)%a]:(zx.subVectors(r[a-1],r[a-2]).add(r[a-1]),m=zx),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let _=Math.pow(d.distanceToSquared(g),b),A=Math.pow(g.distanceToSquared(y),b),T=Math.pow(y.distanceToSquared(m),b);A<1e-4&&(A=1),_<1e-4&&(_=A),T<1e-4&&(T=A),rE.initNonuniformCatmullRom(d.x,g.x,y.x,m.x,_,A,T),aE.initNonuniformCatmullRom(d.y,g.y,y.y,m.y,_,A,T),sE.initNonuniformCatmullRom(d.z,g.z,y.z,m.z,_,A,T)}else this.curveType==="catmullrom"&&(rE.initCatmullRom(d.x,g.x,y.x,m.x,this.tension),aE.initCatmullRom(d.y,g.y,y.y,m.y,this.tension),sE.initCatmullRom(d.z,g.z,y.z,m.z,this.tension));return i.set(rE.calc(f),aE.calc(f),sE.calc(f)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Q().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function zR(n,e,t,i,r){const a=(i-e)*.5,o=(r-t)*.5,u=n*n,f=n*u;return(2*t-2*i+a+o)*f+(-3*t+3*i-2*a-o)*u+a*n+t}function UF(n,e){const t=1-n;return t*t*e}function zF(n,e){return 2*(1-n)*n*e}function BF(n,e){return n*n*e}function m0(n,e,t,i){return UF(n,e)+zF(n,t)+BF(n,i)}function IF(n,e){const t=1-n;return t*t*t*e}function FF(n,e){const t=1-n;return 3*t*t*n*e}function VF(n,e){return 3*(1-n)*n*n*e}function HF(n,e){return n*n*n*e}function g0(n,e,t,i,r){return IF(n,e)+FF(n,t)+VF(n,i)+HF(n,r)}class wA extends No{constructor(e=new Ie,t=new Ie,i=new Ie,r=new Ie){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Ie){const i=t,r=this.v0,a=this.v1,o=this.v2,u=this.v3;return i.set(g0(e,r.x,a.x,o.x,u.x),g0(e,r.y,a.y,o.y,u.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class AP extends No{constructor(e=new Q,t=new Q,i=new Q,r=new Q){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Q){const i=t,r=this.v0,a=this.v1,o=this.v2,u=this.v3;return i.set(g0(e,r.x,a.x,o.x,u.x),g0(e,r.y,a.y,o.y,u.y),g0(e,r.z,a.z,o.z,u.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class CA extends No{constructor(e=new Ie,t=new Ie){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ie){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ie){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class wP extends No{constructor(e=new Q,t=new Q){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Q){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Q){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class RA extends No{constructor(e=new Ie,t=new Ie,i=new Ie){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Ie){const i=t,r=this.v0,a=this.v1,o=this.v2;return i.set(m0(e,r.x,a.x,o.x),m0(e,r.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class DA extends No{constructor(e=new Q,t=new Q,i=new Q){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Q){const i=t,r=this.v0,a=this.v1,o=this.v2;return i.set(m0(e,r.x,a.x,o.x),m0(e,r.y,a.y,o.y),m0(e,r.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class OA extends No{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ie){const i=t,r=this.points,a=(r.length-1)*e,o=Math.floor(a),u=a-o,f=r[o===0?o:o-1],d=r[o],m=r[o>r.length-2?r.length-1:o+1],g=r[o>r.length-3?r.length-1:o+2];return i.set(zR(u,f.x,d.x,m.x,g.x),zR(u,f.y,d.y,m.y,g.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Ie().fromArray(r))}return this}}var l_=Object.freeze({__proto__:null,ArcCurve:MP,CatmullRomCurve3:TP,CubicBezierCurve:wA,CubicBezierCurve3:AP,EllipseCurve:oS,LineCurve:CA,LineCurve3:wP,QuadraticBezierCurve:RA,QuadraticBezierCurve3:DA,SplineCurve:OA});class CP extends No{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new l_[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=i){const o=r[a]-i,u=this.curves[a],f=u.getLength(),d=f===0?0:1-o/f;return u.getPointAt(d,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,a=this.curves;r<a.length;r++){const o=a[r],u=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,f=o.getPoints(u);for(let d=0;d<f.length;d++){const m=f[d];i&&i.equals(m)||(t.push(m),i=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new l_[r.type]().fromJSON(r))}return this}}class u_ extends CP{constructor(e){super(),this.type="Path",this.currentPoint=new Ie,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new CA(this.currentPoint.clone(),new Ie(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const a=new RA(this.currentPoint.clone(),new Ie(e,t),new Ie(i,r));return this.curves.push(a),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,a,o){const u=new wA(this.currentPoint.clone(),new Ie(e,t),new Ie(i,r),new Ie(a,o));return this.curves.push(u),this.currentPoint.set(a,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new OA(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,a,o){const u=this.currentPoint.x,f=this.currentPoint.y;return this.absarc(e+u,t+f,i,r,a,o),this}absarc(e,t,i,r,a,o){return this.absellipse(e,t,i,i,r,a,o),this}ellipse(e,t,i,r,a,o,u,f){const d=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+d,t+m,i,r,a,o,u,f),this}absellipse(e,t,i,r,a,o,u,f){const d=new oS(e,t,i,r,a,o,u,f);if(this.curves.length>0){const g=d.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(d);const m=d.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class zh extends u_{constructor(e){super(e),this.uuid=ps(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new u_().fromJSON(r))}return this}}function kF(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let a=RP(n,0,r,t,!0);const o=[];if(!a||a.next===a.prev)return o;let u,f,d;if(i&&(a=WF(n,e,a,t)),n.length>80*t){u=1/0,f=1/0;let m=-1/0,g=-1/0;for(let y=t;y<r;y+=t){const b=n[y],_=n[y+1];b<u&&(u=b),_<f&&(f=_),b>m&&(m=b),_>g&&(g=_)}d=Math.max(m-u,g-f),d=d!==0?32767/d:0}return F0(a,o,t,u,f,d,0),o}function RP(n,e,t,i,r){let a;if(r===rV(n,e,t,i)>0)for(let o=e;o<t;o+=i)a=BR(o/i|0,n[o],n[o+1],a);else for(let o=t-i;o>=e;o-=i)a=BR(o/i|0,n[o],n[o+1],a);return a&&Zp(a,a.next)&&(H0(a),a=a.next),a}function Gh(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Zp(t,t.next)||xi(t.prev,t,t.next)===0)){if(H0(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function F0(n,e,t,i,r,a,o){if(!n)return;!o&&a&&QF(n,i,r,a);let u=n;for(;n.prev!==n.next;){const f=n.prev,d=n.next;if(a?$F(n,i,r,a):GF(n)){e.push(f.i,n.i,d.i),H0(n),n=d.next,u=d.next;continue}if(n=d,n===u){o?o===1?(n=jF(Gh(n),e),F0(n,e,t,i,r,a,2)):o===2&&XF(n,e,t,i,r,a):F0(Gh(n),e,t,i,r,a,1);break}}}function GF(n){const e=n.prev,t=n,i=n.next;if(xi(e,t,i)>=0)return!1;const r=e.x,a=t.x,o=i.x,u=e.y,f=t.y,d=i.y,m=Math.min(r,a,o),g=Math.min(u,f,d),y=Math.max(r,a,o),b=Math.max(u,f,d);let _=i.next;for(;_!==e;){if(_.x>=m&&_.x<=y&&_.y>=g&&_.y<=b&&Qg(r,u,a,f,o,d,_.x,_.y)&&xi(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function $F(n,e,t,i){const r=n.prev,a=n,o=n.next;if(xi(r,a,o)>=0)return!1;const u=r.x,f=a.x,d=o.x,m=r.y,g=a.y,y=o.y,b=Math.min(u,f,d),_=Math.min(m,g,y),A=Math.max(u,f,d),T=Math.max(m,g,y),S=kM(b,_,e,t,i),C=kM(A,T,e,t,i);let D=n.prevZ,N=n.nextZ;for(;D&&D.z>=S&&N&&N.z<=C;){if(D.x>=b&&D.x<=A&&D.y>=_&&D.y<=T&&D!==r&&D!==o&&Qg(u,m,f,g,d,y,D.x,D.y)&&xi(D.prev,D,D.next)>=0||(D=D.prevZ,N.x>=b&&N.x<=A&&N.y>=_&&N.y<=T&&N!==r&&N!==o&&Qg(u,m,f,g,d,y,N.x,N.y)&&xi(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;D&&D.z>=S;){if(D.x>=b&&D.x<=A&&D.y>=_&&D.y<=T&&D!==r&&D!==o&&Qg(u,m,f,g,d,y,D.x,D.y)&&xi(D.prev,D,D.next)>=0)return!1;D=D.prevZ}for(;N&&N.z<=C;){if(N.x>=b&&N.x<=A&&N.y>=_&&N.y<=T&&N!==r&&N!==o&&Qg(u,m,f,g,d,y,N.x,N.y)&&xi(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function jF(n,e){let t=n;do{const i=t.prev,r=t.next.next;!Zp(i,r)&&OP(i,t,t.next,r)&&V0(i,r)&&V0(r,i)&&(e.push(i.i,t.i,r.i),H0(t),H0(t.next),t=n=r),t=t.next}while(t!==n);return Gh(t)}function XF(n,e,t,i,r,a){let o=n;do{let u=o.next.next;for(;u!==o.prev;){if(o.i!==u.i&&tV(o,u)){let f=NP(o,u);o=Gh(o,o.next),f=Gh(f,f.next),F0(o,e,t,i,r,a,0),F0(f,e,t,i,r,a,0);return}u=u.next}o=o.next}while(o!==n)}function WF(n,e,t,i){const r=[];for(let a=0,o=e.length;a<o;a++){const u=e[a]*i,f=a<o-1?e[a+1]*i:n.length,d=RP(n,u,f,i,!1);d===d.next&&(d.steiner=!0),r.push(eV(d))}r.sort(qF);for(let a=0;a<r.length;a++)t=YF(r[a],t);return t}function qF(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function YF(n,e){const t=KF(n,e);if(!t)return e;const i=NP(t,n);return Gh(i,i.next),Gh(t,t.next)}function KF(n,e){let t=e;const i=n.x,r=n.y;let a=-1/0,o;if(Zp(n,t))return t;do{if(Zp(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const g=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(g<=i&&g>a&&(a=g,o=t.x<t.next.x?t:t.next,g===i))return o}t=t.next}while(t!==e);if(!o)return null;const u=o,f=o.x,d=o.y;let m=1/0;t=o;do{if(i>=t.x&&t.x>=f&&i!==t.x&&DP(r<d?i:a,r,f,d,r<d?a:i,r,t.x,t.y)){const g=Math.abs(r-t.y)/(i-t.x);V0(t,n)&&(g<m||g===m&&(t.x>o.x||t.x===o.x&&ZF(o,t)))&&(o=t,m=g)}t=t.next}while(t!==u);return o}function ZF(n,e){return xi(n.prev,n,e.prev)<0&&xi(e.next,n,n.next)<0}function QF(n,e,t,i){let r=n;do r.z===0&&(r.z=kM(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,JF(r)}function JF(n){let e,t=1;do{let i=n,r;n=null;let a=null;for(e=0;i;){e++;let o=i,u=0;for(let d=0;d<t&&(u++,o=o.nextZ,!!o);d++);let f=t;for(;u>0||f>0&&o;)u!==0&&(f===0||!o||i.z<=o.z)?(r=i,i=i.nextZ,u--):(r=o,o=o.nextZ,f--),a?a.nextZ=r:n=r,r.prevZ=a,a=r;i=o}a.nextZ=null,t*=2}while(e>1);return n}function kM(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function eV(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function DP(n,e,t,i,r,a,o,u){return(r-o)*(e-u)>=(n-o)*(a-u)&&(n-o)*(i-u)>=(t-o)*(e-u)&&(t-o)*(a-u)>=(r-o)*(i-u)}function Qg(n,e,t,i,r,a,o,u){return!(n===o&&e===u)&&DP(n,e,t,i,r,a,o,u)}function tV(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!nV(n,e)&&(V0(n,e)&&V0(e,n)&&iV(n,e)&&(xi(n.prev,n,e.prev)||xi(n,e.prev,e))||Zp(n,e)&&xi(n.prev,n,n.next)>0&&xi(e.prev,e,e.next)>0)}function xi(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Zp(n,e){return n.x===e.x&&n.y===e.y}function OP(n,e,t,i){const r=Ix(xi(n,e,t)),a=Ix(xi(n,e,i)),o=Ix(xi(t,i,n)),u=Ix(xi(t,i,e));return!!(r!==a&&o!==u||r===0&&Bx(n,t,e)||a===0&&Bx(n,i,e)||o===0&&Bx(t,n,i)||u===0&&Bx(t,e,i))}function Bx(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Ix(n){return n>0?1:n<0?-1:0}function nV(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&OP(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function V0(n,e){return xi(n.prev,n,n.next)<0?xi(n,e,n.next)>=0&&xi(n,n.prev,e)>=0:xi(n,e,n.prev)<0||xi(n,n.next,e)<0}function iV(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&r<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function NP(n,e){const t=GM(n.i,n.x,n.y),i=GM(e.i,e.x,e.y),r=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,a.next=i,i.prev=a,i}function BR(n,e,t,i){const r=GM(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function H0(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function GM(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function rV(n,e,t,i){let r=0;for(let a=e,o=t-i;a<t;a+=i)r+=(n[o]-n[a])*(n[a+1]+n[o+1]),o=a;return r}class aV{static triangulate(e,t,i=2){return kF(e,t,i)}}class Co{static area(e){const t=e.length;let i=0;for(let r=t-1,a=0;a<t;r=a++)i+=e[r].x*e[a].y-e[a].x*e[r].y;return i*.5}static isClockWise(e){return Co.area(e)<0}static triangulateShape(e,t){const i=[],r=[],a=[];IR(e),FR(i,e);let o=e.length;t.forEach(IR);for(let f=0;f<t.length;f++)r.push(o),o+=t[f].length,FR(i,t[f]);const u=aV.triangulate(i,r);for(let f=0;f<u.length;f+=3)a.push(u.slice(f,f+3));return a}}function IR(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function FR(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class lS extends on{constructor(e=new zh([new Ie(.5,.5),new Ie(-.5,.5),new Ie(-.5,-.5),new Ie(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],a=[];for(let u=0,f=e.length;u<f;u++){const d=e[u];o(d)}this.setAttribute("position",new Et(r,3)),this.setAttribute("uv",new Et(a,2)),this.computeVertexNormals();function o(u){const f=[],d=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let y=t.bevelEnabled!==void 0?t.bevelEnabled:!0,b=t.bevelThickness!==void 0?t.bevelThickness:.2,_=t.bevelSize!==void 0?t.bevelSize:b-.1,A=t.bevelOffset!==void 0?t.bevelOffset:0,T=t.bevelSegments!==void 0?t.bevelSegments:3;const S=t.extrudePath,C=t.UVGenerator!==void 0?t.UVGenerator:sV;let D,N=!1,z,U,I,V;S&&(D=S.getSpacedPoints(m),N=!0,y=!1,z=S.computeFrenetFrames(m,!1),U=new Q,I=new Q,V=new Q),y||(T=0,b=0,_=0,A=0);const B=u.extractPoints(d);let L=B.shape;const W=B.holes;if(!Co.isClockWise(L)){L=L.reverse();for(let Z=0,Qe=W.length;Z<Qe;Z++){const $e=W[Z];Co.isClockWise($e)&&(W[Z]=$e.reverse())}}function ee(Z){const $e=10000000000000001e-36;let We=Z[0];for(let Pe=1;Pe<=Z.length;Pe++){const rt=Pe%Z.length,He=Z[rt],at=He.x-We.x,wt=He.y-We.y,j=at*at+wt*wt,H=Math.max(Math.abs(He.x),Math.abs(He.y),Math.abs(We.x),Math.abs(We.y)),pe=$e*H*H;if(j<=pe){Z.splice(rt,1),Pe--;continue}We=He}}ee(L),W.forEach(ee);const he=W.length,de=L;for(let Z=0;Z<he;Z++){const Qe=W[Z];L=L.concat(Qe)}function k(Z,Qe,$e){return Qe||console.error("THREE.ExtrudeGeometry: vec does not exist"),Z.clone().addScaledVector(Qe,$e)}const Y=L.length;function K(Z,Qe,$e){let We,Pe,rt;const He=Z.x-Qe.x,at=Z.y-Qe.y,wt=$e.x-Z.x,j=$e.y-Z.y,H=He*He+at*at,pe=He*j-at*wt;if(Math.abs(pe)>Number.EPSILON){const Me=Math.sqrt(H),Ne=Math.sqrt(wt*wt+j*j),Oe=Qe.x-at/Me,st=Qe.y+He/Me,nt=$e.x-j/Ne,dt=$e.y+wt/Ne,vt=((nt-Oe)*j-(dt-st)*wt)/(He*j-at*wt);We=Oe+He*vt-Z.x,Pe=st+at*vt-Z.y;const Le=We*We+Pe*Pe;if(Le<=2)return new Ie(We,Pe);rt=Math.sqrt(Le/2)}else{let Me=!1;He>Number.EPSILON?wt>Number.EPSILON&&(Me=!0):He<-Number.EPSILON?wt<-Number.EPSILON&&(Me=!0):Math.sign(at)===Math.sign(j)&&(Me=!0),Me?(We=-at,Pe=He,rt=Math.sqrt(H)):(We=He,Pe=at,rt=Math.sqrt(H/2))}return new Ie(We/rt,Pe/rt)}const ue=[];for(let Z=0,Qe=de.length,$e=Qe-1,We=Z+1;Z<Qe;Z++,$e++,We++)$e===Qe&&($e=0),We===Qe&&(We=0),ue[Z]=K(de[Z],de[$e],de[We]);const G=[];let te,Se=ue.concat();for(let Z=0,Qe=he;Z<Qe;Z++){const $e=W[Z];te=[];for(let We=0,Pe=$e.length,rt=Pe-1,He=We+1;We<Pe;We++,rt++,He++)rt===Pe&&(rt=0),He===Pe&&(He=0),te[We]=K($e[We],$e[rt],$e[He]);G.push(te),Se=Se.concat(te)}let ye;if(T===0)ye=Co.triangulateShape(de,W);else{const Z=[],Qe=[];for(let $e=0;$e<T;$e++){const We=$e/T,Pe=b*Math.cos(We*Math.PI/2),rt=_*Math.sin(We*Math.PI/2)+A;for(let He=0,at=de.length;He<at;He++){const wt=k(de[He],ue[He],rt);gt(wt.x,wt.y,-Pe),We===0&&Z.push(wt)}for(let He=0,at=he;He<at;He++){const wt=W[He];te=G[He];const j=[];for(let H=0,pe=wt.length;H<pe;H++){const Me=k(wt[H],te[H],rt);gt(Me.x,Me.y,-Pe),We===0&&j.push(Me)}We===0&&Qe.push(j)}}ye=Co.triangulateShape(Z,Qe)}const se=ye.length,we=_+A;for(let Z=0;Z<Y;Z++){const Qe=y?k(L[Z],Se[Z],we):L[Z];N?(I.copy(z.normals[0]).multiplyScalar(Qe.x),U.copy(z.binormals[0]).multiplyScalar(Qe.y),V.copy(D[0]).add(I).add(U),gt(V.x,V.y,V.z)):gt(Qe.x,Qe.y,0)}for(let Z=1;Z<=m;Z++)for(let Qe=0;Qe<Y;Qe++){const $e=y?k(L[Qe],Se[Qe],we):L[Qe];N?(I.copy(z.normals[Z]).multiplyScalar($e.x),U.copy(z.binormals[Z]).multiplyScalar($e.y),V.copy(D[Z]).add(I).add(U),gt(V.x,V.y,V.z)):gt($e.x,$e.y,g/m*Z)}for(let Z=T-1;Z>=0;Z--){const Qe=Z/T,$e=b*Math.cos(Qe*Math.PI/2),We=_*Math.sin(Qe*Math.PI/2)+A;for(let Pe=0,rt=de.length;Pe<rt;Pe++){const He=k(de[Pe],ue[Pe],We);gt(He.x,He.y,g+$e)}for(let Pe=0,rt=W.length;Pe<rt;Pe++){const He=W[Pe];te=G[Pe];for(let at=0,wt=He.length;at<wt;at++){const j=k(He[at],te[at],We);N?gt(j.x,j.y+D[m-1].y,D[m-1].x+$e):gt(j.x,j.y,g+$e)}}}Be(),je();function Be(){const Z=r.length/3;if(y){let Qe=0,$e=Y*Qe;for(let We=0;We<se;We++){const Pe=ye[We];bt(Pe[2]+$e,Pe[1]+$e,Pe[0]+$e)}Qe=m+T*2,$e=Y*Qe;for(let We=0;We<se;We++){const Pe=ye[We];bt(Pe[0]+$e,Pe[1]+$e,Pe[2]+$e)}}else{for(let Qe=0;Qe<se;Qe++){const $e=ye[Qe];bt($e[2],$e[1],$e[0])}for(let Qe=0;Qe<se;Qe++){const $e=ye[Qe];bt($e[0]+Y*m,$e[1]+Y*m,$e[2]+Y*m)}}i.addGroup(Z,r.length/3-Z,0)}function je(){const Z=r.length/3;let Qe=0;Xe(de,Qe),Qe+=de.length;for(let $e=0,We=W.length;$e<We;$e++){const Pe=W[$e];Xe(Pe,Qe),Qe+=Pe.length}i.addGroup(Z,r.length/3-Z,1)}function Xe(Z,Qe){let $e=Z.length;for(;--$e>=0;){const We=$e;let Pe=$e-1;Pe<0&&(Pe=Z.length-1);for(let rt=0,He=m+T*2;rt<He;rt++){const at=Y*rt,wt=Y*(rt+1),j=Qe+We+at,H=Qe+Pe+at,pe=Qe+Pe+wt,Me=Qe+We+wt;Zt(j,H,pe,Me)}}}function gt(Z,Qe,$e){f.push(Z),f.push(Qe),f.push($e)}function bt(Z,Qe,$e){Pt(Z),Pt(Qe),Pt($e);const We=r.length/3,Pe=C.generateTopUV(i,r,We-3,We-2,We-1);Mt(Pe[0]),Mt(Pe[1]),Mt(Pe[2])}function Zt(Z,Qe,$e,We){Pt(Z),Pt(Qe),Pt(We),Pt(Qe),Pt($e),Pt(We);const Pe=r.length/3,rt=C.generateSideWallUV(i,r,Pe-6,Pe-3,Pe-2,Pe-1);Mt(rt[0]),Mt(rt[1]),Mt(rt[3]),Mt(rt[1]),Mt(rt[2]),Mt(rt[3])}function Pt(Z){r.push(f[Z*3+0]),r.push(f[Z*3+1]),r.push(f[Z*3+2])}function Mt(Z){a.push(Z.x),a.push(Z.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return oV(t,i,e)}static fromJSON(e,t){const i=[];for(let a=0,o=e.shapes.length;a<o;a++){const u=t[e.shapes[a]];i.push(u)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new l_[r.type]().fromJSON(r)),new lS(i,e.options)}}const sV={generateTopUV:function(n,e,t,i,r){const a=e[t*3],o=e[t*3+1],u=e[i*3],f=e[i*3+1],d=e[r*3],m=e[r*3+1];return[new Ie(a,o),new Ie(u,f),new Ie(d,m)]},generateSideWallUV:function(n,e,t,i,r,a){const o=e[t*3],u=e[t*3+1],f=e[t*3+2],d=e[i*3],m=e[i*3+1],g=e[i*3+2],y=e[r*3],b=e[r*3+1],_=e[r*3+2],A=e[a*3],T=e[a*3+1],S=e[a*3+2];return Math.abs(u-m)<Math.abs(o-d)?[new Ie(o,1-f),new Ie(d,1-g),new Ie(y,1-_),new Ie(A,1-S)]:[new Ie(u,1-f),new Ie(m,1-g),new Ie(b,1-_),new Ie(T,1-S)]}};function oV(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const a=n[i];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class uS extends lf{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new uS(e.radius,e.detail)}}class cS extends on{constructor(e=[new Ie(0,-.5),new Ie(.5,0),new Ie(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Kt(r,0,Math.PI*2);const a=[],o=[],u=[],f=[],d=[],m=1/t,g=new Q,y=new Ie,b=new Q,_=new Q,A=new Q;let T=0,S=0;for(let C=0;C<=e.length-1;C++)switch(C){case 0:T=e[C+1].x-e[C].x,S=e[C+1].y-e[C].y,b.x=S*1,b.y=-T,b.z=S*0,A.copy(b),b.normalize(),f.push(b.x,b.y,b.z);break;case e.length-1:f.push(A.x,A.y,A.z);break;default:T=e[C+1].x-e[C].x,S=e[C+1].y-e[C].y,b.x=S*1,b.y=-T,b.z=S*0,_.copy(b),b.x+=A.x,b.y+=A.y,b.z+=A.z,b.normalize(),f.push(b.x,b.y,b.z),A.copy(_)}for(let C=0;C<=t;C++){const D=i+C*m*r,N=Math.sin(D),z=Math.cos(D);for(let U=0;U<=e.length-1;U++){g.x=e[U].x*N,g.y=e[U].y,g.z=e[U].x*z,o.push(g.x,g.y,g.z),y.x=C/t,y.y=U/(e.length-1),u.push(y.x,y.y);const I=f[3*U+0]*N,V=f[3*U+1],B=f[3*U+0]*z;d.push(I,V,B)}}for(let C=0;C<t;C++)for(let D=0;D<e.length-1;D++){const N=D+C*e.length,z=N,U=N+e.length,I=N+e.length+1,V=N+1;a.push(z,U,V),a.push(I,V,U)}this.setIndex(a),this.setAttribute("position",new Et(o,3)),this.setAttribute("uv",new Et(u,2)),this.setAttribute("normal",new Et(d,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cS(e.points,e.segments,e.phiStart,e.phiLength)}}class lv extends lf{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new lv(e.radius,e.detail)}}class am extends on{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const a=e/2,o=t/2,u=Math.floor(i),f=Math.floor(r),d=u+1,m=f+1,g=e/u,y=t/f,b=[],_=[],A=[],T=[];for(let S=0;S<m;S++){const C=S*y-o;for(let D=0;D<d;D++){const N=D*g-a;_.push(N,-C,0),A.push(0,0,1),T.push(D/u),T.push(1-S/f)}}for(let S=0;S<f;S++)for(let C=0;C<u;C++){const D=C+d*S,N=C+d*(S+1),z=C+1+d*(S+1),U=C+1+d*S;b.push(D,N,U),b.push(N,z,U)}this.setIndex(b),this.setAttribute("position",new Et(_,3)),this.setAttribute("normal",new Et(A,3)),this.setAttribute("uv",new Et(T,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new am(e.width,e.height,e.widthSegments,e.heightSegments)}}class fS extends on{constructor(e=.5,t=1,i=32,r=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:a,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const u=[],f=[],d=[],m=[];let g=e;const y=(t-e)/r,b=new Q,_=new Ie;for(let A=0;A<=r;A++){for(let T=0;T<=i;T++){const S=a+T/i*o;b.x=g*Math.cos(S),b.y=g*Math.sin(S),f.push(b.x,b.y,b.z),d.push(0,0,1),_.x=(b.x/t+1)/2,_.y=(b.y/t+1)/2,m.push(_.x,_.y)}g+=y}for(let A=0;A<r;A++){const T=A*(i+1);for(let S=0;S<i;S++){const C=S+T,D=C,N=C+i+1,z=C+i+2,U=C+1;u.push(D,N,U),u.push(N,z,U)}}this.setIndex(u),this.setAttribute("position",new Et(f,3)),this.setAttribute("normal",new Et(d,3)),this.setAttribute("uv",new Et(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fS(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class hS extends on{constructor(e=new zh([new Ie(0,.5),new Ie(-.5,-.5),new Ie(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],a=[],o=[];let u=0,f=0;if(Array.isArray(e)===!1)d(e);else for(let m=0;m<e.length;m++)d(e[m]),this.addGroup(u,f,m),u+=f,f=0;this.setIndex(i),this.setAttribute("position",new Et(r,3)),this.setAttribute("normal",new Et(a,3)),this.setAttribute("uv",new Et(o,2));function d(m){const g=r.length/3,y=m.extractPoints(t);let b=y.shape;const _=y.holes;Co.isClockWise(b)===!1&&(b=b.reverse());for(let T=0,S=_.length;T<S;T++){const C=_[T];Co.isClockWise(C)===!0&&(_[T]=C.reverse())}const A=Co.triangulateShape(b,_);for(let T=0,S=_.length;T<S;T++){const C=_[T];b=b.concat(C)}for(let T=0,S=b.length;T<S;T++){const C=b[T];r.push(C.x,C.y,0),a.push(0,0,1),o.push(C.x,C.y)}for(let T=0,S=A.length;T<S;T++){const C=A[T],D=C[0]+g,N=C[1]+g,z=C[2]+g;i.push(D,N,z),f+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return lV(t,e)}static fromJSON(e,t){const i=[];for(let r=0,a=e.shapes.length;r<a;r++){const o=t[e.shapes[r]];i.push(o)}return new hS(i,e.curveSegments)}}function lV(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class uv extends on{constructor(e=1,t=32,i=16,r=0,a=Math.PI*2,o=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:a,thetaStart:o,thetaLength:u},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const f=Math.min(o+u,Math.PI);let d=0;const m=[],g=new Q,y=new Q,b=[],_=[],A=[],T=[];for(let S=0;S<=i;S++){const C=[],D=S/i;let N=0;S===0&&o===0?N=.5/t:S===i&&f===Math.PI&&(N=-.5/t);for(let z=0;z<=t;z++){const U=z/t;g.x=-e*Math.cos(r+U*a)*Math.sin(o+D*u),g.y=e*Math.cos(o+D*u),g.z=e*Math.sin(r+U*a)*Math.sin(o+D*u),_.push(g.x,g.y,g.z),y.copy(g).normalize(),A.push(y.x,y.y,y.z),T.push(U+N,1-D),C.push(d++)}m.push(C)}for(let S=0;S<i;S++)for(let C=0;C<t;C++){const D=m[S][C+1],N=m[S][C],z=m[S+1][C],U=m[S+1][C+1];(S!==0||o>0)&&b.push(D,N,U),(S!==i-1||f<Math.PI)&&b.push(N,z,U)}this.setIndex(b),this.setAttribute("position",new Et(_,3)),this.setAttribute("normal",new Et(A,3)),this.setAttribute("uv",new Et(T,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uv(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class dS extends lf{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new dS(e.radius,e.detail)}}class pS extends on{constructor(e=1,t=.4,i=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:a},i=Math.floor(i),r=Math.floor(r);const o=[],u=[],f=[],d=[],m=new Q,g=new Q,y=new Q;for(let b=0;b<=i;b++)for(let _=0;_<=r;_++){const A=_/r*a,T=b/i*Math.PI*2;g.x=(e+t*Math.cos(T))*Math.cos(A),g.y=(e+t*Math.cos(T))*Math.sin(A),g.z=t*Math.sin(T),u.push(g.x,g.y,g.z),m.x=e*Math.cos(A),m.y=e*Math.sin(A),y.subVectors(g,m).normalize(),f.push(y.x,y.y,y.z),d.push(_/r),d.push(b/i)}for(let b=1;b<=i;b++)for(let _=1;_<=r;_++){const A=(r+1)*b+_-1,T=(r+1)*(b-1)+_-1,S=(r+1)*(b-1)+_,C=(r+1)*b+_;o.push(A,T,C),o.push(T,S,C)}this.setIndex(o),this.setAttribute("position",new Et(u,3)),this.setAttribute("normal",new Et(f,3)),this.setAttribute("uv",new Et(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pS(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class mS extends on{constructor(e=1,t=.4,i=64,r=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:a,q:o},i=Math.floor(i),r=Math.floor(r);const u=[],f=[],d=[],m=[],g=new Q,y=new Q,b=new Q,_=new Q,A=new Q,T=new Q,S=new Q;for(let D=0;D<=i;++D){const N=D/i*a*Math.PI*2;C(N,a,o,e,b),C(N+.01,a,o,e,_),T.subVectors(_,b),S.addVectors(_,b),A.crossVectors(T,S),S.crossVectors(A,T),A.normalize(),S.normalize();for(let z=0;z<=r;++z){const U=z/r*Math.PI*2,I=-t*Math.cos(U),V=t*Math.sin(U);g.x=b.x+(I*S.x+V*A.x),g.y=b.y+(I*S.y+V*A.y),g.z=b.z+(I*S.z+V*A.z),f.push(g.x,g.y,g.z),y.subVectors(g,b).normalize(),d.push(y.x,y.y,y.z),m.push(D/i),m.push(z/r)}}for(let D=1;D<=i;D++)for(let N=1;N<=r;N++){const z=(r+1)*(D-1)+(N-1),U=(r+1)*D+(N-1),I=(r+1)*D+N,V=(r+1)*(D-1)+N;u.push(z,U,V),u.push(U,I,V)}this.setIndex(u),this.setAttribute("position",new Et(f,3)),this.setAttribute("normal",new Et(d,3)),this.setAttribute("uv",new Et(m,2));function C(D,N,z,U,I){const V=Math.cos(D),B=Math.sin(D),L=z/N*D,W=Math.cos(L);I.x=U*(2+W)*.5*V,I.y=U*(2+W)*B*.5,I.z=U*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mS(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class gS extends on{constructor(e=new DA(new Q(-1,-1,0),new Q(-1,1,0),new Q(1,1,0)),t=64,i=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:a};const o=e.computeFrenetFrames(t,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const u=new Q,f=new Q,d=new Ie;let m=new Q;const g=[],y=[],b=[],_=[];A(),this.setIndex(_),this.setAttribute("position",new Et(g,3)),this.setAttribute("normal",new Et(y,3)),this.setAttribute("uv",new Et(b,2));function A(){for(let D=0;D<t;D++)T(D);T(a===!1?t:0),C(),S()}function T(D){m=e.getPointAt(D/t,m);const N=o.normals[D],z=o.binormals[D];for(let U=0;U<=r;U++){const I=U/r*Math.PI*2,V=Math.sin(I),B=-Math.cos(I);f.x=B*N.x+V*z.x,f.y=B*N.y+V*z.y,f.z=B*N.z+V*z.z,f.normalize(),y.push(f.x,f.y,f.z),u.x=m.x+i*f.x,u.y=m.y+i*f.y,u.z=m.z+i*f.z,g.push(u.x,u.y,u.z)}}function S(){for(let D=1;D<=t;D++)for(let N=1;N<=r;N++){const z=(r+1)*(D-1)+(N-1),U=(r+1)*D+(N-1),I=(r+1)*D+N,V=(r+1)*(D-1)+N;_.push(z,U,V),_.push(U,I,V)}}function C(){for(let D=0;D<=t;D++)for(let N=0;N<=r;N++)d.x=D/t,d.y=N/r,b.push(d.x,d.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new gS(new l_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class PP extends on{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new Q,a=new Q;if(e.index!==null){const o=e.attributes.position,u=e.index;let f=e.groups;f.length===0&&(f=[{start:0,count:u.count,materialIndex:0}]);for(let d=0,m=f.length;d<m;++d){const g=f[d],y=g.start,b=g.count;for(let _=y,A=y+b;_<A;_+=3)for(let T=0;T<3;T++){const S=u.getX(_+T),C=u.getX(_+(T+1)%3);r.fromBufferAttribute(o,S),a.fromBufferAttribute(o,C),VR(r,a,i)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let u=0,f=o.count/3;u<f;u++)for(let d=0;d<3;d++){const m=3*u+d,g=3*u+(d+1)%3;r.fromBufferAttribute(o,m),a.fromBufferAttribute(o,g),VR(r,a,i)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new Et(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function VR(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var HR=Object.freeze({__proto__:null,BoxGeometry:Zh,CapsuleGeometry:rS,CircleGeometry:aS,ConeGeometry:ov,CylinderGeometry:sv,DodecahedronGeometry:sS,EdgesGeometry:EP,ExtrudeGeometry:lS,IcosahedronGeometry:uS,LatheGeometry:cS,OctahedronGeometry:lv,PlaneGeometry:am,PolyhedronGeometry:lf,RingGeometry:fS,ShapeGeometry:hS,SphereGeometry:uv,TetrahedronGeometry:dS,TorusGeometry:pS,TorusKnotGeometry:mS,TubeGeometry:gS,WireframeGeometry:PP});class LP extends ea{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new xt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class UP extends Do{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class NA extends ea{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new xt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sf,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ms,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class zP extends NA{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ie(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Kt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new xt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new xt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new xt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class BP extends ea{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new xt(16777215),this.specular=new xt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sf,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ms,this.combine=iv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class IP extends ea{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new xt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sf,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class FP extends ea{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sf,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class VP extends ea{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new xt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sf,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ms,this.combine=iv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class PA extends ea{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=KN,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class LA extends ea{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class HP extends ea{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new xt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sf,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kP extends Ta{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Dh(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function GP(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function $P(n){function e(r,a){return n[r]-n[a]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function $M(n,e,t){const i=n.length,r=new n.constructor(i);for(let a=0,o=0;o!==i;++a){const u=t[a]*e;for(let f=0;f!==e;++f)r[o++]=n[u+f]}return r}function UA(n,e,t,i){let r=1,a=n[0];for(;a!==void 0&&a[i]===void 0;)a=n[r++];if(a===void 0)return;let o=a[i];if(o!==void 0)if(Array.isArray(o))do o=a[i],o!==void 0&&(e.push(a.time),t.push(...o)),a=n[r++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[i],o!==void 0&&(e.push(a.time),o.toArray(t,t.length)),a=n[r++];while(a!==void 0);else do o=a[i],o!==void 0&&(e.push(a.time),t.push(o)),a=n[r++];while(a!==void 0)}function uV(n,e,t,i,r=30){const a=n.clone();a.name=e;const o=[];for(let f=0;f<a.tracks.length;++f){const d=a.tracks[f],m=d.getValueSize(),g=[],y=[];for(let b=0;b<d.times.length;++b){const _=d.times[b]*r;if(!(_<t||_>=i)){g.push(d.times[b]);for(let A=0;A<m;++A)y.push(d.values[b*m+A])}}g.length!==0&&(d.times=Dh(g,d.times.constructor),d.values=Dh(y,d.values.constructor),o.push(d))}a.tracks=o;let u=1/0;for(let f=0;f<a.tracks.length;++f)u>a.tracks[f].times[0]&&(u=a.tracks[f].times[0]);for(let f=0;f<a.tracks.length;++f)a.tracks[f].shift(-1*u);return a.resetDuration(),a}function cV(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,a=e/i;for(let o=0;o<r;++o){const u=t.tracks[o],f=u.ValueTypeName;if(f==="bool"||f==="string")continue;const d=n.tracks.find(function(S){return S.name===u.name&&S.ValueTypeName===f});if(d===void 0)continue;let m=0;const g=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);let y=0;const b=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=b/3);const _=u.times.length-1;let A;if(a<=u.times[0]){const S=m,C=g-m;A=u.values.slice(S,C)}else if(a>=u.times[_]){const S=_*g+m,C=S+g-m;A=u.values.slice(S,C)}else{const S=u.createInterpolant(),C=m,D=g-m;S.evaluate(a),A=S.resultBuffer.slice(C,D)}f==="quaternion"&&new Zr().fromArray(A).normalize().conjugate().toArray(A);const T=d.times.length;for(let S=0;S<T;++S){const C=S*b+y;if(f==="quaternion")Zr.multiplyQuaternionsFlat(d.values,C,A,0,d.values,C);else{const D=b-y*2;for(let N=0;N<D;++N)d.values[C+N]-=A[N]}}}return n.blendMode=mA,n}class fV{static convertArray(e,t){return Dh(e,t)}static isTypedArray(e){return GP(e)}static getKeyframeOrder(e){return $P(e)}static sortedArray(e,t,i){return $M(e,t,i)}static flattenJSON(e,t,i,r){UA(e,t,i,r)}static subclip(e,t,i,r,a=30){return uV(e,t,i,r,a)}static makeClipAdditive(e,t=0,i=e,r=30){return cV(e,t,i,r)}}class cv{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],a=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let u=i+2;;){if(r===void 0){if(e<a)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===u)break;if(a=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=a)){const u=t[1];e<u&&(i=2,a=u);for(let f=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===f)break;if(r=a,a=t[--i-1],e>=a)break t}o=i,i=0;break n}break e}for(;i<o;){const u=i+o>>>1;e<t[u]?o=u:i=u+1}if(r=t[i],a=t[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r;for(let o=0;o!==r;++o)t[o]=i[a+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class jP extends cv{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ch,endingEnd:Ch}}intervalChanged_(e,t,i){const r=this.parameterPositions;let a=e-2,o=e+1,u=r[a],f=r[o];if(u===void 0)switch(this.getSettings_().endingStart){case Rh:a=e,u=2*t-i;break;case L0:a=r.length-2,u=t+r[a]-r[a+1];break;default:a=e,u=i}if(f===void 0)switch(this.getSettings_().endingEnd){case Rh:o=e,f=2*i-t;break;case L0:o=1,f=i+r[1]-r[0];break;default:o=e-1,f=t}const d=(i-t)*.5,m=this.valueSize;this._weightPrev=d/(t-u),this._weightNext=d/(f-i),this._offsetPrev=a*m,this._offsetNext=o*m}interpolate_(e,t,i,r){const a=this.resultBuffer,o=this.sampleValues,u=this.valueSize,f=e*u,d=f-u,m=this._offsetPrev,g=this._offsetNext,y=this._weightPrev,b=this._weightNext,_=(i-t)/(r-t),A=_*_,T=A*_,S=-y*T+2*y*A-y*_,C=(1+y)*T+(-1.5-2*y)*A+(-.5+y)*_+1,D=(-1-b)*T+(1.5+b)*A+.5*_,N=b*T-b*A;for(let z=0;z!==u;++z)a[z]=S*o[m+z]+C*o[d+z]+D*o[f+z]+N*o[g+z];return a}}class zA extends cv{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const a=this.resultBuffer,o=this.sampleValues,u=this.valueSize,f=e*u,d=f-u,m=(i-t)/(r-t),g=1-m;for(let y=0;y!==u;++y)a[y]=o[d+y]*g+o[f+y]*m;return a}}class XP extends cv{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ws{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Dh(t,this.TimeBufferType),this.values=Dh(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Dh(e.times,Array),values:Dh(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new XP(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new zA(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new jP(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case P0:t=this.InterpolantFactoryMethodDiscrete;break;case a_:t=this.InterpolantFactoryMethodLinear;break;case fb:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return P0;case this.InterpolantFactoryMethodLinear:return a_;case this.InterpolantFactoryMethodSmooth:return fb}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let a=0,o=r-1;for(;a!==r&&i[a]<e;)++a;for(;o!==-1&&i[o]>t;)--o;if(++o,a!==0||o!==r){a>=o&&(o=Math.max(o,1),a=o-1);const u=this.getValueSize();this.times=i.slice(a,o),this.values=this.values.slice(a*u,o*u)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,a=i.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let u=0;u!==a;u++){const f=i[u];if(typeof f=="number"&&isNaN(f)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,u,f),e=!1;break}if(o!==null&&o>f){console.error("THREE.KeyframeTrack: Out of order keys.",this,u,f,o),e=!1;break}o=f}if(r!==void 0&&GP(r))for(let u=0,f=r.length;u!==f;++u){const d=r[u];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,d),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===fb,a=e.length-1;let o=1;for(let u=1;u<a;++u){let f=!1;const d=e[u],m=e[u+1];if(d!==m&&(u!==1||d!==e[0]))if(r)f=!0;else{const g=u*i,y=g-i,b=g+i;for(let _=0;_!==i;++_){const A=t[g+_];if(A!==t[y+_]||A!==t[b+_]){f=!0;break}}}if(f){if(u!==o){e[o]=e[u];const g=u*i,y=o*i;for(let b=0;b!==i;++b)t[y+b]=t[g+b]}++o}}if(a>0){e[o]=e[a];for(let u=a*i,f=o*i,d=0;d!==i;++d)t[f+d]=t[u+d];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Ws.prototype.ValueTypeName="";Ws.prototype.TimeBufferType=Float32Array;Ws.prototype.ValueBufferType=Float32Array;Ws.prototype.DefaultInterpolation=a_;class Qh extends Ws{constructor(e,t,i){super(e,t,i)}}Qh.prototype.ValueTypeName="bool";Qh.prototype.ValueBufferType=Array;Qh.prototype.DefaultInterpolation=P0;Qh.prototype.InterpolantFactoryMethodLinear=void 0;Qh.prototype.InterpolantFactoryMethodSmooth=void 0;class BA extends Ws{constructor(e,t,i,r){super(e,t,i,r)}}BA.prototype.ValueTypeName="color";class k0 extends Ws{constructor(e,t,i,r){super(e,t,i,r)}}k0.prototype.ValueTypeName="number";class WP extends cv{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const a=this.resultBuffer,o=this.sampleValues,u=this.valueSize,f=(i-t)/(r-t);let d=e*u;for(let m=d+u;d!==m;d+=4)Zr.slerpFlat(a,0,o,d-u,o,d,f);return a}}class fv extends Ws{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new WP(this.times,this.values,this.getValueSize(),e)}}fv.prototype.ValueTypeName="quaternion";fv.prototype.InterpolantFactoryMethodSmooth=void 0;class Jh extends Ws{constructor(e,t,i){super(e,t,i)}}Jh.prototype.ValueTypeName="string";Jh.prototype.ValueBufferType=Array;Jh.prototype.DefaultInterpolation=P0;Jh.prototype.InterpolantFactoryMethodLinear=void 0;Jh.prototype.InterpolantFactoryMethodSmooth=void 0;class G0 extends Ws{constructor(e,t,i,r){super(e,t,i,r)}}G0.prototype.ValueTypeName="vector";class $0{constructor(e="",t=-1,i=[],r=q_){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=ps(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,u=i.length;o!==u;++o)t.push(dV(i[o]).scale(r));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,o=i.length;a!==o;++a)t.push(Ws.toJSON(i[a]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const a=t.length,o=[];for(let u=0;u<a;u++){let f=[],d=[];f.push((u+a-1)%a,u,(u+1)%a),d.push(0,1,0);const m=$P(f);f=$M(f,1,m),d=$M(d,1,m),!r&&f[0]===0&&(f.push(a),d.push(d[0])),o.push(new k0(".morphTargetInfluences["+t[u].name+"]",f,d).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},a=/^([\w-]*?)([\d]+)$/;for(let u=0,f=e.length;u<f;u++){const d=e[u],m=d.name.match(a);if(m&&m.length>1){const g=m[1];let y=r[g];y||(r[g]=y=[]),y.push(d)}}const o=[];for(const u in r)o.push(this.CreateFromMorphTargetSequence(u,r[u],t,i));return o}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(g,y,b,_,A){if(b.length!==0){const T=[],S=[];UA(b,T,S,_),T.length!==0&&A.push(new g(y,T,S))}},r=[],a=e.name||"default",o=e.fps||30,u=e.blendMode;let f=e.length||-1;const d=e.hierarchy||[];for(let g=0;g<d.length;g++){const y=d[g].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const b={};let _;for(_=0;_<y.length;_++)if(y[_].morphTargets)for(let A=0;A<y[_].morphTargets.length;A++)b[y[_].morphTargets[A]]=-1;for(const A in b){const T=[],S=[];for(let C=0;C!==y[_].morphTargets.length;++C){const D=y[_];T.push(D.time),S.push(D.morphTarget===A?1:0)}r.push(new k0(".morphTargetInfluence["+A+"]",T,S))}f=b.length*o}else{const b=".bones["+t[g].name+"]";i(G0,b+".position",y,"pos",r),i(fv,b+".quaternion",y,"rot",r),i(G0,b+".scale",y,"scl",r)}}return r.length===0?null:new this(a,f,r,u)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const a=this.tracks[i];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function hV(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return k0;case"vector":case"vector2":case"vector3":case"vector4":return G0;case"color":return BA;case"quaternion":return fv;case"bool":case"boolean":return Qh;case"string":return Jh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function dV(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=hV(n.type);if(n.times===void 0){const t=[],i=[];UA(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const _l={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class IA{constructor(e,t,i){const r=this;let a=!1,o=0,u=0,f;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(m){u++,a===!1&&r.onStart!==void 0&&r.onStart(m,o,u),a=!0},this.itemEnd=function(m){o++,r.onProgress!==void 0&&r.onProgress(m,o,u),o===u&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(m){r.onError!==void 0&&r.onError(m)},this.resolveURL=function(m){return f?f(m):m},this.setURLModifier=function(m){return f=m,this},this.addHandler=function(m,g){return d.push(m,g),this},this.removeHandler=function(m){const g=d.indexOf(m);return g!==-1&&d.splice(g,2),this},this.getHandler=function(m){for(let g=0,y=d.length;g<y;g+=2){const b=d[g],_=d[g+1];if(b.global&&(b.lastIndex=0),b.test(m))return _}return null}}}const qP=new IA;class Wa{constructor(e){this.manager=e!==void 0?e:qP,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,a){i.load(e,r,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Wa.DEFAULT_MATERIAL_NAME="__DEFAULT";const fu={};class pV extends Error{constructor(e,t){super(e),this.response=t}}class Ou extends Wa{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=_l.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(fu[e]!==void 0){fu[e].push({onLoad:t,onProgress:i,onError:r});return}fu[e]=[],fu[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),u=this.mimeType,f=this.responseType;fetch(o).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const m=fu[e],g=d.body.getReader(),y=d.headers.get("X-File-Size")||d.headers.get("Content-Length"),b=y?parseInt(y):0,_=b!==0;let A=0;const T=new ReadableStream({start(S){C();function C(){g.read().then(({done:D,value:N})=>{if(D)S.close();else{A+=N.byteLength;const z=new ProgressEvent("progress",{lengthComputable:_,loaded:A,total:b});for(let U=0,I=m.length;U<I;U++){const V=m[U];V.onProgress&&V.onProgress(z)}S.enqueue(N),C()}},D=>{S.error(D)})}}});return new Response(T)}else throw new pV(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(f){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(m=>new DOMParser().parseFromString(m,u));case"json":return d.json();default:if(u==="")return d.text();{const g=/charset="?([^;"\s]*)"?/i.exec(u),y=g&&g[1]?g[1].toLowerCase():void 0,b=new TextDecoder(y);return d.arrayBuffer().then(_=>b.decode(_))}}}).then(d=>{_l.add(`file:${e}`,d);const m=fu[e];delete fu[e];for(let g=0,y=m.length;g<y;g++){const b=m[g];b.onLoad&&b.onLoad(d)}}).catch(d=>{const m=fu[e];if(m===void 0)throw this.manager.itemError(e),d;delete fu[e];for(let g=0,y=m.length;g<y;g++){const b=m[g];b.onError&&b.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class mV extends Wa{constructor(e){super(e)}load(e,t,i,r){const a=this,o=new Ou(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(u){try{t(a.parse(JSON.parse(u)))}catch(f){r?r(f):console.error(f),a.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=$0.parse(e[i]);t.push(r)}return t}}class gV extends Wa{constructor(e){super(e)}load(e,t,i,r){const a=this,o=[],u=new iS,f=new Ou(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(a.withCredentials);let d=0;function m(g){f.load(e[g],function(y){const b=a.parse(y,!0);o[g]={width:b.width,height:b.height,format:b.format,mipmaps:b.mipmaps},d+=1,d===6&&(b.mipmapCount===1&&(u.minFilter=ur),u.image=o,u.format=b.format,u.needsUpdate=!0,t&&t(u))},i,r)}if(Array.isArray(e))for(let g=0,y=e.length;g<y;++g)m(g);else f.load(e,function(g){const y=a.parse(g,!0);if(y.isCubemap){const b=y.mipmaps.length/y.mipmapCount;for(let _=0;_<b;_++){o[_]={mipmaps:[]};for(let A=0;A<y.mipmapCount;A++)o[_].mipmaps.push(y.mipmaps[_*y.mipmapCount+A]),o[_].format=y.format,o[_].width=y.width,o[_].height=y.height}u.image=o}else u.image.width=y.width,u.image.height=y.height,u.mipmaps=y.mipmaps;y.mipmapCount===1&&(u.minFilter=ur),u.format=y.format,u.needsUpdate=!0,t&&t(u)},i,r);return u}}const bp=new WeakMap;class j0 extends Wa{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=_l.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)a.manager.itemStart(e),setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0);else{let g=bp.get(o);g===void 0&&(g=[],bp.set(o,g)),g.push({onLoad:t,onError:r})}return o}const u=I0("img");function f(){m(),t&&t(this);const g=bp.get(this)||[];for(let y=0;y<g.length;y++){const b=g[y];b.onLoad&&b.onLoad(this)}bp.delete(this),a.manager.itemEnd(e)}function d(g){m(),r&&r(g),_l.remove(`image:${e}`);const y=bp.get(this)||[];for(let b=0;b<y.length;b++){const _=y[b];_.onError&&_.onError(g)}bp.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function m(){u.removeEventListener("load",f,!1),u.removeEventListener("error",d,!1)}return u.addEventListener("load",f,!1),u.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),_l.add(`image:${e}`,u),a.manager.itemStart(e),u.src=e,u}}class vV extends Wa{constructor(e){super(e)}load(e,t,i,r){const a=new av;a.colorSpace=Wr;const o=new j0(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let u=0;function f(d){o.load(e[d],function(m){a.images[d]=m,u++,u===6&&(a.needsUpdate=!0,t&&t(a))},void 0,r)}for(let d=0;d<e.length;++d)f(d);return a}}class yV extends Wa{constructor(e){super(e)}load(e,t,i,r){const a=this,o=new El,u=new Ou(this.manager);return u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setPath(this.path),u.setWithCredentials(a.withCredentials),u.load(e,function(f){let d;try{d=a.parse(f)}catch(m){if(r!==void 0)r(m);else{console.error(m);return}}d.image!==void 0?o.image=d.image:d.data!==void 0&&(o.image.width=d.width,o.image.height=d.height,o.image.data=d.data),o.wrapS=d.wrapS!==void 0?d.wrapS:ks,o.wrapT=d.wrapT!==void 0?d.wrapT:ks,o.magFilter=d.magFilter!==void 0?d.magFilter:ur,o.minFilter=d.minFilter!==void 0?d.minFilter:ur,o.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.colorSpace!==void 0&&(o.colorSpace=d.colorSpace),d.flipY!==void 0&&(o.flipY=d.flipY),d.format!==void 0&&(o.format=d.format),d.type!==void 0&&(o.type=d.type),d.mipmaps!==void 0&&(o.mipmaps=d.mipmaps,o.minFilter=bl),d.mipmapCount===1&&(o.minFilter=ur),d.generateMipmaps!==void 0&&(o.generateMipmaps=d.generateMipmaps),o.needsUpdate=!0,t&&t(o,d)},i,r),o}}class xV extends Wa{constructor(e){super(e)}load(e,t,i,r){const a=new Ni,o=new j0(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(u){a.image=u,a.needsUpdate=!0,t!==void 0&&t(a)},i,r),a}}class uf extends wn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new xt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class YP extends uf{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(wn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new xt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const oE=new Gt,kR=new Q,GR=new Q;class FA{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ie(512,512),this.mapType=Xs,this.map=null,this.mapPass=null,this.matrix=new Gt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new rm,this._frameExtents=new Ie(1,1),this._viewportCount=1,this._viewports=[new An(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;kR.setFromMatrixPosition(e.matrixWorld),t.position.copy(kR),GR.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(GR),t.updateMatrixWorld(),oE.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(oE),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(oE)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class bV extends FA{constructor(){super(new ki(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=Wp*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||t.far;(i!==t.fov||r!==t.aspect||a!==t.far)&&(t.fov=i,t.aspect=r,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class KP extends uf{constructor(e,t,i=0,r=Math.PI/3,a=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(wn.DEFAULT_UP),this.updateMatrix(),this.target=new wn,this.distance=i,this.angle=r,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new bV}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const $R=new Gt,jg=new Q,lE=new Q;class _V extends FA{constructor(){super(new ki(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ie(4,2),this._viewportCount=6,this._viewports=[new An(2,1,1,1),new An(0,1,1,1),new An(3,1,1,1),new An(1,1,1,1),new An(3,0,1,1),new An(1,0,1,1)],this._cubeDirections=[new Q(1,0,0),new Q(-1,0,0),new Q(0,0,1),new Q(0,0,-1),new Q(0,1,0),new Q(0,-1,0)],this._cubeUps=[new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,0,1),new Q(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,a=e.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),jg.setFromMatrixPosition(e.matrixWorld),i.position.copy(jg),lE.copy(i.position),lE.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(lE),i.updateMatrixWorld(),r.makeTranslation(-jg.x,-jg.y,-jg.z),$R.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix($R)}}class ZP extends uf{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new _V}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Yc extends Z_{constructor(e=-1,t=1,i=1,r=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-e,o=i+e,u=r+t,f=r-t;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=d*this.view.offsetX,o=a+d*this.view.width,u-=m*this.view.offsetY,f=u-m*this.view.height}this.projectionMatrix.makeOrthographic(a,o,u,f,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class SV extends FA{constructor(){super(new Yc(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class QP extends uf{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(wn.DEFAULT_UP),this.updateMatrix(),this.target=new wn,this.shadow=new SV}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class JP extends uf{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class eL extends uf{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class tL{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Q)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*a),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*a)),t.addScaledVector(o[6],.315392*(3*a*a-1)),t.addScaledVector(o[7],1.092548*(i*a)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*a),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*a),t.addScaledVector(o[6],.743125*a*a-.247708),t.addScaledVector(o[7],2*.429043*i*a),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,a=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*a,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*i*a,t[8]=.546274*(i*i-r*r)}}class nL extends uf{constructor(e=new tL,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class vS extends Wa{constructor(e){super(e),this.textures={}}load(e,t,i,r){const a=this,o=new Ou(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(u){try{t(a.parse(JSON.parse(u)))}catch(f){r?r(f):console.error(f),a.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new xt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(r.uniforms[a]={},o.type){case"t":r.uniforms[a].value=i(o.value);break;case"c":r.uniforms[a].value=new xt().setHex(o.value);break;case"v2":r.uniforms[a].value=new Ie().fromArray(o.value);break;case"v3":r.uniforms[a].value=new Q().fromArray(o.value);break;case"v4":r.uniforms[a].value=new An().fromArray(o.value);break;case"m3":r.uniforms[a].value=new tn().fromArray(o.value);break;case"m4":r.uniforms[a].value=new Gt().fromArray(o.value);break;default:r.uniforms[a].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new Ie().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Ie().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return vS.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:LP,SpriteMaterial:SA,RawShaderMaterial:UP,ShaderMaterial:Do,PointsMaterial:MA,MeshPhysicalMaterial:zP,MeshStandardMaterial:NA,MeshPhongMaterial:BP,MeshToonMaterial:IP,MeshNormalMaterial:FP,MeshLambertMaterial:VP,MeshDepthMaterial:PA,MeshDistanceMaterial:LA,MeshBasicMaterial:of,MeshMatcapMaterial:HP,LineDashedMaterial:kP,LineBasicMaterial:Ta,Material:ea};return new t[e]}}class jM{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class iL extends on{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class rL extends Wa{constructor(e){super(e)}load(e,t,i,r){const a=this,o=new Ou(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(u){try{t(a.parse(JSON.parse(u)))}catch(f){r?r(f):console.error(f),a.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(b,_){if(t[_]!==void 0)return t[_];const T=b.interleavedBuffers[_],S=a(b,T.buffer),C=Rp(T.type,S),D=new eS(C,T.stride);return D.uuid=T.uuid,t[_]=D,D}function a(b,_){if(i[_]!==void 0)return i[_];const T=b.arrayBuffers[_],S=new Uint32Array(T).buffer;return i[_]=S,S}const o=e.isInstancedBufferGeometry?new iL:new on,u=e.data.index;if(u!==void 0){const b=Rp(u.type,u.array);o.setIndex(new Kn(b,1))}const f=e.data.attributes;for(const b in f){const _=f[b];let A;if(_.isInterleavedBufferAttribute){const T=r(e.data,_.data);A=new kh(T,_.itemSize,_.offset,_.normalized)}else{const T=Rp(_.type,_.array),S=_.isInstancedBufferAttribute?Kp:Kn;A=new S(T,_.itemSize,_.normalized)}_.name!==void 0&&(A.name=_.name),_.usage!==void 0&&A.setUsage(_.usage),o.setAttribute(b,A)}const d=e.data.morphAttributes;if(d)for(const b in d){const _=d[b],A=[];for(let T=0,S=_.length;T<S;T++){const C=_[T];let D;if(C.isInterleavedBufferAttribute){const N=r(e.data,C.data);D=new kh(N,C.itemSize,C.offset,C.normalized)}else{const N=Rp(C.type,C.array);D=new Kn(N,C.itemSize,C.normalized)}C.name!==void 0&&(D.name=C.name),A.push(D)}o.morphAttributes[b]=A}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let b=0,_=g.length;b!==_;++b){const A=g[b];o.addGroup(A.start,A.count,A.materialIndex)}const y=e.data.boundingSphere;return y!==void 0&&(o.boundingSphere=new Pr().fromJSON(y)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class EV extends Wa{constructor(e){super(e)}load(e,t,i,r){const a=this,o=this.path===""?jM.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const u=new Ou(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(f){let d=null;try{d=JSON.parse(f)}catch(g){r!==void 0&&r(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const m=d.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(d,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?jM.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const a=new Ou(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(e,t),u=JSON.parse(o),f=u.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(u)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(d)}),u=this.parseTextures(e.textures,o),f=this.parseMaterials(e.materials,u),d=this.parseObject(e.object,a,f,u,i),m=this.parseSkeletons(e.skeletons,d);if(this.bindSkeletons(d,m),this.bindLightTargets(d),t!==void 0){let g=!1;for(const y in o)if(o[y].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(d)}return d}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),u=this.parseMaterials(e.materials,o),f=this.parseObject(e.object,r,u,o,t),d=this.parseSkeletons(e.skeletons,f);return this.bindSkeletons(f,d),this.bindLightTargets(f),f}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const a=new zh().fromJSON(e[i]);t[a.uuid]=a}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const u=new tS().fromJSON(e[a],r);i[u.uuid]=u}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new rL;for(let a=0,o=e.length;a<o;a++){let u;const f=e[a];switch(f.type){case"BufferGeometry":case"InstancedBufferGeometry":u=r.parse(f);break;default:f.type in HR?u=HR[f.type].fromJSON(f,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${f.type}"`)}u.uuid=f.uuid,f.name!==void 0&&(u.name=f.name),f.userData!==void 0&&(u.userData=f.userData),i[f.uuid]=u}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const a=new vS;a.setTextures(t);for(let o=0,u=e.length;o<u;o++){const f=e[o];i[f.uuid]===void 0&&(i[f.uuid]=a.parse(f)),r[f.uuid]=i[f.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],a=$0.parse(r);t[a.uuid]=a}return t}parseImages(e,t){const i=this,r={};let a;function o(f){return i.manager.itemStart(f),a.load(f,function(){i.manager.itemEnd(f)},void 0,function(){i.manager.itemError(f),i.manager.itemEnd(f)})}function u(f){if(typeof f=="string"){const d=f,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:i.resourcePath+d;return o(m)}else return f.data?{data:Rp(f.type,f.data),width:f.width,height:f.height}:null}if(e!==void 0&&e.length>0){const f=new IA(t);a=new j0(f),a.setCrossOrigin(this.crossOrigin);for(let d=0,m=e.length;d<m;d++){const g=e[d],y=g.url;if(Array.isArray(y)){const b=[];for(let _=0,A=y.length;_<A;_++){const T=y[_],S=u(T);S!==null&&(S instanceof HTMLImageElement?b.push(S):b.push(new El(S.data,S.width,S.height)))}r[g.uuid]=new Xc(b)}else{const b=u(g.url);r[g.uuid]=new Xc(b)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function a(o){if(typeof o=="string"){const u=o,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:t.resourcePath+u;return await r.loadAsync(f)}else return o.data?{data:Rp(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new j0(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,u=e.length;o<u;o++){const f=e[o],d=f.url;if(Array.isArray(d)){const m=[];for(let g=0,y=d.length;g<y;g++){const b=d[g],_=await a(b);_!==null&&(_ instanceof HTMLImageElement?m.push(_):m.push(new El(_.data,_.width,_.height)))}i[f.uuid]=new Xc(m)}else{const m=await a(f.url);i[f.uuid]=new Xc(m)}}}return i}parseTextures(e,t){function i(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const r={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const u=e[a];u.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',u.uuid),t[u.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",u.image);const f=t[u.image],d=f.data;let m;Array.isArray(d)?(m=new av,d.length===6&&(m.needsUpdate=!0)):(d&&d.data?m=new El:m=new Ni,d&&(m.needsUpdate=!0)),m.source=f,m.uuid=u.uuid,u.name!==void 0&&(m.name=u.name),u.mapping!==void 0&&(m.mapping=i(u.mapping,MV)),u.channel!==void 0&&(m.channel=u.channel),u.offset!==void 0&&m.offset.fromArray(u.offset),u.repeat!==void 0&&m.repeat.fromArray(u.repeat),u.center!==void 0&&m.center.fromArray(u.center),u.rotation!==void 0&&(m.rotation=u.rotation),u.wrap!==void 0&&(m.wrapS=i(u.wrap[0],jR),m.wrapT=i(u.wrap[1],jR)),u.format!==void 0&&(m.format=u.format),u.internalFormat!==void 0&&(m.internalFormat=u.internalFormat),u.type!==void 0&&(m.type=u.type),u.colorSpace!==void 0&&(m.colorSpace=u.colorSpace),u.minFilter!==void 0&&(m.minFilter=i(u.minFilter,XR)),u.magFilter!==void 0&&(m.magFilter=i(u.magFilter,XR)),u.anisotropy!==void 0&&(m.anisotropy=u.anisotropy),u.flipY!==void 0&&(m.flipY=u.flipY),u.generateMipmaps!==void 0&&(m.generateMipmaps=u.generateMipmaps),u.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=u.premultiplyAlpha),u.unpackAlignment!==void 0&&(m.unpackAlignment=u.unpackAlignment),u.compareFunction!==void 0&&(m.compareFunction=u.compareFunction),u.userData!==void 0&&(m.userData=u.userData),r[u.uuid]=m}return r}parseObject(e,t,i,r,a){let o;function u(y){return t[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),t[y]}function f(y){if(y!==void 0){if(Array.isArray(y)){const b=[];for(let _=0,A=y.length;_<A;_++){const T=y[_];i[T]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",T),b.push(i[T])}return b}return i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),i[y]}}function d(y){return r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),r[y]}let m,g;switch(e.type){case"Scene":o=new _A,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new xt(e.background):o.background=d(e.background)),e.environment!==void 0&&(o.environment=d(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new J_(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Q_(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new ki(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Yc(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new JP(e.color,e.intensity);break;case"DirectionalLight":o=new QP(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new ZP(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new eL(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new KP(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new YP(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new nL().fromJSON(e);break;case"SkinnedMesh":m=u(e.geometry),g=f(e.material),o=new vP(m,g),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":m=u(e.geometry),g=f(e.material),o=new Qi(m,g);break;case"InstancedMesh":m=u(e.geometry),g=f(e.material);const y=e.count,b=e.instanceMatrix,_=e.instanceColor;o=new yP(m,g,y),o.instanceMatrix=new Kp(new Float32Array(b.array),16),_!==void 0&&(o.instanceColor=new Kp(new Float32Array(_.array),_.itemSize));break;case"BatchedMesh":m=u(e.geometry),g=f(e.material),o=new xP(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),o.geometry=m,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(A=>{let T=null,S=null;return A.boundingBox!==void 0&&(T=new Qr().fromJSON(A.boundingBox)),A.boundingSphere!==void 0&&(S=new Pr().fromJSON(A.boundingSphere)),{...A,boundingBox:T,boundingSphere:S}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=d(e.matricesTexture.uuid),o._indirectTexture=d(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=d(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new Pr().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new Qr().fromJSON(e.boundingBox));break;case"LOD":o=new gP;break;case"Line":o=new ef(u(e.geometry),f(e.material));break;case"LineLoop":o=new bP(u(e.geometry),f(e.material));break;case"LineSegments":o=new Ll(u(e.geometry),f(e.material));break;case"PointCloud":case"Points":o=new _P(u(e.geometry),f(e.material));break;case"Sprite":o=new mP(f(e.material));break;case"Group":o=new Dp;break;case"Bone":o=new EA;break;default:o=new wn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let b=0;b<y.length;b++)o.add(this.parseObject(y[b],t,i,r,a))}if(e.animations!==void 0){const y=e.animations;for(let b=0;b<y.length;b++){const _=y[b];o.animations.push(a[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const y=e.levels;for(let b=0;b<y.length;b++){const _=y[b],A=o.getObjectByProperty("uuid",_.object);A!==void 0&&o.addLevel(A,_.distance,_.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new wn}})}}const MV={UVMapping:H_,CubeReflectionMapping:Ru,CubeRefractionMapping:Qc,EquirectangularReflectionMapping:R0,EquirectangularRefractionMapping:D0,CubeUVReflectionMapping:nm},jR={RepeatWrapping:O0,ClampToEdgeWrapping:ks,MirroredRepeatWrapping:N0},XR={NearestFilter:Nr,NearestMipmapNearestFilter:oA,NearestMipmapLinearFilter:Cp,LinearFilter:ur,LinearMipmapNearestFilter:l0,LinearMipmapLinearFilter:bl},uE=new WeakMap;class TV extends Wa{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=_l.get(`image-bitmap:${e}`);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(d=>{if(uE.has(o)===!0)r&&r(uE.get(o)),a.manager.itemError(e),a.manager.itemEnd(e);else return t&&t(d),a.manager.itemEnd(e),d});return}return setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o}const u={};u.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",u.headers=this.requestHeader;const f=fetch(e,u).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(d){return _l.add(`image-bitmap:${e}`,d),t&&t(d),a.manager.itemEnd(e),d}).catch(function(d){r&&r(d),uE.set(f,d),_l.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});_l.add(`image-bitmap:${e}`,f),a.manager.itemStart(e)}}let Fx;class VA{static getContext(){return Fx===void 0&&(Fx=new(window.AudioContext||window.webkitAudioContext)),Fx}static setContext(e){Fx=e}}class AV extends Wa{constructor(e){super(e)}load(e,t,i,r){const a=this,o=new Ou(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(f){try{const d=f.slice(0);VA.getContext().decodeAudioData(d,function(g){t(g)}).catch(u)}catch(d){u(d)}},i,r);function u(f){r?r(f):console.error(f),a.manager.itemError(e)}}}const WR=new Gt,qR=new Gt,ch=new Gt;class wV{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ki,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ki,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ch.copy(e.projectionMatrix);const r=t.eyeSep/2,a=r*t.near/t.focus,o=t.near*Math.tan(Uh*t.fov*.5)/t.zoom;let u,f;qR.elements[12]=-r,WR.elements[12]=r,u=-o*t.aspect+a,f=o*t.aspect+a,ch.elements[0]=2*t.near/(f-u),ch.elements[8]=(f+u)/(f-u),this.cameraL.projectionMatrix.copy(ch),u=-o*t.aspect-a,f=o*t.aspect-a,ch.elements[0]=2*t.near/(f-u),ch.elements[8]=(f+u)/(f-u),this.cameraR.projectionMatrix.copy(ch)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(qR),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(WR)}}class aL extends ki{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class HA{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const fh=new Q,cE=new Zr,CV=new Q,hh=new Q,dh=new Q;class RV extends wn{constructor(){super(),this.type="AudioListener",this.context=VA.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new HA}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(fh,cE,CV),hh.set(0,0,-1).applyQuaternion(cE),dh.set(0,1,0).applyQuaternion(cE),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(fh.x,i),t.positionY.linearRampToValueAtTime(fh.y,i),t.positionZ.linearRampToValueAtTime(fh.z,i),t.forwardX.linearRampToValueAtTime(hh.x,i),t.forwardY.linearRampToValueAtTime(hh.y,i),t.forwardZ.linearRampToValueAtTime(hh.z,i),t.upX.linearRampToValueAtTime(dh.x,i),t.upY.linearRampToValueAtTime(dh.y,i),t.upZ.linearRampToValueAtTime(dh.z,i)}else t.setPosition(fh.x,fh.y,fh.z),t.setOrientation(hh.x,hh.y,hh.z,dh.x,dh.y,dh.z)}}class sL extends wn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const ph=new Q,YR=new Zr,DV=new Q,mh=new Q;class OV extends sL{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ph,YR,DV),mh.set(0,0,1).applyQuaternion(YR);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ph.x,i),t.positionY.linearRampToValueAtTime(ph.y,i),t.positionZ.linearRampToValueAtTime(ph.z,i),t.orientationX.linearRampToValueAtTime(mh.x,i),t.orientationY.linearRampToValueAtTime(mh.y,i),t.orientationZ.linearRampToValueAtTime(mh.z,i)}else t.setPosition(ph.x,ph.y,ph.z),t.setOrientation(mh.x,mh.y,mh.z)}}class NV{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class oL{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,a,o;switch(t){case"quaternion":r=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,a=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let u=0;u!==r;++u)i[a+u]=i[u];o=t}else{o+=t;const u=t/o;this._mixBufferRegion(i,a,0,u,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,u=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const f=t*this._origIndex;this._mixBufferRegion(i,r,f,1-a,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let f=t,d=t+t;f!==d;++f)if(i[f]!==i[f+t]){u.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let a=i,o=r;a!==o;++a)t[a]=t[r+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,a){if(r>=.5)for(let o=0;o!==a;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){Zr.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,a){const o=this._workIndex*a;Zr.multiplyQuaternionsFlat(e,o,e,t,e,i),Zr.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,a){const o=1-r;for(let u=0;u!==a;++u){const f=t+u;e[f]=e[f]*o+e[i+u]*r}}_lerpAdditive(e,t,i,r,a){for(let o=0;o!==a;++o){const u=t+o;e[u]=e[u]+e[i+o]*r}}}const kA="\\[\\]\\.:\\/",PV=new RegExp("["+kA+"]","g"),GA="[^"+kA+"]",LV="[^"+kA.replace("\\.","")+"]",UV=/((?:WC+[\/:])*)/.source.replace("WC",GA),zV=/(WCOD+)?/.source.replace("WCOD",LV),BV=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",GA),IV=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",GA),FV=new RegExp("^"+UV+zV+BV+IV+"$"),VV=["material","materials","bones","map"];class HV{constructor(e,t,i){const r=i||Tn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Tn{constructor(e,t,i){this.path=t,this.parsedPath=i||Tn.parseTrackName(t),this.node=Tn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Tn.Composite(e,t,i):new Tn(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(PV,"")}static parseTrackName(e){const t=FV.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=i.nodeName.substring(r+1);VV.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(a){for(let o=0;o<a.length;o++){const u=a[o];if(u.name===t||u.uuid===t)return u;const f=i(u.children);if(f)return f}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let a=t.propertyIndex;if(e||(e=Tn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let d=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===d){d=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(d!==void 0){if(e[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const o=e[r];if(o===void 0){const d=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+r+" but it wasn't found.",e);return}let u=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?u=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(u=this.Versioning.MatrixWorldNeedsUpdate);let f=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}f=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(f=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(f=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[f],this.setValue=this.SetterByBindingTypeAndVersioning[f][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Tn.Composite=HV;Tn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Tn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Tn.prototype.GetterByBindingType=[Tn.prototype._getValue_direct,Tn.prototype._getValue_array,Tn.prototype._getValue_arrayElement,Tn.prototype._getValue_toArray];Tn.prototype.SetterByBindingTypeAndVersioning=[[Tn.prototype._setValue_direct,Tn.prototype._setValue_direct_setNeedsUpdate,Tn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_array,Tn.prototype._setValue_array_setNeedsUpdate,Tn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_arrayElement,Tn.prototype._setValue_arrayElement_setNeedsUpdate,Tn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_fromArray,Tn.prototype._setValue_fromArray_setNeedsUpdate,Tn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class kV{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ps(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length;let u,f=e.length,d=this.nCachedObjects_;for(let m=0,g=arguments.length;m!==g;++m){const y=arguments[m],b=y.uuid;let _=t[b];if(_===void 0){_=f++,t[b]=_,e.push(y);for(let A=0,T=o;A!==T;++A)a[A].push(new Tn(y,i[A],r[A]))}else if(_<d){u=e[_];const A=--d,T=e[A];t[T.uuid]=_,e[_]=T,t[b]=A,e[A]=y;for(let S=0,C=o;S!==C;++S){const D=a[S],N=D[A];let z=D[_];D[_]=N,z===void 0&&(z=new Tn(y,i[S],r[S])),D[A]=z}}else e[_]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_;for(let o=0,u=arguments.length;o!==u;++o){const f=arguments[o],d=f.uuid,m=t[d];if(m!==void 0&&m>=a){const g=a++,y=e[g];t[y.uuid]=m,e[m]=y,t[d]=g,e[g]=f;for(let b=0,_=r;b!==_;++b){const A=i[b],T=A[g],S=A[m];A[m]=T,A[g]=S}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_,o=e.length;for(let u=0,f=arguments.length;u!==f;++u){const d=arguments[u],m=d.uuid,g=t[m];if(g!==void 0)if(delete t[m],g<a){const y=--a,b=e[y],_=--o,A=e[_];t[b.uuid]=g,e[g]=b,t[A.uuid]=y,e[y]=A,e.pop();for(let T=0,S=r;T!==S;++T){const C=i[T],D=C[y],N=C[_];C[g]=D,C[y]=N,C.pop()}}else{const y=--o,b=e[y];y>0&&(t[b.uuid]=g),e[g]=b,e.pop();for(let _=0,A=r;_!==A;++_){const T=i[_];T[g]=T[y],T.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const a=this._bindings;if(r!==void 0)return a[r];const o=this._paths,u=this._parsedPaths,f=this._objects,d=f.length,m=this.nCachedObjects_,g=new Array(d);r=a.length,i[e]=r,o.push(e),u.push(t),a.push(g);for(let y=m,b=f.length;y!==b;++y){const _=f[y];g[y]=new Tn(_,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,a=this._parsedPaths,o=this._bindings,u=o.length-1,f=o[u],d=e[u];t[d]=i,o[i]=f,o.pop(),a[i]=a[u],a.pop(),r[i]=r[u],r.pop()}}}class lL{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const a=t.tracks,o=a.length,u=new Array(o),f={endingStart:Ch,endingEnd:Ch};for(let d=0;d!==o;++d){const m=a[d].createInterpolant(null);u[d]=m,m.settings=f}this._interpolantSettings=f,this._interpolants=u,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=qN,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,a=e._clip.duration,o=a/r,u=r/a;e.warp(1,o,t),this.warp(u,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,a=r.time,o=this.timeScale;let u=this._timeScaleInterpolant;u===null&&(u=r._lendControlInterpolant(),this._timeScaleInterpolant=u);const f=u.parameterPositions,d=u.sampleValues;return f[0]=a,f[1]=a+i,d[0]=e/o,d[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const f=(e-a)*i;f<0||i===0?t=0:(this._startTime=null,t=i*f)}t*=this._updateTimeScale(e);const o=this._updateTime(t),u=this._updateWeight(e);if(u>0){const f=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case mA:for(let m=0,g=f.length;m!==g;++m)f[m].evaluate(o),d[m].accumulateAdditive(u);break;case q_:default:for(let m=0,g=f.length;m!==g;++m)f[m].evaluate(o),d[m].accumulate(r,u)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,a=this._loopCount;const o=i===YN;if(e===0)return a===-1?r:o&&(a&1)===1?t-r:r;if(i===WN){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const u=Math.floor(r/t);r-=t*u,a+=Math.abs(u);const f=this.repetitions-a;if(f<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(f===1){const d=e<0;this._setEndings(d,!d,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=r;if(o&&(a&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Rh,r.endingEnd=Rh):(e?r.endingStart=this.zeroSlopeAtStart?Rh:Ch:r.endingStart=L0,t?r.endingEnd=this.zeroSlopeAtEnd?Rh:Ch:r.endingEnd=L0)}_scheduleFading(e,t,i){const r=this._mixer,a=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const u=o.parameterPositions,f=o.sampleValues;return u[0]=a,f[0]=t,u[1]=a+e,f[1]=i,this}}const GV=new Float32Array(1);class $V extends Pl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,a=r.length,o=e._propertyBindings,u=e._interpolants,f=i.uuid,d=this._bindingsByRootAndName;let m=d[f];m===void 0&&(m={},d[f]=m);for(let g=0;g!==a;++g){const y=r[g],b=y.name;let _=m[b];if(_!==void 0)++_.referenceCount,o[g]=_;else{if(_=o[g],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,f,b));continue}const A=t&&t._propertyBindings[g].binding.parsedPath;_=new oL(Tn.create(i,b,A),y.ValueTypeName,y.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,f,b),o[g]=_}u[g].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,a=this._actionsByClip;let o=a[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=o;else{const u=o.knownActions;e._byClipCacheIndex=u.length,u.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,u=o[a],f=u.knownActions,d=f[f.length-1],m=e._byClipCacheIndex;d._byClipCacheIndex=m,f[m]=d,f.pop(),e._byClipCacheIndex=null;const g=u.actionByRoot,y=(e._localRoot||this._root).uuid;delete g[y],f.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,a=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,a=i.path,o=this._bindingsByRootAndName,u=o[r],f=t[t.length-1],d=e._cacheIndex;f._cacheIndex=d,t[d]=f,t.pop(),delete u[a],Object.keys(u).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new zA(new Float32Array(2),new Float32Array(2),1,GV),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=t[r];e.__cacheIndex=r,t[r]=e,a.__cacheIndex=i,t[i]=a}clipAction(e,t,i){const r=t||this._root,a=r.uuid;let o=typeof e=="string"?$0.findByName(r,e):e;const u=o!==null?o.uuid:e,f=this._actionsByClip[u];let d=null;if(i===void 0&&(o!==null?i=o.blendMode:i=q_),f!==void 0){const g=f.actionByRoot[a];if(g!==void 0&&g.blendMode===i)return g;d=f.knownActions[0],o===null&&(o=d._clip)}if(o===null)return null;const m=new lL(this,o,t,i);return this._bindAction(m,d),this._addInactiveAction(m,u,a),m}existingAction(e,t){const i=t||this._root,r=i.uuid,a=typeof e=="string"?$0.findByName(i,e):e,o=a?a.uuid:e,u=this._actionsByClip[o];return u!==void 0&&u.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let d=0;d!==i;++d)t[d]._update(r,e,a,o);const u=this._bindings,f=this._nActiveBindings;for(let d=0;d!==f;++d)u[d].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,a=r[i];if(a!==void 0){const o=a.knownActions;for(let u=0,f=o.length;u!==f;++u){const d=o[u];this._deactivateAction(d);const m=d._cacheIndex,g=t[t.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,g._cacheIndex=m,t[m]=g,t.pop(),this._removeInactiveBindingsForAction(d)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const u=i[o].actionByRoot,f=u[t];f!==void 0&&(this._deactivateAction(f),this._removeInactiveAction(f))}const r=this._bindingsByRootAndName,a=r[t];if(a!==void 0)for(const o in a){const u=a[o];u.restoreOriginalState(),this._removeInactiveBinding(u)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class jV extends yA{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new K_(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class $A{constructor(e){this.value=e}clone(){return new $A(this.value.clone===void 0?this.value:this.value.clone())}}let XV=0;class WV extends Pl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:XV++}),this.name="",this.usage=z0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const a=Array.isArray(t[i])?t[i]:[t[i]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class qV extends eS{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class YV{constructor(e,t,i,r,a,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=a,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const KR=new Gt;class uL{constructor(e,t,i=0,r=1/0){this.ray=new Kh(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new qp,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return KR.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(KR),this}intersectObject(e,t=!0,i=[]){return XM(e,this,i,t),i.sort(ZR),i}intersectObjects(e,t=!0,i=[]){for(let r=0,a=e.length;r<a;r++)XM(e[r],this,i,t);return i.sort(ZR),i}}function ZR(n,e){return n.distance-e.distance}function XM(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const a=n.children;for(let o=0,u=a.length;o<u;o++)XM(a[o],e,t,!0)}}class WM{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Kt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Kt(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class KV{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class jA{constructor(e,t,i,r){jA.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const a=this.elements;return a[0]=e,a[2]=t,a[1]=i,a[3]=r,this}}const QR=new Ie;class ZV{constructor(e=new Ie(1/0,1/0),t=new Ie(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=QR.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,QR).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const JR=new Q,Vx=new Q;class QV{constructor(e=new Q,t=new Q){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){JR.subVectors(e,this.start),Vx.subVectors(this.end,this.start);const i=Vx.dot(Vx);let a=Vx.dot(JR)/i;return t&&(a=Kt(a,0,1)),a}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const e2=new Q;class JV extends wn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new on,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,u=1,f=32;o<f;o++,u++){const d=o/f*Math.PI*2,m=u/f*Math.PI*2;r.push(Math.cos(d),Math.sin(d),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new Et(r,3));const a=new Ta({fog:!1,toneMapped:!1});this.cone=new Ll(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),e2.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e2),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Vc=new Q,Hx=new Gt,fE=new Gt;class eH extends Ll{constructor(e){const t=cL(e),i=new on,r=[],a=[],o=new xt(0,0,1),u=new xt(0,1,0);for(let d=0;d<t.length;d++){const m=t[d];m.parent&&m.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(o.r,o.g,o.b),a.push(u.r,u.g,u.b))}i.setAttribute("position",new Et(r,3)),i.setAttribute("color",new Et(a,3));const f=new Ta({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,f),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");fE.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<t.length;a++){const u=t[a];u.parent&&u.parent.isBone&&(Hx.multiplyMatrices(fE,u.matrixWorld),Vc.setFromMatrixPosition(Hx),r.setXYZ(o,Vc.x,Vc.y,Vc.z),Hx.multiplyMatrices(fE,u.parent.matrixWorld),Vc.setFromMatrixPosition(Hx),r.setXYZ(o+1,Vc.x,Vc.y,Vc.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function cL(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...cL(n.children[t]));return e}class tH extends Qi{constructor(e,t,i){const r=new uv(t,4,2),a=new of({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const nH=new Q,t2=new xt,n2=new xt;class iH extends wn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new lv(t);r.rotateY(Math.PI*.5),this.material=new of({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),o=new Float32Array(a.count*3);r.setAttribute("color",new Kn(o,3)),this.add(new Qi(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");t2.copy(this.light.color),n2.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const a=i<r/2?t2:n2;t.setXYZ(i,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(nH.setFromMatrixPosition(this.light.matrixWorld).negate())}}class rH extends Ll{constructor(e=10,t=10,i=4473924,r=8947848){i=new xt(i),r=new xt(r);const a=t/2,o=e/t,u=e/2,f=[],d=[];for(let y=0,b=0,_=-u;y<=t;y++,_+=o){f.push(-u,0,_,u,0,_),f.push(_,0,-u,_,0,u);const A=y===a?i:r;A.toArray(d,b),b+=3,A.toArray(d,b),b+=3,A.toArray(d,b),b+=3,A.toArray(d,b),b+=3}const m=new on;m.setAttribute("position",new Et(f,3)),m.setAttribute("color",new Et(d,3));const g=new Ta({vertexColors:!0,toneMapped:!1});super(m,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class aH extends Ll{constructor(e=10,t=16,i=8,r=64,a=4473924,o=8947848){a=new xt(a),o=new xt(o);const u=[],f=[];if(t>1)for(let g=0;g<t;g++){const y=g/t*(Math.PI*2),b=Math.sin(y)*e,_=Math.cos(y)*e;u.push(0,0,0),u.push(b,0,_);const A=g&1?a:o;f.push(A.r,A.g,A.b),f.push(A.r,A.g,A.b)}for(let g=0;g<i;g++){const y=g&1?a:o,b=e-e/i*g;for(let _=0;_<r;_++){let A=_/r*(Math.PI*2),T=Math.sin(A)*b,S=Math.cos(A)*b;u.push(T,0,S),f.push(y.r,y.g,y.b),A=(_+1)/r*(Math.PI*2),T=Math.sin(A)*b,S=Math.cos(A)*b,u.push(T,0,S),f.push(y.r,y.g,y.b)}}const d=new on;d.setAttribute("position",new Et(u,3)),d.setAttribute("color",new Et(f,3));const m=new Ta({vertexColors:!0,toneMapped:!1});super(d,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const i2=new Q,kx=new Q,r2=new Q;class sH extends wn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new on;r.setAttribute("position",new Et([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new Ta({fog:!1,toneMapped:!1});this.lightPlane=new ef(r,a),this.add(this.lightPlane),r=new on,r.setAttribute("position",new Et([0,0,0,0,0,1],3)),this.targetLine=new ef(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),i2.setFromMatrixPosition(this.light.matrixWorld),kx.setFromMatrixPosition(this.light.target.matrixWorld),r2.subVectors(kx,i2),this.lightPlane.lookAt(kx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(kx),this.targetLine.scale.z=r2.length()}}const Gx=new Q,Di=new Z_;class oH extends Ll{constructor(e){const t=new on,i=new Ta({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],o={};u("n1","n2"),u("n2","n4"),u("n4","n3"),u("n3","n1"),u("f1","f2"),u("f2","f4"),u("f4","f3"),u("f3","f1"),u("n1","f1"),u("n2","f2"),u("n3","f3"),u("n4","f4"),u("p","n1"),u("p","n2"),u("p","n3"),u("p","n4"),u("u1","u2"),u("u2","u3"),u("u3","u1"),u("c","t"),u("p","c"),u("cn1","cn2"),u("cn3","cn4"),u("cf1","cf2"),u("cf3","cf4");function u(_,A){f(_),f(A)}function f(_){r.push(0,0,0),a.push(0,0,0),o[_]===void 0&&(o[_]=[]),o[_].push(r.length/3-1)}t.setAttribute("position",new Et(r,3)),t.setAttribute("color",new Et(a,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const d=new xt(16755200),m=new xt(16711680),g=new xt(43775),y=new xt(16777215),b=new xt(3355443);this.setColors(d,m,g,y,b)}setColors(e,t,i,r,a){const u=this.geometry.getAttribute("color");u.setXYZ(0,e.r,e.g,e.b),u.setXYZ(1,e.r,e.g,e.b),u.setXYZ(2,e.r,e.g,e.b),u.setXYZ(3,e.r,e.g,e.b),u.setXYZ(4,e.r,e.g,e.b),u.setXYZ(5,e.r,e.g,e.b),u.setXYZ(6,e.r,e.g,e.b),u.setXYZ(7,e.r,e.g,e.b),u.setXYZ(8,e.r,e.g,e.b),u.setXYZ(9,e.r,e.g,e.b),u.setXYZ(10,e.r,e.g,e.b),u.setXYZ(11,e.r,e.g,e.b),u.setXYZ(12,e.r,e.g,e.b),u.setXYZ(13,e.r,e.g,e.b),u.setXYZ(14,e.r,e.g,e.b),u.setXYZ(15,e.r,e.g,e.b),u.setXYZ(16,e.r,e.g,e.b),u.setXYZ(17,e.r,e.g,e.b),u.setXYZ(18,e.r,e.g,e.b),u.setXYZ(19,e.r,e.g,e.b),u.setXYZ(20,e.r,e.g,e.b),u.setXYZ(21,e.r,e.g,e.b),u.setXYZ(22,e.r,e.g,e.b),u.setXYZ(23,e.r,e.g,e.b),u.setXYZ(24,t.r,t.g,t.b),u.setXYZ(25,t.r,t.g,t.b),u.setXYZ(26,t.r,t.g,t.b),u.setXYZ(27,t.r,t.g,t.b),u.setXYZ(28,t.r,t.g,t.b),u.setXYZ(29,t.r,t.g,t.b),u.setXYZ(30,t.r,t.g,t.b),u.setXYZ(31,t.r,t.g,t.b),u.setXYZ(32,i.r,i.g,i.b),u.setXYZ(33,i.r,i.g,i.b),u.setXYZ(34,i.r,i.g,i.b),u.setXYZ(35,i.r,i.g,i.b),u.setXYZ(36,i.r,i.g,i.b),u.setXYZ(37,i.r,i.g,i.b),u.setXYZ(38,r.r,r.g,r.b),u.setXYZ(39,r.r,r.g,r.b),u.setXYZ(40,a.r,a.g,a.b),u.setXYZ(41,a.r,a.g,a.b),u.setXYZ(42,a.r,a.g,a.b),u.setXYZ(43,a.r,a.g,a.b),u.setXYZ(44,a.r,a.g,a.b),u.setXYZ(45,a.r,a.g,a.b),u.setXYZ(46,a.r,a.g,a.b),u.setXYZ(47,a.r,a.g,a.b),u.setXYZ(48,a.r,a.g,a.b),u.setXYZ(49,a.r,a.g,a.b),u.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;Di.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const a=this.camera.coordinateSystem===Gs?-1:0;Vi("c",t,e,Di,0,0,a),Vi("t",t,e,Di,0,0,1),Vi("n1",t,e,Di,-i,-r,a),Vi("n2",t,e,Di,i,-r,a),Vi("n3",t,e,Di,-i,r,a),Vi("n4",t,e,Di,i,r,a),Vi("f1",t,e,Di,-i,-r,1),Vi("f2",t,e,Di,i,-r,1),Vi("f3",t,e,Di,-i,r,1),Vi("f4",t,e,Di,i,r,1),Vi("u1",t,e,Di,i*.7,r*1.1,a),Vi("u2",t,e,Di,-i*.7,r*1.1,a),Vi("u3",t,e,Di,0,r*2,a),Vi("cf1",t,e,Di,-i,0,1),Vi("cf2",t,e,Di,i,0,1),Vi("cf3",t,e,Di,0,-r,1),Vi("cf4",t,e,Di,0,r,1),Vi("cn1",t,e,Di,-i,0,a),Vi("cn2",t,e,Di,i,0,a),Vi("cn3",t,e,Di,0,-r,a),Vi("cn4",t,e,Di,0,r,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Vi(n,e,t,i,r,a,o){Gx.set(r,a,o).unproject(i);const u=e[n];if(u!==void 0){const f=t.getAttribute("position");for(let d=0,m=u.length;d<m;d++)f.setXYZ(u[d],Gx.x,Gx.y,Gx.z)}}const $x=new Qr;class lH extends Ll{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),a=new on;a.setIndex(new Kn(i,1)),a.setAttribute("position",new Kn(r,3)),super(a,new Ta({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&$x.setFromObject(this.object),$x.isEmpty())return;const e=$x.min,t=$x.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class uH extends Ll{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new on;a.setIndex(new Kn(i,1)),a.setAttribute("position",new Et(r,3)),super(a,new Ta({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class cH extends ef{constructor(e,t=1,i=16776960){const r=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new on;o.setAttribute("position",new Et(a,3)),o.computeBoundingSphere(),super(o,new Ta({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const u=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],f=new on;f.setAttribute("position",new Et(u,3)),f.computeBoundingSphere(),this.add(new Qi(f,new of({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const a2=new Q;let jx,hE;class fH extends wn{constructor(e=new Q(0,0,1),t=new Q(0,0,0),i=1,r=16776960,a=i*.2,o=a*.2){super(),this.type="ArrowHelper",jx===void 0&&(jx=new on,jx.setAttribute("position",new Et([0,0,0,0,1,0],3)),hE=new ov(.5,1,5,1),hE.translate(0,-.5,0)),this.position.copy(t),this.line=new ef(jx,new Ta({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Qi(hE,new of({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{a2.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(a2,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class hH extends Ll{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new on;r.setAttribute("position",new Et(t,3)),r.setAttribute("color",new Et(i,3));const a=new Ta({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,t,i){const r=new xt,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(t),r.toArray(a,6),r.toArray(a,9),r.set(i),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class dH{constructor(){this.type="ShapePath",this.color=new xt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new u_,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,a,o){return this.currentPath.bezierCurveTo(e,t,i,r,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(S){const C=[];for(let D=0,N=S.length;D<N;D++){const z=S[D],U=new zh;U.curves=z.curves,C.push(U)}return C}function i(S,C){const D=C.length;let N=!1;for(let z=D-1,U=0;U<D;z=U++){let I=C[z],V=C[U],B=V.x-I.x,L=V.y-I.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(I=C[U],B=-B,V=C[z],L=-L),S.y<I.y||S.y>V.y)continue;if(S.y===I.y){if(S.x===I.x)return!0}else{const W=L*(S.x-I.x)-B*(S.y-I.y);if(W===0)return!0;if(W<0)continue;N=!N}}else{if(S.y!==I.y)continue;if(V.x<=S.x&&S.x<=I.x||I.x<=S.x&&S.x<=V.x)return!0}}return N}const r=Co.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,u,f;const d=[];if(a.length===1)return u=a[0],f=new zh,f.curves=u.curves,d.push(f),d;let m=!r(a[0].getPoints());m=e?!m:m;const g=[],y=[];let b=[],_=0,A;y[_]=void 0,b[_]=[];for(let S=0,C=a.length;S<C;S++)u=a[S],A=u.getPoints(),o=r(A),o=e?!o:o,o?(!m&&y[_]&&_++,y[_]={s:new zh,p:A},y[_].s.curves=u.curves,m&&_++,b[_]=[]):b[_].push({h:u,p:A[0]});if(!y[0])return t(a);if(y.length>1){let S=!1,C=0;for(let D=0,N=y.length;D<N;D++)g[D]=[];for(let D=0,N=y.length;D<N;D++){const z=b[D];for(let U=0;U<z.length;U++){const I=z[U];let V=!0;for(let B=0;B<y.length;B++)i(I.p,y[B].p)&&(D!==B&&C++,V?(V=!1,g[B].push(I)):S=!0);V&&g[D].push(I)}}C>0&&S===!1&&(b=g)}let T;for(let S=0,C=y.length;S<C;S++){f=y[S].s,d.push(f),T=b[S];for(let D=0,N=T.length;D<N;D++)f.holes.push(T[D].h)}return d}}class pH extends Pl{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function mH(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function gH(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function vH(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function qM(n,e,t,i){const r=yH(i);switch(t){case fA:return n*e;case j_:return n*e/r.components*r.byteLength;case rv:return n*e/r.components*r.byteLength;case dA:return n*e*2/r.components*r.byteLength;case X_:return n*e*2/r.components*r.byteLength;case hA:return n*e*3/r.components*r.byteLength;case qr:return n*e*4/r.components*r.byteLength;case W_:return n*e*4/r.components*r.byteLength;case u0:case c0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case f0:case h0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Lb:case zb:return Math.max(n,16)*Math.max(e,8)/4;case Pb:case Ub:return Math.max(n,8)*Math.max(e,8)/2;case Bb:case Ib:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Fb:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Vb:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Hb:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case kb:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case Gb:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case $b:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case jb:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case Xb:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case Wb:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case qb:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case Yb:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case Kb:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case Zb:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case Qb:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case Jb:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case d0:case e_:case t_:return Math.ceil(n/4)*Math.ceil(e/4)*16;case pA:case n_:return Math.ceil(n/4)*Math.ceil(e/4)*8;case i_:case r_:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function yH(n){switch(n){case Xs:case lA:return{byteLength:1,components:1};case Gp:case uA:case im:return{byteLength:2,components:1};case G_:case $_:return{byteLength:2,components:4};case Du:case k_:case $a:return{byteLength:4,components:1};case cA:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class xH{static contain(e,t){return mH(e,t)}static cover(e,t){return gH(e,t)}static fill(e){return vH(e)}static getByteLength(e,t,i,r){return qM(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:F_}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=F_);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function fL(){let n=null,e=!1,t=null,i=null;function r(a,o){t(a,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function bH(n){const e=new WeakMap;function t(u,f){const d=u.array,m=u.usage,g=d.byteLength,y=n.createBuffer();n.bindBuffer(f,y),n.bufferData(f,d,m),u.onUploadCallback();let b;if(d instanceof Float32Array)b=n.FLOAT;else if(typeof Float16Array<"u"&&d instanceof Float16Array)b=n.HALF_FLOAT;else if(d instanceof Uint16Array)u.isFloat16BufferAttribute?b=n.HALF_FLOAT:b=n.UNSIGNED_SHORT;else if(d instanceof Int16Array)b=n.SHORT;else if(d instanceof Uint32Array)b=n.UNSIGNED_INT;else if(d instanceof Int32Array)b=n.INT;else if(d instanceof Int8Array)b=n.BYTE;else if(d instanceof Uint8Array)b=n.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)b=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:y,type:b,bytesPerElement:d.BYTES_PER_ELEMENT,version:u.version,size:g}}function i(u,f,d){const m=f.array,g=f.updateRanges;if(n.bindBuffer(d,u),g.length===0)n.bufferSubData(d,0,m);else{g.sort((b,_)=>b.start-_.start);let y=0;for(let b=1;b<g.length;b++){const _=g[y],A=g[b];A.start<=_.start+_.count+1?_.count=Math.max(_.count,A.start+A.count-_.start):(++y,g[y]=A)}g.length=y+1;for(let b=0,_=g.length;b<_;b++){const A=g[b];n.bufferSubData(d,A.start*m.BYTES_PER_ELEMENT,m,A.start,A.count)}f.clearUpdateRanges()}f.onUploadCallback()}function r(u){return u.isInterleavedBufferAttribute&&(u=u.data),e.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const f=e.get(u);f&&(n.deleteBuffer(f.buffer),e.delete(u))}function o(u,f){if(u.isInterleavedBufferAttribute&&(u=u.data),u.isGLBufferAttribute){const m=e.get(u);(!m||m.version<u.version)&&e.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}const d=e.get(u);if(d===void 0)e.set(u,t(u,f));else if(d.version<u.version){if(d.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(d.buffer,u,f),d.version=u.version}}return{get:r,remove:a,update:o}}var _H=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,SH=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,EH=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,MH=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,TH=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,AH=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,wH=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,CH=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,RH=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,DH=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,OH=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,NH=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,PH=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,LH=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,UH=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,zH=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,BH=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,IH=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,FH=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,VH=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,HH=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,kH=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,GH=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,$H=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,jH=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,XH=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,WH=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,qH=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,YH=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,KH=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,ZH="gl_FragColor = linearToOutputTexel( gl_FragColor );",QH=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,JH=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,e6=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,t6=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,n6=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,i6=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,r6=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,a6=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,s6=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,o6=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,l6=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,u6=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,c6=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,f6=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,h6=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,d6=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,p6=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,m6=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,g6=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,v6=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,y6=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,x6=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,b6=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,_6=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,S6=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,E6=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,M6=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,T6=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,A6=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,w6=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,C6=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,R6=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,D6=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,O6=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,N6=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,P6=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,L6=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,U6=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,z6=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,B6=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,I6=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,F6=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,V6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,H6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,k6=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,G6=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,$6=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,j6=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,X6=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,W6=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,q6=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Y6=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,K6=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Z6=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Q6=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,J6=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,e8=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,t8=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,n8=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,i8=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,r8=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,a8=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,s8=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,o8=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,l8=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,u8=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,c8=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,f8=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,h8=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,d8=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,p8=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,m8=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,g8=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,v8=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,y8=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,x8=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const b8=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,_8=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,S8=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,E8=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,M8=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,T8=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,A8=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,w8=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,C8=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,R8=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,D8=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,O8=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,N8=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,P8=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,L8=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,U8=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,z8=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,B8=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,I8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,F8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,V8=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,H8=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,k8=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,G8=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$8=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,j8=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,X8=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,W8=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,q8=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Y8=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,K8=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Z8=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Q8=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,J8=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,cn={alphahash_fragment:_H,alphahash_pars_fragment:SH,alphamap_fragment:EH,alphamap_pars_fragment:MH,alphatest_fragment:TH,alphatest_pars_fragment:AH,aomap_fragment:wH,aomap_pars_fragment:CH,batching_pars_vertex:RH,batching_vertex:DH,begin_vertex:OH,beginnormal_vertex:NH,bsdfs:PH,iridescence_fragment:LH,bumpmap_pars_fragment:UH,clipping_planes_fragment:zH,clipping_planes_pars_fragment:BH,clipping_planes_pars_vertex:IH,clipping_planes_vertex:FH,color_fragment:VH,color_pars_fragment:HH,color_pars_vertex:kH,color_vertex:GH,common:$H,cube_uv_reflection_fragment:jH,defaultnormal_vertex:XH,displacementmap_pars_vertex:WH,displacementmap_vertex:qH,emissivemap_fragment:YH,emissivemap_pars_fragment:KH,colorspace_fragment:ZH,colorspace_pars_fragment:QH,envmap_fragment:JH,envmap_common_pars_fragment:e6,envmap_pars_fragment:t6,envmap_pars_vertex:n6,envmap_physical_pars_fragment:d6,envmap_vertex:i6,fog_vertex:r6,fog_pars_vertex:a6,fog_fragment:s6,fog_pars_fragment:o6,gradientmap_pars_fragment:l6,lightmap_pars_fragment:u6,lights_lambert_fragment:c6,lights_lambert_pars_fragment:f6,lights_pars_begin:h6,lights_toon_fragment:p6,lights_toon_pars_fragment:m6,lights_phong_fragment:g6,lights_phong_pars_fragment:v6,lights_physical_fragment:y6,lights_physical_pars_fragment:x6,lights_fragment_begin:b6,lights_fragment_maps:_6,lights_fragment_end:S6,logdepthbuf_fragment:E6,logdepthbuf_pars_fragment:M6,logdepthbuf_pars_vertex:T6,logdepthbuf_vertex:A6,map_fragment:w6,map_pars_fragment:C6,map_particle_fragment:R6,map_particle_pars_fragment:D6,metalnessmap_fragment:O6,metalnessmap_pars_fragment:N6,morphinstance_vertex:P6,morphcolor_vertex:L6,morphnormal_vertex:U6,morphtarget_pars_vertex:z6,morphtarget_vertex:B6,normal_fragment_begin:I6,normal_fragment_maps:F6,normal_pars_fragment:V6,normal_pars_vertex:H6,normal_vertex:k6,normalmap_pars_fragment:G6,clearcoat_normal_fragment_begin:$6,clearcoat_normal_fragment_maps:j6,clearcoat_pars_fragment:X6,iridescence_pars_fragment:W6,opaque_fragment:q6,packing:Y6,premultiplied_alpha_fragment:K6,project_vertex:Z6,dithering_fragment:Q6,dithering_pars_fragment:J6,roughnessmap_fragment:e8,roughnessmap_pars_fragment:t8,shadowmap_pars_fragment:n8,shadowmap_pars_vertex:i8,shadowmap_vertex:r8,shadowmask_pars_fragment:a8,skinbase_vertex:s8,skinning_pars_vertex:o8,skinning_vertex:l8,skinnormal_vertex:u8,specularmap_fragment:c8,specularmap_pars_fragment:f8,tonemapping_fragment:h8,tonemapping_pars_fragment:d8,transmission_fragment:p8,transmission_pars_fragment:m8,uv_pars_fragment:g8,uv_pars_vertex:v8,uv_vertex:y8,worldpos_vertex:x8,background_vert:b8,background_frag:_8,backgroundCube_vert:S8,backgroundCube_frag:E8,cube_vert:M8,cube_frag:T8,depth_vert:A8,depth_frag:w8,distanceRGBA_vert:C8,distanceRGBA_frag:R8,equirect_vert:D8,equirect_frag:O8,linedashed_vert:N8,linedashed_frag:P8,meshbasic_vert:L8,meshbasic_frag:U8,meshlambert_vert:z8,meshlambert_frag:B8,meshmatcap_vert:I8,meshmatcap_frag:F8,meshnormal_vert:V8,meshnormal_frag:H8,meshphong_vert:k8,meshphong_frag:G8,meshphysical_vert:$8,meshphysical_frag:j8,meshtoon_vert:X8,meshtoon_frag:W8,points_vert:q8,points_frag:Y8,shadow_vert:K8,shadow_frag:Z8,sprite_vert:Q8,sprite_frag:J8},ft={common:{diffuse:{value:new xt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new tn},alphaMap:{value:null},alphaMapTransform:{value:new tn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new tn}},envmap:{envMap:{value:null},envMapRotation:{value:new tn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new tn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new tn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new tn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new tn},normalScale:{value:new Ie(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new tn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new tn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new tn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new tn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new xt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new xt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new tn},alphaTest:{value:0},uvTransform:{value:new tn}},sprite:{diffuse:{value:new xt(16777215)},opacity:{value:1},center:{value:new Ie(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new tn},alphaMap:{value:null},alphaMapTransform:{value:new tn},alphaTest:{value:0}}},wo={basic:{uniforms:xa([ft.common,ft.specularmap,ft.envmap,ft.aomap,ft.lightmap,ft.fog]),vertexShader:cn.meshbasic_vert,fragmentShader:cn.meshbasic_frag},lambert:{uniforms:xa([ft.common,ft.specularmap,ft.envmap,ft.aomap,ft.lightmap,ft.emissivemap,ft.bumpmap,ft.normalmap,ft.displacementmap,ft.fog,ft.lights,{emissive:{value:new xt(0)}}]),vertexShader:cn.meshlambert_vert,fragmentShader:cn.meshlambert_frag},phong:{uniforms:xa([ft.common,ft.specularmap,ft.envmap,ft.aomap,ft.lightmap,ft.emissivemap,ft.bumpmap,ft.normalmap,ft.displacementmap,ft.fog,ft.lights,{emissive:{value:new xt(0)},specular:{value:new xt(1118481)},shininess:{value:30}}]),vertexShader:cn.meshphong_vert,fragmentShader:cn.meshphong_frag},standard:{uniforms:xa([ft.common,ft.envmap,ft.aomap,ft.lightmap,ft.emissivemap,ft.bumpmap,ft.normalmap,ft.displacementmap,ft.roughnessmap,ft.metalnessmap,ft.fog,ft.lights,{emissive:{value:new xt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:cn.meshphysical_vert,fragmentShader:cn.meshphysical_frag},toon:{uniforms:xa([ft.common,ft.aomap,ft.lightmap,ft.emissivemap,ft.bumpmap,ft.normalmap,ft.displacementmap,ft.gradientmap,ft.fog,ft.lights,{emissive:{value:new xt(0)}}]),vertexShader:cn.meshtoon_vert,fragmentShader:cn.meshtoon_frag},matcap:{uniforms:xa([ft.common,ft.bumpmap,ft.normalmap,ft.displacementmap,ft.fog,{matcap:{value:null}}]),vertexShader:cn.meshmatcap_vert,fragmentShader:cn.meshmatcap_frag},points:{uniforms:xa([ft.points,ft.fog]),vertexShader:cn.points_vert,fragmentShader:cn.points_frag},dashed:{uniforms:xa([ft.common,ft.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:cn.linedashed_vert,fragmentShader:cn.linedashed_frag},depth:{uniforms:xa([ft.common,ft.displacementmap]),vertexShader:cn.depth_vert,fragmentShader:cn.depth_frag},normal:{uniforms:xa([ft.common,ft.bumpmap,ft.normalmap,ft.displacementmap,{opacity:{value:1}}]),vertexShader:cn.meshnormal_vert,fragmentShader:cn.meshnormal_frag},sprite:{uniforms:xa([ft.sprite,ft.fog]),vertexShader:cn.sprite_vert,fragmentShader:cn.sprite_frag},background:{uniforms:{uvTransform:{value:new tn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:cn.background_vert,fragmentShader:cn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new tn}},vertexShader:cn.backgroundCube_vert,fragmentShader:cn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:cn.cube_vert,fragmentShader:cn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:cn.equirect_vert,fragmentShader:cn.equirect_frag},distanceRGBA:{uniforms:xa([ft.common,ft.displacementmap,{referencePosition:{value:new Q},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:cn.distanceRGBA_vert,fragmentShader:cn.distanceRGBA_frag},shadow:{uniforms:xa([ft.lights,ft.fog,{color:{value:new xt(0)},opacity:{value:1}}]),vertexShader:cn.shadow_vert,fragmentShader:cn.shadow_frag}};wo.physical={uniforms:xa([wo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new tn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new tn},clearcoatNormalScale:{value:new Ie(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new tn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new tn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new tn},sheen:{value:0},sheenColor:{value:new xt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new tn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new tn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new tn},transmissionSamplerSize:{value:new Ie},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new tn},attenuationDistance:{value:0},attenuationColor:{value:new xt(0)},specularColor:{value:new xt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new tn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new tn},anisotropyVector:{value:new Ie},anisotropyMap:{value:null},anisotropyMapTransform:{value:new tn}}]),vertexShader:cn.meshphysical_vert,fragmentShader:cn.meshphysical_frag};const Xx={r:0,b:0,g:0},gh=new ms,ek=new Gt;function tk(n,e,t,i,r,a,o){const u=new xt(0);let f=a===!0?0:1,d,m,g=null,y=0,b=null;function _(D){let N=D.isScene===!0?D.background:null;return N&&N.isTexture&&(N=(D.backgroundBlurriness>0?t:e).get(N)),N}function A(D){let N=!1;const z=_(D);z===null?S(u,f):z&&z.isColor&&(S(z,1),N=!0);const U=n.xr.getEnvironmentBlendMode();U==="additive"?i.buffers.color.setClear(0,0,0,1,o):U==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||N)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function T(D,N){const z=_(N);z&&(z.isCubeTexture||z.mapping===nm)?(m===void 0&&(m=new Qi(new Zh(1,1,1),new Do({name:"BackgroundCubeMaterial",uniforms:Yp(wo.backgroundCube.uniforms),vertexShader:wo.backgroundCube.vertexShader,fragmentShader:wo.backgroundCube.fragmentShader,side:Ma,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(U,I,V){this.matrixWorld.copyPosition(V.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(m)),gh.copy(N.backgroundRotation),gh.x*=-1,gh.y*=-1,gh.z*=-1,z.isCubeTexture&&z.isRenderTargetTexture===!1&&(gh.y*=-1,gh.z*=-1),m.material.uniforms.envMap.value=z,m.material.uniforms.flipEnvMap.value=z.isCubeTexture&&z.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=N.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=N.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(ek.makeRotationFromEuler(gh)),m.material.toneMapped=bn.getTransfer(z.colorSpace)!==kn,(g!==z||y!==z.version||b!==n.toneMapping)&&(m.material.needsUpdate=!0,g=z,y=z.version,b=n.toneMapping),m.layers.enableAll(),D.unshift(m,m.geometry,m.material,0,0,null)):z&&z.isTexture&&(d===void 0&&(d=new Qi(new am(2,2),new Do({name:"BackgroundMaterial",uniforms:Yp(wo.background.uniforms),vertexShader:wo.background.vertexShader,fragmentShader:wo.background.fragmentShader,side:Cu,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(d)),d.material.uniforms.t2D.value=z,d.material.uniforms.backgroundIntensity.value=N.backgroundIntensity,d.material.toneMapped=bn.getTransfer(z.colorSpace)!==kn,z.matrixAutoUpdate===!0&&z.updateMatrix(),d.material.uniforms.uvTransform.value.copy(z.matrix),(g!==z||y!==z.version||b!==n.toneMapping)&&(d.material.needsUpdate=!0,g=z,y=z.version,b=n.toneMapping),d.layers.enableAll(),D.unshift(d,d.geometry,d.material,0,0,null))}function S(D,N){D.getRGB(Xx,cP(n)),i.buffers.color.setClear(Xx.r,Xx.g,Xx.b,N,o)}function C(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0)}return{getClearColor:function(){return u},setClearColor:function(D,N=1){u.set(D),f=N,S(u,f)},getClearAlpha:function(){return f},setClearAlpha:function(D){f=D,S(u,f)},render:A,addToRenderList:T,dispose:C}}function nk(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=y(null);let a=r,o=!1;function u(L,W,oe,ee,he){let de=!1;const k=g(ee,oe,W);a!==k&&(a=k,d(a.object)),de=b(L,ee,oe,he),de&&_(L,ee,oe,he),he!==null&&e.update(he,n.ELEMENT_ARRAY_BUFFER),(de||o)&&(o=!1,N(L,W,oe,ee),he!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(he).buffer))}function f(){return n.createVertexArray()}function d(L){return n.bindVertexArray(L)}function m(L){return n.deleteVertexArray(L)}function g(L,W,oe){const ee=oe.wireframe===!0;let he=i[L.id];he===void 0&&(he={},i[L.id]=he);let de=he[W.id];de===void 0&&(de={},he[W.id]=de);let k=de[ee];return k===void 0&&(k=y(f()),de[ee]=k),k}function y(L){const W=[],oe=[],ee=[];for(let he=0;he<t;he++)W[he]=0,oe[he]=0,ee[he]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:W,enabledAttributes:oe,attributeDivisors:ee,object:L,attributes:{},index:null}}function b(L,W,oe,ee){const he=a.attributes,de=W.attributes;let k=0;const Y=oe.getAttributes();for(const K in Y)if(Y[K].location>=0){const G=he[K];let te=de[K];if(te===void 0&&(K==="instanceMatrix"&&L.instanceMatrix&&(te=L.instanceMatrix),K==="instanceColor"&&L.instanceColor&&(te=L.instanceColor)),G===void 0||G.attribute!==te||te&&G.data!==te.data)return!0;k++}return a.attributesNum!==k||a.index!==ee}function _(L,W,oe,ee){const he={},de=W.attributes;let k=0;const Y=oe.getAttributes();for(const K in Y)if(Y[K].location>=0){let G=de[K];G===void 0&&(K==="instanceMatrix"&&L.instanceMatrix&&(G=L.instanceMatrix),K==="instanceColor"&&L.instanceColor&&(G=L.instanceColor));const te={};te.attribute=G,G&&G.data&&(te.data=G.data),he[K]=te,k++}a.attributes=he,a.attributesNum=k,a.index=ee}function A(){const L=a.newAttributes;for(let W=0,oe=L.length;W<oe;W++)L[W]=0}function T(L){S(L,0)}function S(L,W){const oe=a.newAttributes,ee=a.enabledAttributes,he=a.attributeDivisors;oe[L]=1,ee[L]===0&&(n.enableVertexAttribArray(L),ee[L]=1),he[L]!==W&&(n.vertexAttribDivisor(L,W),he[L]=W)}function C(){const L=a.newAttributes,W=a.enabledAttributes;for(let oe=0,ee=W.length;oe<ee;oe++)W[oe]!==L[oe]&&(n.disableVertexAttribArray(oe),W[oe]=0)}function D(L,W,oe,ee,he,de,k){k===!0?n.vertexAttribIPointer(L,W,oe,he,de):n.vertexAttribPointer(L,W,oe,ee,he,de)}function N(L,W,oe,ee){A();const he=ee.attributes,de=oe.getAttributes(),k=W.defaultAttributeValues;for(const Y in de){const K=de[Y];if(K.location>=0){let ue=he[Y];if(ue===void 0&&(Y==="instanceMatrix"&&L.instanceMatrix&&(ue=L.instanceMatrix),Y==="instanceColor"&&L.instanceColor&&(ue=L.instanceColor)),ue!==void 0){const G=ue.normalized,te=ue.itemSize,Se=e.get(ue);if(Se===void 0)continue;const ye=Se.buffer,se=Se.type,we=Se.bytesPerElement,Be=se===n.INT||se===n.UNSIGNED_INT||ue.gpuType===k_;if(ue.isInterleavedBufferAttribute){const je=ue.data,Xe=je.stride,gt=ue.offset;if(je.isInstancedInterleavedBuffer){for(let bt=0;bt<K.locationSize;bt++)S(K.location+bt,je.meshPerAttribute);L.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=je.meshPerAttribute*je.count)}else for(let bt=0;bt<K.locationSize;bt++)T(K.location+bt);n.bindBuffer(n.ARRAY_BUFFER,ye);for(let bt=0;bt<K.locationSize;bt++)D(K.location+bt,te/K.locationSize,se,G,Xe*we,(gt+te/K.locationSize*bt)*we,Be)}else{if(ue.isInstancedBufferAttribute){for(let je=0;je<K.locationSize;je++)S(K.location+je,ue.meshPerAttribute);L.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=ue.meshPerAttribute*ue.count)}else for(let je=0;je<K.locationSize;je++)T(K.location+je);n.bindBuffer(n.ARRAY_BUFFER,ye);for(let je=0;je<K.locationSize;je++)D(K.location+je,te/K.locationSize,se,G,te*we,te/K.locationSize*je*we,Be)}}else if(k!==void 0){const G=k[Y];if(G!==void 0)switch(G.length){case 2:n.vertexAttrib2fv(K.location,G);break;case 3:n.vertexAttrib3fv(K.location,G);break;case 4:n.vertexAttrib4fv(K.location,G);break;default:n.vertexAttrib1fv(K.location,G)}}}}C()}function z(){V();for(const L in i){const W=i[L];for(const oe in W){const ee=W[oe];for(const he in ee)m(ee[he].object),delete ee[he];delete W[oe]}delete i[L]}}function U(L){if(i[L.id]===void 0)return;const W=i[L.id];for(const oe in W){const ee=W[oe];for(const he in ee)m(ee[he].object),delete ee[he];delete W[oe]}delete i[L.id]}function I(L){for(const W in i){const oe=i[W];if(oe[L.id]===void 0)continue;const ee=oe[L.id];for(const he in ee)m(ee[he].object),delete ee[he];delete oe[L.id]}}function V(){B(),o=!0,a!==r&&(a=r,d(a.object))}function B(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:u,reset:V,resetDefaultState:B,dispose:z,releaseStatesOfGeometry:U,releaseStatesOfProgram:I,initAttributes:A,enableAttribute:T,disableUnusedAttributes:C}}function ik(n,e,t){let i;function r(d){i=d}function a(d,m){n.drawArrays(i,d,m),t.update(m,i,1)}function o(d,m,g){g!==0&&(n.drawArraysInstanced(i,d,m,g),t.update(m,i,g))}function u(d,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,d,0,m,0,g);let b=0;for(let _=0;_<g;_++)b+=m[_];t.update(b,i,1)}function f(d,m,g,y){if(g===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let _=0;_<d.length;_++)o(d[_],m[_],y[_]);else{b.multiDrawArraysInstancedWEBGL(i,d,0,m,0,y,0,g);let _=0;for(let A=0;A<g;A++)_+=m[A]*y[A];t.update(_,i,1)}}this.setMode=r,this.render=a,this.renderInstances=o,this.renderMultiDraw=u,this.renderMultiDrawInstances=f}function rk(n,e,t,i){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(I){return!(I!==qr&&i.convert(I)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function u(I){const V=I===im&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(I!==Xs&&i.convert(I)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&I!==$a&&!V)}function f(I){if(I==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let d=t.precision!==void 0?t.precision:"highp";const m=f(d);m!==d&&(console.warn("THREE.WebGLRenderer:",d,"not supported, using",m,"instead."),d=m);const g=t.logarithmicDepthBuffer===!0,y=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),b=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),_=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),A=n.getParameter(n.MAX_TEXTURE_SIZE),T=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),S=n.getParameter(n.MAX_VERTEX_ATTRIBS),C=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),D=n.getParameter(n.MAX_VARYING_VECTORS),N=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),z=_>0,U=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:f,textureFormatReadable:o,textureTypeReadable:u,precision:d,logarithmicDepthBuffer:g,reverseDepthBuffer:y,maxTextures:b,maxVertexTextures:_,maxTextureSize:A,maxCubemapSize:T,maxAttributes:S,maxVertexUniforms:C,maxVaryings:D,maxFragmentUniforms:N,vertexTextures:z,maxSamples:U}}function ak(n){const e=this;let t=null,i=0,r=!1,a=!1;const o=new mu,u=new tn,f={value:null,needsUpdate:!1};this.uniform=f,this.numPlanes=0,this.numIntersection=0,this.init=function(g,y){const b=g.length!==0||y||i!==0||r;return r=y,i=g.length,b},this.beginShadows=function(){a=!0,m(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(g,y){t=m(g,y,0)},this.setState=function(g,y,b){const _=g.clippingPlanes,A=g.clipIntersection,T=g.clipShadows,S=n.get(g);if(!r||_===null||_.length===0||a&&!T)a?m(null):d();else{const C=a?0:i,D=C*4;let N=S.clippingState||null;f.value=N,N=m(_,y,D,b);for(let z=0;z!==D;++z)N[z]=t[z];S.clippingState=N,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=C}};function d(){f.value!==t&&(f.value=t,f.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function m(g,y,b,_){const A=g!==null?g.length:0;let T=null;if(A!==0){if(T=f.value,_!==!0||T===null){const S=b+A*4,C=y.matrixWorldInverse;u.getNormalMatrix(C),(T===null||T.length<S)&&(T=new Float32Array(S));for(let D=0,N=b;D!==A;++D,N+=4)o.copy(g[D]).applyMatrix4(C,u),o.normal.toArray(T,N),T[N+3]=o.constant}f.value=T,f.needsUpdate=!0}return e.numPlanes=A,e.numIntersection=0,T}}function sk(n){let e=new WeakMap;function t(o,u){return u===R0?o.mapping=Ru:u===D0&&(o.mapping=Qc),o}function i(o){if(o&&o.isTexture){const u=o.mapping;if(u===R0||u===D0)if(e.has(o)){const f=e.get(o).texture;return t(f,o.mapping)}else{const f=o.image;if(f&&f.height>0){const d=new dP(f.height);return d.fromEquirectangularTexture(n,o),e.set(o,d),o.addEventListener("dispose",r),t(d.texture,o.mapping)}else return null}}return o}function r(o){const u=o.target;u.removeEventListener("dispose",r);const f=e.get(u);f!==void 0&&(e.delete(u),f.dispose())}function a(){e=new WeakMap}return{get:i,dispose:a}}const Op=4,s2=[.125,.215,.35,.446,.526,.582],Ah=20,dE=new Yc,o2=new xt;let pE=null,mE=0,gE=0,vE=!1;const Sh=(1+Math.sqrt(5))/2,_p=1/Sh,l2=[new Q(-Sh,_p,0),new Q(Sh,_p,0),new Q(-_p,0,Sh),new Q(_p,0,Sh),new Q(0,Sh,-_p),new Q(0,Sh,_p),new Q(-1,1,-1),new Q(1,1,-1),new Q(-1,1,1),new Q(1,1,1)],ok=new Q;class YM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100,a={}){const{size:o=256,position:u=ok}=a;pE=this._renderer.getRenderTarget(),mE=this._renderer.getActiveCubeFace(),gE=this._renderer.getActiveMipmapLevel(),vE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const f=this._allocateTargets();return f.depthBuffer=!0,this._sceneToCubeUV(e,i,r,f,u),t>0&&this._blur(f,0,0,t),this._applyPMREM(f),this._cleanup(f),f}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=f2(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=c2(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(pE,mE,gE),this._renderer.xr.enabled=vE,e.scissorTest=!1,Wx(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Ru||e.mapping===Qc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),pE=this._renderer.getRenderTarget(),mE=this._renderer.getActiveCubeFace(),gE=this._renderer.getActiveMipmapLevel(),vE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:ur,minFilter:ur,generateMipmaps:!1,type:im,format:qr,colorSpace:Jc,depthBuffer:!1},r=u2(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=u2(e,t,i);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=lk(a)),this._blurMaterial=uk(a,e,t)}return r}_compileMaterial(e){const t=new Qi(this._lodPlanes[0],e);this._renderer.compile(t,dE)}_sceneToCubeUV(e,t,i,r,a){const f=new ki(90,1,t,i),d=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],g=this._renderer,y=g.autoClear,b=g.toneMapping;g.getClearColor(o2),g.toneMapping=Sl,g.autoClear=!1;const _=new of({name:"PMREM.Background",side:Ma,depthWrite:!1,depthTest:!1}),A=new Qi(new Zh,_);let T=!1;const S=e.background;S?S.isColor&&(_.color.copy(S),e.background=null,T=!0):(_.color.copy(o2),T=!0);for(let C=0;C<6;C++){const D=C%3;D===0?(f.up.set(0,d[C],0),f.position.set(a.x,a.y,a.z),f.lookAt(a.x+m[C],a.y,a.z)):D===1?(f.up.set(0,0,d[C]),f.position.set(a.x,a.y,a.z),f.lookAt(a.x,a.y+m[C],a.z)):(f.up.set(0,d[C],0),f.position.set(a.x,a.y,a.z),f.lookAt(a.x,a.y,a.z+m[C]));const N=this._cubeSize;Wx(r,D*N,C>2?N:0,N,N),g.setRenderTarget(r),T&&g.render(A,f),g.render(e,f)}A.geometry.dispose(),A.material.dispose(),g.toneMapping=b,g.autoClear=y,e.background=S}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Ru||e.mapping===Qc;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=f2()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=c2());const a=r?this._cubemapMaterial:this._equirectMaterial,o=new Qi(this._lodPlanes[0],a),u=a.uniforms;u.envMap.value=e;const f=this._cubeSize;Wx(t,0,0,3*f,2*f),i.setRenderTarget(t),i.render(o,dE)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let a=1;a<r;a++){const o=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),u=l2[(r-a-1)%l2.length];this._blur(e,a-1,a,o,u)}t.autoClear=i}_blur(e,t,i,r,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",a),this._halfBlur(o,e,i,i,r,"longitudinal",a)}_halfBlur(e,t,i,r,a,o,u){const f=this._renderer,d=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,g=new Qi(this._lodPlanes[r],d),y=d.uniforms,b=this._sizeLods[i]-1,_=isFinite(a)?Math.PI/(2*b):2*Math.PI/(2*Ah-1),A=a/_,T=isFinite(a)?1+Math.floor(m*A):Ah;T>Ah&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${T} samples when the maximum is set to ${Ah}`);const S=[];let C=0;for(let I=0;I<Ah;++I){const V=I/A,B=Math.exp(-V*V/2);S.push(B),I===0?C+=B:I<T&&(C+=2*B)}for(let I=0;I<S.length;I++)S[I]=S[I]/C;y.envMap.value=e.texture,y.samples.value=T,y.weights.value=S,y.latitudinal.value=o==="latitudinal",u&&(y.poleAxis.value=u);const{_lodMax:D}=this;y.dTheta.value=_,y.mipInt.value=D-i;const N=this._sizeLods[r],z=3*N*(r>D-Op?r-D+Op:0),U=4*(this._cubeSize-N);Wx(t,z,U,3*N,2*N),f.setRenderTarget(t),f.render(g,dE)}}function lk(n){const e=[],t=[],i=[];let r=n;const a=n-Op+1+s2.length;for(let o=0;o<a;o++){const u=Math.pow(2,r);t.push(u);let f=1/u;o>n-Op?f=s2[o-n+Op-1]:o===0&&(f=0),i.push(f);const d=1/(u-2),m=-d,g=1+d,y=[m,m,g,m,g,g,m,m,g,g,m,g],b=6,_=6,A=3,T=2,S=1,C=new Float32Array(A*_*b),D=new Float32Array(T*_*b),N=new Float32Array(S*_*b);for(let U=0;U<b;U++){const I=U%3*2/3-1,V=U>2?0:-1,B=[I,V,0,I+2/3,V,0,I+2/3,V+1,0,I,V,0,I+2/3,V+1,0,I,V+1,0];C.set(B,A*_*U),D.set(y,T*_*U);const L=[U,U,U,U,U,U];N.set(L,S*_*U)}const z=new on;z.setAttribute("position",new Kn(C,A)),z.setAttribute("uv",new Kn(D,T)),z.setAttribute("faceIndex",new Kn(N,S)),e.push(z),r>Op&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function u2(n,e,t){const i=new Rl(n,e,t);return i.texture.mapping=nm,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Wx(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function uk(n,e,t){const i=new Float32Array(Ah),r=new Q(0,1,0);return new Do({name:"SphericalGaussianBlur",defines:{n:Ah,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:XA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:_u,depthTest:!1,depthWrite:!1})}function c2(){return new Do({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:XA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:_u,depthTest:!1,depthWrite:!1})}function f2(){return new Do({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:XA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:_u,depthTest:!1,depthWrite:!1})}function XA(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function ck(n){let e=new WeakMap,t=null;function i(u){if(u&&u.isTexture){const f=u.mapping,d=f===R0||f===D0,m=f===Ru||f===Qc;if(d||m){let g=e.get(u);const y=g!==void 0?g.texture.pmremVersion:0;if(u.isRenderTargetTexture&&u.pmremVersion!==y)return t===null&&(t=new YM(n)),g=d?t.fromEquirectangular(u,g):t.fromCubemap(u,g),g.texture.pmremVersion=u.pmremVersion,e.set(u,g),g.texture;if(g!==void 0)return g.texture;{const b=u.image;return d&&b&&b.height>0||m&&b&&r(b)?(t===null&&(t=new YM(n)),g=d?t.fromEquirectangular(u):t.fromCubemap(u),g.texture.pmremVersion=u.pmremVersion,e.set(u,g),u.addEventListener("dispose",a),g.texture):null}}}return u}function r(u){let f=0;const d=6;for(let m=0;m<d;m++)u[m]!==void 0&&f++;return f===d}function a(u){const f=u.target;f.removeEventListener("dispose",a);const d=e.get(f);d!==void 0&&(e.delete(f),d.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function fk(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&Ip("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function hk(n,e,t,i){const r={},a=new WeakMap;function o(g){const y=g.target;y.index!==null&&e.remove(y.index);for(const _ in y.attributes)e.remove(y.attributes[_]);y.removeEventListener("dispose",o),delete r[y.id];const b=a.get(y);b&&(e.remove(b),a.delete(y)),i.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,t.memory.geometries--}function u(g,y){return r[y.id]===!0||(y.addEventListener("dispose",o),r[y.id]=!0,t.memory.geometries++),y}function f(g){const y=g.attributes;for(const b in y)e.update(y[b],n.ARRAY_BUFFER)}function d(g){const y=[],b=g.index,_=g.attributes.position;let A=0;if(b!==null){const C=b.array;A=b.version;for(let D=0,N=C.length;D<N;D+=3){const z=C[D+0],U=C[D+1],I=C[D+2];y.push(z,U,U,I,I,z)}}else if(_!==void 0){const C=_.array;A=_.version;for(let D=0,N=C.length/3-1;D<N;D+=3){const z=D+0,U=D+1,I=D+2;y.push(z,U,U,I,I,z)}}else return;const T=new(sP(y)?bA:xA)(y,1);T.version=A;const S=a.get(g);S&&e.remove(S),a.set(g,T)}function m(g){const y=a.get(g);if(y){const b=g.index;b!==null&&y.version<b.version&&d(g)}else d(g);return a.get(g)}return{get:u,update:f,getWireframeAttribute:m}}function dk(n,e,t){let i;function r(y){i=y}let a,o;function u(y){a=y.type,o=y.bytesPerElement}function f(y,b){n.drawElements(i,b,a,y*o),t.update(b,i,1)}function d(y,b,_){_!==0&&(n.drawElementsInstanced(i,b,a,y*o,_),t.update(b,i,_))}function m(y,b,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,b,0,a,y,0,_);let T=0;for(let S=0;S<_;S++)T+=b[S];t.update(T,i,1)}function g(y,b,_,A){if(_===0)return;const T=e.get("WEBGL_multi_draw");if(T===null)for(let S=0;S<y.length;S++)d(y[S]/o,b[S],A[S]);else{T.multiDrawElementsInstancedWEBGL(i,b,0,a,y,0,A,0,_);let S=0;for(let C=0;C<_;C++)S+=b[C]*A[C];t.update(S,i,1)}}this.setMode=r,this.setIndex=u,this.render=f,this.renderInstances=d,this.renderMultiDraw=m,this.renderMultiDrawInstances=g}function pk(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,o,u){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=u*(a/3);break;case n.LINES:t.lines+=u*(a/2);break;case n.LINE_STRIP:t.lines+=u*(a-1);break;case n.LINE_LOOP:t.lines+=u*a;break;case n.POINTS:t.points+=u*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function mk(n,e,t){const i=new WeakMap,r=new An;function a(o,u,f){const d=o.morphTargetInfluences,m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,g=m!==void 0?m.length:0;let y=i.get(u);if(y===void 0||y.count!==g){let L=function(){V.dispose(),i.delete(u),u.removeEventListener("dispose",L)};var b=L;y!==void 0&&y.texture.dispose();const _=u.morphAttributes.position!==void 0,A=u.morphAttributes.normal!==void 0,T=u.morphAttributes.color!==void 0,S=u.morphAttributes.position||[],C=u.morphAttributes.normal||[],D=u.morphAttributes.color||[];let N=0;_===!0&&(N=1),A===!0&&(N=2),T===!0&&(N=3);let z=u.attributes.position.count*N,U=1;z>e.maxTextureSize&&(U=Math.ceil(z/e.maxTextureSize),z=e.maxTextureSize);const I=new Float32Array(z*U*4*g),V=new Y_(I,z,U,g);V.type=$a,V.needsUpdate=!0;const B=N*4;for(let W=0;W<g;W++){const oe=S[W],ee=C[W],he=D[W],de=z*U*4*W;for(let k=0;k<oe.count;k++){const Y=k*B;_===!0&&(r.fromBufferAttribute(oe,k),I[de+Y+0]=r.x,I[de+Y+1]=r.y,I[de+Y+2]=r.z,I[de+Y+3]=0),A===!0&&(r.fromBufferAttribute(ee,k),I[de+Y+4]=r.x,I[de+Y+5]=r.y,I[de+Y+6]=r.z,I[de+Y+7]=0),T===!0&&(r.fromBufferAttribute(he,k),I[de+Y+8]=r.x,I[de+Y+9]=r.y,I[de+Y+10]=r.z,I[de+Y+11]=he.itemSize===4?r.w:1)}}y={count:g,texture:V,size:new Ie(z,U)},i.set(u,y),u.addEventListener("dispose",L)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)f.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let _=0;for(let T=0;T<d.length;T++)_+=d[T];const A=u.morphTargetsRelative?1:1-_;f.getUniforms().setValue(n,"morphTargetBaseInfluence",A),f.getUniforms().setValue(n,"morphTargetInfluences",d)}f.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}return{update:a}}function gk(n,e,t,i){let r=new WeakMap;function a(f){const d=i.render.frame,m=f.geometry,g=e.get(f,m);if(r.get(g)!==d&&(e.update(g),r.set(g,d)),f.isInstancedMesh&&(f.hasEventListener("dispose",u)===!1&&f.addEventListener("dispose",u),r.get(f)!==d&&(t.update(f.instanceMatrix,n.ARRAY_BUFFER),f.instanceColor!==null&&t.update(f.instanceColor,n.ARRAY_BUFFER),r.set(f,d))),f.isSkinnedMesh){const y=f.skeleton;r.get(y)!==d&&(y.update(),r.set(y,d))}return g}function o(){r=new WeakMap}function u(f){const d=f.target;d.removeEventListener("dispose",u),t.remove(d.instanceMatrix),d.instanceColor!==null&&t.remove(d.instanceColor)}return{update:a,dispose:o}}const hL=new Ni,h2=new TA(1,1),dL=new Y_,pL=new K_,mL=new av,d2=[],p2=[],m2=new Float32Array(16),g2=new Float32Array(9),v2=new Float32Array(4);function sm(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let a=d2[r];if(a===void 0&&(a=new Float32Array(r),d2[r]=a),e!==0){i.toArray(a,0);for(let o=1,u=0;o!==e;++o)u+=t,n[o].toArray(a,u)}return a}function cr(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function fr(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function yS(n,e){let t=p2[e];t===void 0&&(t=new Int32Array(e),p2[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function vk(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function yk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(cr(t,e))return;n.uniform2fv(this.addr,e),fr(t,e)}}function xk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(cr(t,e))return;n.uniform3fv(this.addr,e),fr(t,e)}}function bk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(cr(t,e))return;n.uniform4fv(this.addr,e),fr(t,e)}}function _k(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(cr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),fr(t,e)}else{if(cr(t,i))return;v2.set(i),n.uniformMatrix2fv(this.addr,!1,v2),fr(t,i)}}function Sk(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(cr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),fr(t,e)}else{if(cr(t,i))return;g2.set(i),n.uniformMatrix3fv(this.addr,!1,g2),fr(t,i)}}function Ek(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(cr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),fr(t,e)}else{if(cr(t,i))return;m2.set(i),n.uniformMatrix4fv(this.addr,!1,m2),fr(t,i)}}function Mk(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Tk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(cr(t,e))return;n.uniform2iv(this.addr,e),fr(t,e)}}function Ak(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(cr(t,e))return;n.uniform3iv(this.addr,e),fr(t,e)}}function wk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(cr(t,e))return;n.uniform4iv(this.addr,e),fr(t,e)}}function Ck(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Rk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(cr(t,e))return;n.uniform2uiv(this.addr,e),fr(t,e)}}function Dk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(cr(t,e))return;n.uniform3uiv(this.addr,e),fr(t,e)}}function Ok(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(cr(t,e))return;n.uniform4uiv(this.addr,e),fr(t,e)}}function Nk(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let a;this.type===n.SAMPLER_2D_SHADOW?(h2.compareFunction=gA,a=h2):a=hL,t.setTexture2D(e||a,r)}function Pk(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||pL,r)}function Lk(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||mL,r)}function Uk(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||dL,r)}function zk(n){switch(n){case 5126:return vk;case 35664:return yk;case 35665:return xk;case 35666:return bk;case 35674:return _k;case 35675:return Sk;case 35676:return Ek;case 5124:case 35670:return Mk;case 35667:case 35671:return Tk;case 35668:case 35672:return Ak;case 35669:case 35673:return wk;case 5125:return Ck;case 36294:return Rk;case 36295:return Dk;case 36296:return Ok;case 35678:case 36198:case 36298:case 36306:case 35682:return Nk;case 35679:case 36299:case 36307:return Pk;case 35680:case 36300:case 36308:case 36293:return Lk;case 36289:case 36303:case 36311:case 36292:return Uk}}function Bk(n,e){n.uniform1fv(this.addr,e)}function Ik(n,e){const t=sm(e,this.size,2);n.uniform2fv(this.addr,t)}function Fk(n,e){const t=sm(e,this.size,3);n.uniform3fv(this.addr,t)}function Vk(n,e){const t=sm(e,this.size,4);n.uniform4fv(this.addr,t)}function Hk(n,e){const t=sm(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function kk(n,e){const t=sm(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Gk(n,e){const t=sm(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function $k(n,e){n.uniform1iv(this.addr,e)}function jk(n,e){n.uniform2iv(this.addr,e)}function Xk(n,e){n.uniform3iv(this.addr,e)}function Wk(n,e){n.uniform4iv(this.addr,e)}function qk(n,e){n.uniform1uiv(this.addr,e)}function Yk(n,e){n.uniform2uiv(this.addr,e)}function Kk(n,e){n.uniform3uiv(this.addr,e)}function Zk(n,e){n.uniform4uiv(this.addr,e)}function Qk(n,e,t){const i=this.cache,r=e.length,a=yS(t,r);cr(i,a)||(n.uniform1iv(this.addr,a),fr(i,a));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||hL,a[o])}function Jk(n,e,t){const i=this.cache,r=e.length,a=yS(t,r);cr(i,a)||(n.uniform1iv(this.addr,a),fr(i,a));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||pL,a[o])}function eG(n,e,t){const i=this.cache,r=e.length,a=yS(t,r);cr(i,a)||(n.uniform1iv(this.addr,a),fr(i,a));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||mL,a[o])}function tG(n,e,t){const i=this.cache,r=e.length,a=yS(t,r);cr(i,a)||(n.uniform1iv(this.addr,a),fr(i,a));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||dL,a[o])}function nG(n){switch(n){case 5126:return Bk;case 35664:return Ik;case 35665:return Fk;case 35666:return Vk;case 35674:return Hk;case 35675:return kk;case 35676:return Gk;case 5124:case 35670:return $k;case 35667:case 35671:return jk;case 35668:case 35672:return Xk;case 35669:case 35673:return Wk;case 5125:return qk;case 36294:return Yk;case 36295:return Kk;case 36296:return Zk;case 35678:case 36198:case 36298:case 36306:case 35682:return Qk;case 35679:case 36299:case 36307:return Jk;case 35680:case 36300:case 36308:case 36293:return eG;case 36289:case 36303:case 36311:case 36292:return tG}}class iG{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=zk(t.type)}}class rG{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=nG(t.type)}}class aG{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let a=0,o=r.length;a!==o;++a){const u=r[a];u.setValue(e,t[u.id],i)}}}const yE=/(\w+)(\])?(\[|\.)?/g;function y2(n,e){n.seq.push(e),n.map[e.id]=e}function sG(n,e,t){const i=n.name,r=i.length;for(yE.lastIndex=0;;){const a=yE.exec(i),o=yE.lastIndex;let u=a[1];const f=a[2]==="]",d=a[3];if(f&&(u=u|0),d===void 0||d==="["&&o+2===r){y2(t,d===void 0?new iG(u,n,e):new rG(u,n,e));break}else{let g=t.map[u];g===void 0&&(g=new aG(u),y2(t,g)),t=g}}}class db{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const a=e.getActiveUniform(t,r),o=e.getUniformLocation(t,a.name);sG(a,o,this)}}setValue(e,t,i,r){const a=this.map[t];a!==void 0&&a.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let a=0,o=t.length;a!==o;++a){const u=t[a],f=i[u.id];f.needsUpdate!==!1&&u.setValue(e,f.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,a=e.length;r!==a;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function x2(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const oG=37297;let lG=0;function uG(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let o=r;o<a;o++){const u=o+1;i.push(`${u===e?">":" "} ${u}: ${t[o]}`)}return i.join(`
`)}const b2=new tn;function cG(n){bn._getMatrix(b2,bn.workingColorSpace,n);const e=`mat3( ${b2.elements.map(t=>t.toFixed(4))} )`;switch(bn.getTransfer(n)){case U0:return[e,"LinearTransferOETF"];case kn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function _2(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const a=/ERROR: 0:(\d+)/.exec(r);if(a){const o=parseInt(a[1]);return t.toUpperCase()+`

`+r+`

`+uG(n.getShaderSource(e),o)}else return r}function fG(n,e){const t=cG(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function hG(n,e){let t;switch(e){case VN:t="Linear";break;case HN:t="Reinhard";break;case kN:t="Cineon";break;case sA:t="ACESFilmic";break;case $N:t="AgX";break;case jN:t="Neutral";break;case GN:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const qx=new Q;function dG(){bn.getLuminanceCoefficients(qx);const n=qx.x.toFixed(4),e=qx.y.toFixed(4),t=qx.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function pG(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Jg).join(`
`)}function mG(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function gG(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const a=n.getActiveAttrib(e,r),o=a.name;let u=1;a.type===n.FLOAT_MAT2&&(u=2),a.type===n.FLOAT_MAT3&&(u=3),a.type===n.FLOAT_MAT4&&(u=4),t[o]={type:a.type,location:n.getAttribLocation(e,o),locationSize:u}}return t}function Jg(n){return n!==""}function S2(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function E2(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const vG=/^[ \t]*#include +<([\w\d./]+)>/gm;function KM(n){return n.replace(vG,xG)}const yG=new Map;function xG(n,e){let t=cn[e];if(t===void 0){const i=yG.get(e);if(i!==void 0)t=cn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return KM(t)}const bG=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function M2(n){return n.replace(bG,_G)}function _G(n,e,t,i){let r="";for(let a=parseInt(e);a<parseInt(t);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function T2(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function SG(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===V_?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===o0?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Ao&&(e="SHADOWMAP_TYPE_VSM"),e}function EG(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Ru:case Qc:e="ENVMAP_TYPE_CUBE";break;case nm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function MG(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Qc:e="ENVMAP_MODE_REFRACTION";break}return e}function TG(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case iv:e="ENVMAP_BLENDING_MULTIPLY";break;case IN:e="ENVMAP_BLENDING_MIX";break;case FN:e="ENVMAP_BLENDING_ADD";break}return e}function AG(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}function wG(n,e,t,i){const r=n.getContext(),a=t.defines;let o=t.vertexShader,u=t.fragmentShader;const f=SG(t),d=EG(t),m=MG(t),g=TG(t),y=AG(t),b=pG(t),_=mG(a),A=r.createProgram();let T,S,C=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(T=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(Jg).join(`
`),T.length>0&&(T+=`
`),S=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(Jg).join(`
`),S.length>0&&(S+=`
`)):(T=[T2(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Jg).join(`
`),S=[T2(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.envMap?"#define "+m:"",t.envMap?"#define "+g:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Sl?"#define TONE_MAPPING":"",t.toneMapping!==Sl?cn.tonemapping_pars_fragment:"",t.toneMapping!==Sl?hG("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",cn.colorspace_pars_fragment,fG("linearToOutputTexel",t.outputColorSpace),dG(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Jg).join(`
`)),o=KM(o),o=S2(o,t),o=E2(o,t),u=KM(u),u=S2(u,t),u=E2(u,t),o=M2(o),u=M2(u),t.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,T=[b,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+T,S=["#define varying in",t.glslVersion===VM?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===VM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const D=C+T+o,N=C+S+u,z=x2(r,r.VERTEX_SHADER,D),U=x2(r,r.FRAGMENT_SHADER,N);r.attachShader(A,z),r.attachShader(A,U),t.index0AttributeName!==void 0?r.bindAttribLocation(A,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(A,0,"position"),r.linkProgram(A);function I(W){if(n.debug.checkShaderErrors){const oe=r.getProgramInfoLog(A).trim(),ee=r.getShaderInfoLog(z).trim(),he=r.getShaderInfoLog(U).trim();let de=!0,k=!0;if(r.getProgramParameter(A,r.LINK_STATUS)===!1)if(de=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,A,z,U);else{const Y=_2(r,z,"vertex"),K=_2(r,U,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(A,r.VALIDATE_STATUS)+`

Material Name: `+W.name+`
Material Type: `+W.type+`

Program Info Log: `+oe+`
`+Y+`
`+K)}else oe!==""?console.warn("THREE.WebGLProgram: Program Info Log:",oe):(ee===""||he==="")&&(k=!1);k&&(W.diagnostics={runnable:de,programLog:oe,vertexShader:{log:ee,prefix:T},fragmentShader:{log:he,prefix:S}})}r.deleteShader(z),r.deleteShader(U),V=new db(r,A),B=gG(r,A)}let V;this.getUniforms=function(){return V===void 0&&I(this),V};let B;this.getAttributes=function(){return B===void 0&&I(this),B};let L=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return L===!1&&(L=r.getProgramParameter(A,oG)),L},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(A),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=lG++,this.cacheKey=e,this.usedTimes=1,this.program=A,this.vertexShader=z,this.fragmentShader=U,this}let CG=0;class RG{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),a=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new DG(e),t.set(e,i)),i}}class DG{constructor(e){this.id=CG++,this.code=e,this.usedTimes=0}}function OG(n,e,t,i,r,a,o){const u=new qp,f=new RG,d=new Set,m=[],g=r.logarithmicDepthBuffer,y=r.vertexTextures;let b=r.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function A(B){return d.add(B),B===0?"uv":`uv${B}`}function T(B,L,W,oe,ee){const he=oe.fog,de=ee.geometry,k=B.isMeshStandardMaterial?oe.environment:null,Y=(B.isMeshStandardMaterial?t:e).get(B.envMap||k),K=Y&&Y.mapping===nm?Y.image.height:null,ue=_[B.type];B.precision!==null&&(b=r.getMaxPrecision(B.precision),b!==B.precision&&console.warn("THREE.WebGLProgram.getParameters:",B.precision,"not supported, using",b,"instead."));const G=de.morphAttributes.position||de.morphAttributes.normal||de.morphAttributes.color,te=G!==void 0?G.length:0;let Se=0;de.morphAttributes.position!==void 0&&(Se=1),de.morphAttributes.normal!==void 0&&(Se=2),de.morphAttributes.color!==void 0&&(Se=3);let ye,se,we,Be;if(ue){const Qt=wo[ue];ye=Qt.vertexShader,se=Qt.fragmentShader}else ye=B.vertexShader,se=B.fragmentShader,f.update(B),we=f.getVertexShaderID(B),Be=f.getFragmentShaderID(B);const je=n.getRenderTarget(),Xe=n.state.buffers.depth.getReversed(),gt=ee.isInstancedMesh===!0,bt=ee.isBatchedMesh===!0,Zt=!!B.map,Pt=!!B.matcap,Mt=!!Y,Z=!!B.aoMap,Qe=!!B.lightMap,$e=!!B.bumpMap,We=!!B.normalMap,Pe=!!B.displacementMap,rt=!!B.emissiveMap,He=!!B.metalnessMap,at=!!B.roughnessMap,wt=B.anisotropy>0,j=B.clearcoat>0,H=B.dispersion>0,pe=B.iridescence>0,Me=B.sheen>0,Ne=B.transmission>0,Oe=wt&&!!B.anisotropyMap,st=j&&!!B.clearcoatMap,nt=j&&!!B.clearcoatNormalMap,dt=j&&!!B.clearcoatRoughnessMap,vt=pe&&!!B.iridescenceMap,Le=pe&&!!B.iridescenceThicknessMap,it=Me&&!!B.sheenColorMap,yt=Me&&!!B.sheenRoughnessMap,ie=!!B.specularMap,xe=!!B.specularColorMap,Ke=!!B.specularIntensityMap,re=Ne&&!!B.transmissionMap,Je=Ne&&!!B.thicknessMap,ke=!!B.gradientMap,lt=!!B.alphaMap,Ze=B.alphaTest>0,Fe=!!B.alphaHash,ut=!!B.extensions;let Tt=Sl;B.toneMapped&&(je===null||je.isXRRenderTarget===!0)&&(Tt=n.toneMapping);const ln={shaderID:ue,shaderType:B.type,shaderName:B.name,vertexShader:ye,fragmentShader:se,defines:B.defines,customVertexShaderID:we,customFragmentShaderID:Be,isRawShaderMaterial:B.isRawShaderMaterial===!0,glslVersion:B.glslVersion,precision:b,batching:bt,batchingColor:bt&&ee._colorsTexture!==null,instancing:gt,instancingColor:gt&&ee.instanceColor!==null,instancingMorph:gt&&ee.morphTexture!==null,supportsVertexTextures:y,outputColorSpace:je===null?n.outputColorSpace:je.isXRRenderTarget===!0?je.texture.colorSpace:Jc,alphaToCoverage:!!B.alphaToCoverage,map:Zt,matcap:Pt,envMap:Mt,envMapMode:Mt&&Y.mapping,envMapCubeUVHeight:K,aoMap:Z,lightMap:Qe,bumpMap:$e,normalMap:We,displacementMap:y&&Pe,emissiveMap:rt,normalMapObjectSpace:We&&B.normalMapType===QN,normalMapTangentSpace:We&&B.normalMapType===sf,metalnessMap:He,roughnessMap:at,anisotropy:wt,anisotropyMap:Oe,clearcoat:j,clearcoatMap:st,clearcoatNormalMap:nt,clearcoatRoughnessMap:dt,dispersion:H,iridescence:pe,iridescenceMap:vt,iridescenceThicknessMap:Le,sheen:Me,sheenColorMap:it,sheenRoughnessMap:yt,specularMap:ie,specularColorMap:xe,specularIntensityMap:Ke,transmission:Ne,transmissionMap:re,thicknessMap:Je,gradientMap:ke,opaque:B.transparent===!1&&B.blending===Lh&&B.alphaToCoverage===!1,alphaMap:lt,alphaTest:Ze,alphaHash:Fe,combine:B.combine,mapUv:Zt&&A(B.map.channel),aoMapUv:Z&&A(B.aoMap.channel),lightMapUv:Qe&&A(B.lightMap.channel),bumpMapUv:$e&&A(B.bumpMap.channel),normalMapUv:We&&A(B.normalMap.channel),displacementMapUv:Pe&&A(B.displacementMap.channel),emissiveMapUv:rt&&A(B.emissiveMap.channel),metalnessMapUv:He&&A(B.metalnessMap.channel),roughnessMapUv:at&&A(B.roughnessMap.channel),anisotropyMapUv:Oe&&A(B.anisotropyMap.channel),clearcoatMapUv:st&&A(B.clearcoatMap.channel),clearcoatNormalMapUv:nt&&A(B.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:dt&&A(B.clearcoatRoughnessMap.channel),iridescenceMapUv:vt&&A(B.iridescenceMap.channel),iridescenceThicknessMapUv:Le&&A(B.iridescenceThicknessMap.channel),sheenColorMapUv:it&&A(B.sheenColorMap.channel),sheenRoughnessMapUv:yt&&A(B.sheenRoughnessMap.channel),specularMapUv:ie&&A(B.specularMap.channel),specularColorMapUv:xe&&A(B.specularColorMap.channel),specularIntensityMapUv:Ke&&A(B.specularIntensityMap.channel),transmissionMapUv:re&&A(B.transmissionMap.channel),thicknessMapUv:Je&&A(B.thicknessMap.channel),alphaMapUv:lt&&A(B.alphaMap.channel),vertexTangents:!!de.attributes.tangent&&(We||wt),vertexColors:B.vertexColors,vertexAlphas:B.vertexColors===!0&&!!de.attributes.color&&de.attributes.color.itemSize===4,pointsUvs:ee.isPoints===!0&&!!de.attributes.uv&&(Zt||lt),fog:!!he,useFog:B.fog===!0,fogExp2:!!he&&he.isFogExp2,flatShading:B.flatShading===!0&&B.wireframe===!1,sizeAttenuation:B.sizeAttenuation===!0,logarithmicDepthBuffer:g,reverseDepthBuffer:Xe,skinning:ee.isSkinnedMesh===!0,morphTargets:de.morphAttributes.position!==void 0,morphNormals:de.morphAttributes.normal!==void 0,morphColors:de.morphAttributes.color!==void 0,morphTargetsCount:te,morphTextureStride:Se,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numLightProbes:L.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:B.dithering,shadowMapEnabled:n.shadowMap.enabled&&W.length>0,shadowMapType:n.shadowMap.type,toneMapping:Tt,decodeVideoTexture:Zt&&B.map.isVideoTexture===!0&&bn.getTransfer(B.map.colorSpace)===kn,decodeVideoTextureEmissive:rt&&B.emissiveMap.isVideoTexture===!0&&bn.getTransfer(B.emissiveMap.colorSpace)===kn,premultipliedAlpha:B.premultipliedAlpha,doubleSided:B.side===xl,flipSided:B.side===Ma,useDepthPacking:B.depthPacking>=0,depthPacking:B.depthPacking||0,index0AttributeName:B.index0AttributeName,extensionClipCullDistance:ut&&B.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(ut&&B.extensions.multiDraw===!0||bt)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:B.customProgramCacheKey()};return ln.vertexUv1s=d.has(1),ln.vertexUv2s=d.has(2),ln.vertexUv3s=d.has(3),d.clear(),ln}function S(B){const L=[];if(B.shaderID?L.push(B.shaderID):(L.push(B.customVertexShaderID),L.push(B.customFragmentShaderID)),B.defines!==void 0)for(const W in B.defines)L.push(W),L.push(B.defines[W]);return B.isRawShaderMaterial===!1&&(C(L,B),D(L,B),L.push(n.outputColorSpace)),L.push(B.customProgramCacheKey),L.join()}function C(B,L){B.push(L.precision),B.push(L.outputColorSpace),B.push(L.envMapMode),B.push(L.envMapCubeUVHeight),B.push(L.mapUv),B.push(L.alphaMapUv),B.push(L.lightMapUv),B.push(L.aoMapUv),B.push(L.bumpMapUv),B.push(L.normalMapUv),B.push(L.displacementMapUv),B.push(L.emissiveMapUv),B.push(L.metalnessMapUv),B.push(L.roughnessMapUv),B.push(L.anisotropyMapUv),B.push(L.clearcoatMapUv),B.push(L.clearcoatNormalMapUv),B.push(L.clearcoatRoughnessMapUv),B.push(L.iridescenceMapUv),B.push(L.iridescenceThicknessMapUv),B.push(L.sheenColorMapUv),B.push(L.sheenRoughnessMapUv),B.push(L.specularMapUv),B.push(L.specularColorMapUv),B.push(L.specularIntensityMapUv),B.push(L.transmissionMapUv),B.push(L.thicknessMapUv),B.push(L.combine),B.push(L.fogExp2),B.push(L.sizeAttenuation),B.push(L.morphTargetsCount),B.push(L.morphAttributeCount),B.push(L.numDirLights),B.push(L.numPointLights),B.push(L.numSpotLights),B.push(L.numSpotLightMaps),B.push(L.numHemiLights),B.push(L.numRectAreaLights),B.push(L.numDirLightShadows),B.push(L.numPointLightShadows),B.push(L.numSpotLightShadows),B.push(L.numSpotLightShadowsWithMaps),B.push(L.numLightProbes),B.push(L.shadowMapType),B.push(L.toneMapping),B.push(L.numClippingPlanes),B.push(L.numClipIntersection),B.push(L.depthPacking)}function D(B,L){u.disableAll(),L.supportsVertexTextures&&u.enable(0),L.instancing&&u.enable(1),L.instancingColor&&u.enable(2),L.instancingMorph&&u.enable(3),L.matcap&&u.enable(4),L.envMap&&u.enable(5),L.normalMapObjectSpace&&u.enable(6),L.normalMapTangentSpace&&u.enable(7),L.clearcoat&&u.enable(8),L.iridescence&&u.enable(9),L.alphaTest&&u.enable(10),L.vertexColors&&u.enable(11),L.vertexAlphas&&u.enable(12),L.vertexUv1s&&u.enable(13),L.vertexUv2s&&u.enable(14),L.vertexUv3s&&u.enable(15),L.vertexTangents&&u.enable(16),L.anisotropy&&u.enable(17),L.alphaHash&&u.enable(18),L.batching&&u.enable(19),L.dispersion&&u.enable(20),L.batchingColor&&u.enable(21),L.gradientMap&&u.enable(22),B.push(u.mask),u.disableAll(),L.fog&&u.enable(0),L.useFog&&u.enable(1),L.flatShading&&u.enable(2),L.logarithmicDepthBuffer&&u.enable(3),L.reverseDepthBuffer&&u.enable(4),L.skinning&&u.enable(5),L.morphTargets&&u.enable(6),L.morphNormals&&u.enable(7),L.morphColors&&u.enable(8),L.premultipliedAlpha&&u.enable(9),L.shadowMapEnabled&&u.enable(10),L.doubleSided&&u.enable(11),L.flipSided&&u.enable(12),L.useDepthPacking&&u.enable(13),L.dithering&&u.enable(14),L.transmission&&u.enable(15),L.sheen&&u.enable(16),L.opaque&&u.enable(17),L.pointsUvs&&u.enable(18),L.decodeVideoTexture&&u.enable(19),L.decodeVideoTextureEmissive&&u.enable(20),L.alphaToCoverage&&u.enable(21),B.push(u.mask)}function N(B){const L=_[B.type];let W;if(L){const oe=wo[L];W=fP.clone(oe.uniforms)}else W=B.uniforms;return W}function z(B,L){let W;for(let oe=0,ee=m.length;oe<ee;oe++){const he=m[oe];if(he.cacheKey===L){W=he,++W.usedTimes;break}}return W===void 0&&(W=new wG(n,L,B,a),m.push(W)),W}function U(B){if(--B.usedTimes===0){const L=m.indexOf(B);m[L]=m[m.length-1],m.pop(),B.destroy()}}function I(B){f.remove(B)}function V(){f.dispose()}return{getParameters:T,getProgramCacheKey:S,getUniforms:N,acquireProgram:z,releaseProgram:U,releaseShaderCache:I,programs:m,dispose:V}}function NG(){let n=new WeakMap;function e(o){return n.has(o)}function t(o){let u=n.get(o);return u===void 0&&(u={},n.set(o,u)),u}function i(o){n.delete(o)}function r(o,u,f){n.get(o)[u]=f}function a(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:a}}function PG(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function A2(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function w2(){const n=[];let e=0;const t=[],i=[],r=[];function a(){e=0,t.length=0,i.length=0,r.length=0}function o(g,y,b,_,A,T){let S=n[e];return S===void 0?(S={id:g.id,object:g,geometry:y,material:b,groupOrder:_,renderOrder:g.renderOrder,z:A,group:T},n[e]=S):(S.id=g.id,S.object=g,S.geometry=y,S.material=b,S.groupOrder=_,S.renderOrder=g.renderOrder,S.z=A,S.group=T),e++,S}function u(g,y,b,_,A,T){const S=o(g,y,b,_,A,T);b.transmission>0?i.push(S):b.transparent===!0?r.push(S):t.push(S)}function f(g,y,b,_,A,T){const S=o(g,y,b,_,A,T);b.transmission>0?i.unshift(S):b.transparent===!0?r.unshift(S):t.unshift(S)}function d(g,y){t.length>1&&t.sort(g||PG),i.length>1&&i.sort(y||A2),r.length>1&&r.sort(y||A2)}function m(){for(let g=e,y=n.length;g<y;g++){const b=n[g];if(b.id===null)break;b.id=null,b.object=null,b.geometry=null,b.material=null,b.group=null}}return{opaque:t,transmissive:i,transparent:r,init:a,push:u,unshift:f,finish:m,sort:d}}function LG(){let n=new WeakMap;function e(i,r){const a=n.get(i);let o;return a===void 0?(o=new w2,n.set(i,[o])):r>=a.length?(o=new w2,a.push(o)):o=a[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function UG(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Q,color:new xt};break;case"SpotLight":t={position:new Q,direction:new Q,color:new xt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Q,color:new xt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Q,skyColor:new xt,groundColor:new xt};break;case"RectAreaLight":t={color:new xt,position:new Q,halfWidth:new Q,halfHeight:new Q};break}return n[e.id]=t,t}}}function zG(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let BG=0;function IG(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function FG(n){const e=new UG,t=zG(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)i.probe.push(new Q);const r=new Q,a=new Gt,o=new Gt;function u(d){let m=0,g=0,y=0;for(let B=0;B<9;B++)i.probe[B].set(0,0,0);let b=0,_=0,A=0,T=0,S=0,C=0,D=0,N=0,z=0,U=0,I=0;d.sort(IG);for(let B=0,L=d.length;B<L;B++){const W=d[B],oe=W.color,ee=W.intensity,he=W.distance,de=W.shadow&&W.shadow.map?W.shadow.map.texture:null;if(W.isAmbientLight)m+=oe.r*ee,g+=oe.g*ee,y+=oe.b*ee;else if(W.isLightProbe){for(let k=0;k<9;k++)i.probe[k].addScaledVector(W.sh.coefficients[k],ee);I++}else if(W.isDirectionalLight){const k=e.get(W);if(k.color.copy(W.color).multiplyScalar(W.intensity),W.castShadow){const Y=W.shadow,K=t.get(W);K.shadowIntensity=Y.intensity,K.shadowBias=Y.bias,K.shadowNormalBias=Y.normalBias,K.shadowRadius=Y.radius,K.shadowMapSize=Y.mapSize,i.directionalShadow[b]=K,i.directionalShadowMap[b]=de,i.directionalShadowMatrix[b]=W.shadow.matrix,C++}i.directional[b]=k,b++}else if(W.isSpotLight){const k=e.get(W);k.position.setFromMatrixPosition(W.matrixWorld),k.color.copy(oe).multiplyScalar(ee),k.distance=he,k.coneCos=Math.cos(W.angle),k.penumbraCos=Math.cos(W.angle*(1-W.penumbra)),k.decay=W.decay,i.spot[A]=k;const Y=W.shadow;if(W.map&&(i.spotLightMap[z]=W.map,z++,Y.updateMatrices(W),W.castShadow&&U++),i.spotLightMatrix[A]=Y.matrix,W.castShadow){const K=t.get(W);K.shadowIntensity=Y.intensity,K.shadowBias=Y.bias,K.shadowNormalBias=Y.normalBias,K.shadowRadius=Y.radius,K.shadowMapSize=Y.mapSize,i.spotShadow[A]=K,i.spotShadowMap[A]=de,N++}A++}else if(W.isRectAreaLight){const k=e.get(W);k.color.copy(oe).multiplyScalar(ee),k.halfWidth.set(W.width*.5,0,0),k.halfHeight.set(0,W.height*.5,0),i.rectArea[T]=k,T++}else if(W.isPointLight){const k=e.get(W);if(k.color.copy(W.color).multiplyScalar(W.intensity),k.distance=W.distance,k.decay=W.decay,W.castShadow){const Y=W.shadow,K=t.get(W);K.shadowIntensity=Y.intensity,K.shadowBias=Y.bias,K.shadowNormalBias=Y.normalBias,K.shadowRadius=Y.radius,K.shadowMapSize=Y.mapSize,K.shadowCameraNear=Y.camera.near,K.shadowCameraFar=Y.camera.far,i.pointShadow[_]=K,i.pointShadowMap[_]=de,i.pointShadowMatrix[_]=W.shadow.matrix,D++}i.point[_]=k,_++}else if(W.isHemisphereLight){const k=e.get(W);k.skyColor.copy(W.color).multiplyScalar(ee),k.groundColor.copy(W.groundColor).multiplyScalar(ee),i.hemi[S]=k,S++}}T>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ft.LTC_FLOAT_1,i.rectAreaLTC2=ft.LTC_FLOAT_2):(i.rectAreaLTC1=ft.LTC_HALF_1,i.rectAreaLTC2=ft.LTC_HALF_2)),i.ambient[0]=m,i.ambient[1]=g,i.ambient[2]=y;const V=i.hash;(V.directionalLength!==b||V.pointLength!==_||V.spotLength!==A||V.rectAreaLength!==T||V.hemiLength!==S||V.numDirectionalShadows!==C||V.numPointShadows!==D||V.numSpotShadows!==N||V.numSpotMaps!==z||V.numLightProbes!==I)&&(i.directional.length=b,i.spot.length=A,i.rectArea.length=T,i.point.length=_,i.hemi.length=S,i.directionalShadow.length=C,i.directionalShadowMap.length=C,i.pointShadow.length=D,i.pointShadowMap.length=D,i.spotShadow.length=N,i.spotShadowMap.length=N,i.directionalShadowMatrix.length=C,i.pointShadowMatrix.length=D,i.spotLightMatrix.length=N+z-U,i.spotLightMap.length=z,i.numSpotLightShadowsWithMaps=U,i.numLightProbes=I,V.directionalLength=b,V.pointLength=_,V.spotLength=A,V.rectAreaLength=T,V.hemiLength=S,V.numDirectionalShadows=C,V.numPointShadows=D,V.numSpotShadows=N,V.numSpotMaps=z,V.numLightProbes=I,i.version=BG++)}function f(d,m){let g=0,y=0,b=0,_=0,A=0;const T=m.matrixWorldInverse;for(let S=0,C=d.length;S<C;S++){const D=d[S];if(D.isDirectionalLight){const N=i.directional[g];N.direction.setFromMatrixPosition(D.matrixWorld),r.setFromMatrixPosition(D.target.matrixWorld),N.direction.sub(r),N.direction.transformDirection(T),g++}else if(D.isSpotLight){const N=i.spot[b];N.position.setFromMatrixPosition(D.matrixWorld),N.position.applyMatrix4(T),N.direction.setFromMatrixPosition(D.matrixWorld),r.setFromMatrixPosition(D.target.matrixWorld),N.direction.sub(r),N.direction.transformDirection(T),b++}else if(D.isRectAreaLight){const N=i.rectArea[_];N.position.setFromMatrixPosition(D.matrixWorld),N.position.applyMatrix4(T),o.identity(),a.copy(D.matrixWorld),a.premultiply(T),o.extractRotation(a),N.halfWidth.set(D.width*.5,0,0),N.halfHeight.set(0,D.height*.5,0),N.halfWidth.applyMatrix4(o),N.halfHeight.applyMatrix4(o),_++}else if(D.isPointLight){const N=i.point[y];N.position.setFromMatrixPosition(D.matrixWorld),N.position.applyMatrix4(T),y++}else if(D.isHemisphereLight){const N=i.hemi[A];N.direction.setFromMatrixPosition(D.matrixWorld),N.direction.transformDirection(T),A++}}}return{setup:u,setupView:f,state:i}}function C2(n){const e=new FG(n),t=[],i=[];function r(m){d.camera=m,t.length=0,i.length=0}function a(m){t.push(m)}function o(m){i.push(m)}function u(){e.setup(t)}function f(m){e.setupView(t,m)}const d={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:d,setupLights:u,setupLightsView:f,pushLight:a,pushShadow:o}}function VG(n){let e=new WeakMap;function t(r,a=0){const o=e.get(r);let u;return o===void 0?(u=new C2(n),e.set(r,[u])):a>=o.length?(u=new C2(n),o.push(u)):u=o[a],u}function i(){e=new WeakMap}return{get:t,dispose:i}}const HG=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,kG=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function GG(n,e,t){let i=new rm;const r=new Ie,a=new Ie,o=new An,u=new PA({depthPacking:ZN}),f=new LA,d={},m=t.maxTextureSize,g={[Cu]:Ma,[Ma]:Cu,[xl]:xl},y=new Do({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ie},radius:{value:4}},vertexShader:HG,fragmentShader:kG}),b=y.clone();b.defines.HORIZONTAL_PASS=1;const _=new on;_.setAttribute("position",new Kn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const A=new Qi(_,y),T=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=V_;let S=this.type;this.render=function(U,I,V){if(T.enabled===!1||T.autoUpdate===!1&&T.needsUpdate===!1||U.length===0)return;const B=n.getRenderTarget(),L=n.getActiveCubeFace(),W=n.getActiveMipmapLevel(),oe=n.state;oe.setBlending(_u),oe.buffers.color.setClear(1,1,1,1),oe.buffers.depth.setTest(!0),oe.setScissorTest(!1);const ee=S!==Ao&&this.type===Ao,he=S===Ao&&this.type!==Ao;for(let de=0,k=U.length;de<k;de++){const Y=U[de],K=Y.shadow;if(K===void 0){console.warn("THREE.WebGLShadowMap:",Y,"has no shadow.");continue}if(K.autoUpdate===!1&&K.needsUpdate===!1)continue;r.copy(K.mapSize);const ue=K.getFrameExtents();if(r.multiply(ue),a.copy(K.mapSize),(r.x>m||r.y>m)&&(r.x>m&&(a.x=Math.floor(m/ue.x),r.x=a.x*ue.x,K.mapSize.x=a.x),r.y>m&&(a.y=Math.floor(m/ue.y),r.y=a.y*ue.y,K.mapSize.y=a.y)),K.map===null||ee===!0||he===!0){const te=this.type!==Ao?{minFilter:Nr,magFilter:Nr}:{};K.map!==null&&K.map.dispose(),K.map=new Rl(r.x,r.y,te),K.map.texture.name=Y.name+".shadowMap",K.camera.updateProjectionMatrix()}n.setRenderTarget(K.map),n.clear();const G=K.getViewportCount();for(let te=0;te<G;te++){const Se=K.getViewport(te);o.set(a.x*Se.x,a.y*Se.y,a.x*Se.z,a.y*Se.w),oe.viewport(o),K.updateMatrices(Y,te),i=K.getFrustum(),N(I,V,K.camera,Y,this.type)}K.isPointLightShadow!==!0&&this.type===Ao&&C(K,V),K.needsUpdate=!1}S=this.type,T.needsUpdate=!1,n.setRenderTarget(B,L,W)};function C(U,I){const V=e.update(A);y.defines.VSM_SAMPLES!==U.blurSamples&&(y.defines.VSM_SAMPLES=U.blurSamples,b.defines.VSM_SAMPLES=U.blurSamples,y.needsUpdate=!0,b.needsUpdate=!0),U.mapPass===null&&(U.mapPass=new Rl(r.x,r.y)),y.uniforms.shadow_pass.value=U.map.texture,y.uniforms.resolution.value=U.mapSize,y.uniforms.radius.value=U.radius,n.setRenderTarget(U.mapPass),n.clear(),n.renderBufferDirect(I,null,V,y,A,null),b.uniforms.shadow_pass.value=U.mapPass.texture,b.uniforms.resolution.value=U.mapSize,b.uniforms.radius.value=U.radius,n.setRenderTarget(U.map),n.clear(),n.renderBufferDirect(I,null,V,b,A,null)}function D(U,I,V,B){let L=null;const W=V.isPointLight===!0?U.customDistanceMaterial:U.customDepthMaterial;if(W!==void 0)L=W;else if(L=V.isPointLight===!0?f:u,n.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0||I.alphaToCoverage===!0){const oe=L.uuid,ee=I.uuid;let he=d[oe];he===void 0&&(he={},d[oe]=he);let de=he[ee];de===void 0&&(de=L.clone(),he[ee]=de,I.addEventListener("dispose",z)),L=de}if(L.visible=I.visible,L.wireframe=I.wireframe,B===Ao?L.side=I.shadowSide!==null?I.shadowSide:I.side:L.side=I.shadowSide!==null?I.shadowSide:g[I.side],L.alphaMap=I.alphaMap,L.alphaTest=I.alphaToCoverage===!0?.5:I.alphaTest,L.map=I.map,L.clipShadows=I.clipShadows,L.clippingPlanes=I.clippingPlanes,L.clipIntersection=I.clipIntersection,L.displacementMap=I.displacementMap,L.displacementScale=I.displacementScale,L.displacementBias=I.displacementBias,L.wireframeLinewidth=I.wireframeLinewidth,L.linewidth=I.linewidth,V.isPointLight===!0&&L.isMeshDistanceMaterial===!0){const oe=n.properties.get(L);oe.light=V}return L}function N(U,I,V,B,L){if(U.visible===!1)return;if(U.layers.test(I.layers)&&(U.isMesh||U.isLine||U.isPoints)&&(U.castShadow||U.receiveShadow&&L===Ao)&&(!U.frustumCulled||i.intersectsObject(U))){U.modelViewMatrix.multiplyMatrices(V.matrixWorldInverse,U.matrixWorld);const ee=e.update(U),he=U.material;if(Array.isArray(he)){const de=ee.groups;for(let k=0,Y=de.length;k<Y;k++){const K=de[k],ue=he[K.materialIndex];if(ue&&ue.visible){const G=D(U,ue,B,L);U.onBeforeShadow(n,U,I,V,ee,G,K),n.renderBufferDirect(V,null,ee,G,U,K),U.onAfterShadow(n,U,I,V,ee,G,K)}}}else if(he.visible){const de=D(U,he,B,L);U.onBeforeShadow(n,U,I,V,ee,de,null),n.renderBufferDirect(V,null,ee,de,U,null),U.onAfterShadow(n,U,I,V,ee,de,null)}}const oe=U.children;for(let ee=0,he=oe.length;ee<he;ee++)N(oe[ee],I,V,B,L)}function z(U){U.target.removeEventListener("dispose",z);for(const V in d){const B=d[V],L=U.target.uuid;L in B&&(B[L].dispose(),delete B[L])}}}const $G={[Ab]:wb,[Cb]:Ob,[Rb]:Nb,[Hh]:Db,[wb]:Ab,[Ob]:Cb,[Nb]:Rb,[Db]:Hh};function jG(n,e){function t(){let re=!1;const Je=new An;let ke=null;const lt=new An(0,0,0,0);return{setMask:function(Ze){ke!==Ze&&!re&&(n.colorMask(Ze,Ze,Ze,Ze),ke=Ze)},setLocked:function(Ze){re=Ze},setClear:function(Ze,Fe,ut,Tt,ln){ln===!0&&(Ze*=Tt,Fe*=Tt,ut*=Tt),Je.set(Ze,Fe,ut,Tt),lt.equals(Je)===!1&&(n.clearColor(Ze,Fe,ut,Tt),lt.copy(Je))},reset:function(){re=!1,ke=null,lt.set(-1,0,0,0)}}}function i(){let re=!1,Je=!1,ke=null,lt=null,Ze=null;return{setReversed:function(Fe){if(Je!==Fe){const ut=e.get("EXT_clip_control");Fe?ut.clipControlEXT(ut.LOWER_LEFT_EXT,ut.ZERO_TO_ONE_EXT):ut.clipControlEXT(ut.LOWER_LEFT_EXT,ut.NEGATIVE_ONE_TO_ONE_EXT),Je=Fe;const Tt=Ze;Ze=null,this.setClear(Tt)}},getReversed:function(){return Je},setTest:function(Fe){Fe?je(n.DEPTH_TEST):Xe(n.DEPTH_TEST)},setMask:function(Fe){ke!==Fe&&!re&&(n.depthMask(Fe),ke=Fe)},setFunc:function(Fe){if(Je&&(Fe=$G[Fe]),lt!==Fe){switch(Fe){case Ab:n.depthFunc(n.NEVER);break;case wb:n.depthFunc(n.ALWAYS);break;case Cb:n.depthFunc(n.LESS);break;case Hh:n.depthFunc(n.LEQUAL);break;case Rb:n.depthFunc(n.EQUAL);break;case Db:n.depthFunc(n.GEQUAL);break;case Ob:n.depthFunc(n.GREATER);break;case Nb:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}lt=Fe}},setLocked:function(Fe){re=Fe},setClear:function(Fe){Ze!==Fe&&(Je&&(Fe=1-Fe),n.clearDepth(Fe),Ze=Fe)},reset:function(){re=!1,ke=null,lt=null,Ze=null,Je=!1}}}function r(){let re=!1,Je=null,ke=null,lt=null,Ze=null,Fe=null,ut=null,Tt=null,ln=null;return{setTest:function(Qt){re||(Qt?je(n.STENCIL_TEST):Xe(n.STENCIL_TEST))},setMask:function(Qt){Je!==Qt&&!re&&(n.stencilMask(Qt),Je=Qt)},setFunc:function(Qt,Ei,ei){(ke!==Qt||lt!==Ei||Ze!==ei)&&(n.stencilFunc(Qt,Ei,ei),ke=Qt,lt=Ei,Ze=ei)},setOp:function(Qt,Ei,ei){(Fe!==Qt||ut!==Ei||Tt!==ei)&&(n.stencilOp(Qt,Ei,ei),Fe=Qt,ut=Ei,Tt=ei)},setLocked:function(Qt){re=Qt},setClear:function(Qt){ln!==Qt&&(n.clearStencil(Qt),ln=Qt)},reset:function(){re=!1,Je=null,ke=null,lt=null,Ze=null,Fe=null,ut=null,Tt=null,ln=null}}}const a=new t,o=new i,u=new r,f=new WeakMap,d=new WeakMap;let m={},g={},y=new WeakMap,b=[],_=null,A=!1,T=null,S=null,C=null,D=null,N=null,z=null,U=null,I=new xt(0,0,0),V=0,B=!1,L=null,W=null,oe=null,ee=null,he=null;const de=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let k=!1,Y=0;const K=n.getParameter(n.VERSION);K.indexOf("WebGL")!==-1?(Y=parseFloat(/^WebGL (\d)/.exec(K)[1]),k=Y>=1):K.indexOf("OpenGL ES")!==-1&&(Y=parseFloat(/^OpenGL ES (\d)/.exec(K)[1]),k=Y>=2);let ue=null,G={};const te=n.getParameter(n.SCISSOR_BOX),Se=n.getParameter(n.VIEWPORT),ye=new An().fromArray(te),se=new An().fromArray(Se);function we(re,Je,ke,lt){const Ze=new Uint8Array(4),Fe=n.createTexture();n.bindTexture(re,Fe),n.texParameteri(re,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(re,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let ut=0;ut<ke;ut++)re===n.TEXTURE_3D||re===n.TEXTURE_2D_ARRAY?n.texImage3D(Je,0,n.RGBA,1,1,lt,0,n.RGBA,n.UNSIGNED_BYTE,Ze):n.texImage2D(Je+ut,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ze);return Fe}const Be={};Be[n.TEXTURE_2D]=we(n.TEXTURE_2D,n.TEXTURE_2D,1),Be[n.TEXTURE_CUBE_MAP]=we(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Be[n.TEXTURE_2D_ARRAY]=we(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Be[n.TEXTURE_3D]=we(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),u.setClear(0),je(n.DEPTH_TEST),o.setFunc(Hh),$e(!1),We(LM),je(n.CULL_FACE),Z(_u);function je(re){m[re]!==!0&&(n.enable(re),m[re]=!0)}function Xe(re){m[re]!==!1&&(n.disable(re),m[re]=!1)}function gt(re,Je){return g[re]!==Je?(n.bindFramebuffer(re,Je),g[re]=Je,re===n.DRAW_FRAMEBUFFER&&(g[n.FRAMEBUFFER]=Je),re===n.FRAMEBUFFER&&(g[n.DRAW_FRAMEBUFFER]=Je),!0):!1}function bt(re,Je){let ke=b,lt=!1;if(re){ke=y.get(Je),ke===void 0&&(ke=[],y.set(Je,ke));const Ze=re.textures;if(ke.length!==Ze.length||ke[0]!==n.COLOR_ATTACHMENT0){for(let Fe=0,ut=Ze.length;Fe<ut;Fe++)ke[Fe]=n.COLOR_ATTACHMENT0+Fe;ke.length=Ze.length,lt=!0}}else ke[0]!==n.BACK&&(ke[0]=n.BACK,lt=!0);lt&&n.drawBuffers(ke)}function Zt(re){return _!==re?(n.useProgram(re),_=re,!0):!1}const Pt={[Gc]:n.FUNC_ADD,[_N]:n.FUNC_SUBTRACT,[SN]:n.FUNC_REVERSE_SUBTRACT};Pt[EN]=n.MIN,Pt[MN]=n.MAX;const Mt={[TN]:n.ZERO,[AN]:n.ONE,[wN]:n.SRC_COLOR,[Mb]:n.SRC_ALPHA,[PN]:n.SRC_ALPHA_SATURATE,[ON]:n.DST_COLOR,[RN]:n.DST_ALPHA,[CN]:n.ONE_MINUS_SRC_COLOR,[Tb]:n.ONE_MINUS_SRC_ALPHA,[NN]:n.ONE_MINUS_DST_COLOR,[DN]:n.ONE_MINUS_DST_ALPHA,[LN]:n.CONSTANT_COLOR,[UN]:n.ONE_MINUS_CONSTANT_COLOR,[zN]:n.CONSTANT_ALPHA,[BN]:n.ONE_MINUS_CONSTANT_ALPHA};function Z(re,Je,ke,lt,Ze,Fe,ut,Tt,ln,Qt){if(re===_u){A===!0&&(Xe(n.BLEND),A=!1);return}if(A===!1&&(je(n.BLEND),A=!0),re!==bN){if(re!==T||Qt!==B){if((S!==Gc||N!==Gc)&&(n.blendEquation(n.FUNC_ADD),S=Gc,N=Gc),Qt)switch(re){case Lh:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case UM:n.blendFunc(n.ONE,n.ONE);break;case zM:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case BM:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",re);break}else switch(re){case Lh:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case UM:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case zM:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case BM:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",re);break}C=null,D=null,z=null,U=null,I.set(0,0,0),V=0,T=re,B=Qt}return}Ze=Ze||Je,Fe=Fe||ke,ut=ut||lt,(Je!==S||Ze!==N)&&(n.blendEquationSeparate(Pt[Je],Pt[Ze]),S=Je,N=Ze),(ke!==C||lt!==D||Fe!==z||ut!==U)&&(n.blendFuncSeparate(Mt[ke],Mt[lt],Mt[Fe],Mt[ut]),C=ke,D=lt,z=Fe,U=ut),(Tt.equals(I)===!1||ln!==V)&&(n.blendColor(Tt.r,Tt.g,Tt.b,ln),I.copy(Tt),V=ln),T=re,B=!1}function Qe(re,Je){re.side===xl?Xe(n.CULL_FACE):je(n.CULL_FACE);let ke=re.side===Ma;Je&&(ke=!ke),$e(ke),re.blending===Lh&&re.transparent===!1?Z(_u):Z(re.blending,re.blendEquation,re.blendSrc,re.blendDst,re.blendEquationAlpha,re.blendSrcAlpha,re.blendDstAlpha,re.blendColor,re.blendAlpha,re.premultipliedAlpha),o.setFunc(re.depthFunc),o.setTest(re.depthTest),o.setMask(re.depthWrite),a.setMask(re.colorWrite);const lt=re.stencilWrite;u.setTest(lt),lt&&(u.setMask(re.stencilWriteMask),u.setFunc(re.stencilFunc,re.stencilRef,re.stencilFuncMask),u.setOp(re.stencilFail,re.stencilZFail,re.stencilZPass)),rt(re.polygonOffset,re.polygonOffsetFactor,re.polygonOffsetUnits),re.alphaToCoverage===!0?je(n.SAMPLE_ALPHA_TO_COVERAGE):Xe(n.SAMPLE_ALPHA_TO_COVERAGE)}function $e(re){L!==re&&(re?n.frontFace(n.CW):n.frontFace(n.CCW),L=re)}function We(re){re!==vN?(je(n.CULL_FACE),re!==W&&(re===LM?n.cullFace(n.BACK):re===yN?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Xe(n.CULL_FACE),W=re}function Pe(re){re!==oe&&(k&&n.lineWidth(re),oe=re)}function rt(re,Je,ke){re?(je(n.POLYGON_OFFSET_FILL),(ee!==Je||he!==ke)&&(n.polygonOffset(Je,ke),ee=Je,he=ke)):Xe(n.POLYGON_OFFSET_FILL)}function He(re){re?je(n.SCISSOR_TEST):Xe(n.SCISSOR_TEST)}function at(re){re===void 0&&(re=n.TEXTURE0+de-1),ue!==re&&(n.activeTexture(re),ue=re)}function wt(re,Je,ke){ke===void 0&&(ue===null?ke=n.TEXTURE0+de-1:ke=ue);let lt=G[ke];lt===void 0&&(lt={type:void 0,texture:void 0},G[ke]=lt),(lt.type!==re||lt.texture!==Je)&&(ue!==ke&&(n.activeTexture(ke),ue=ke),n.bindTexture(re,Je||Be[re]),lt.type=re,lt.texture=Je)}function j(){const re=G[ue];re!==void 0&&re.type!==void 0&&(n.bindTexture(re.type,null),re.type=void 0,re.texture=void 0)}function H(){try{n.compressedTexImage2D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function pe(){try{n.compressedTexImage3D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Me(){try{n.texSubImage2D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Ne(){try{n.texSubImage3D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Oe(){try{n.compressedTexSubImage2D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function st(){try{n.compressedTexSubImage3D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function nt(){try{n.texStorage2D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function dt(){try{n.texStorage3D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function vt(){try{n.texImage2D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Le(){try{n.texImage3D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function it(re){ye.equals(re)===!1&&(n.scissor(re.x,re.y,re.z,re.w),ye.copy(re))}function yt(re){se.equals(re)===!1&&(n.viewport(re.x,re.y,re.z,re.w),se.copy(re))}function ie(re,Je){let ke=d.get(Je);ke===void 0&&(ke=new WeakMap,d.set(Je,ke));let lt=ke.get(re);lt===void 0&&(lt=n.getUniformBlockIndex(Je,re.name),ke.set(re,lt))}function xe(re,Je){const lt=d.get(Je).get(re);f.get(Je)!==lt&&(n.uniformBlockBinding(Je,lt,re.__bindingPointIndex),f.set(Je,lt))}function Ke(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},ue=null,G={},g={},y=new WeakMap,b=[],_=null,A=!1,T=null,S=null,C=null,D=null,N=null,z=null,U=null,I=new xt(0,0,0),V=0,B=!1,L=null,W=null,oe=null,ee=null,he=null,ye.set(0,0,n.canvas.width,n.canvas.height),se.set(0,0,n.canvas.width,n.canvas.height),a.reset(),o.reset(),u.reset()}return{buffers:{color:a,depth:o,stencil:u},enable:je,disable:Xe,bindFramebuffer:gt,drawBuffers:bt,useProgram:Zt,setBlending:Z,setMaterial:Qe,setFlipSided:$e,setCullFace:We,setLineWidth:Pe,setPolygonOffset:rt,setScissorTest:He,activeTexture:at,bindTexture:wt,unbindTexture:j,compressedTexImage2D:H,compressedTexImage3D:pe,texImage2D:vt,texImage3D:Le,updateUBOMapping:ie,uniformBlockBinding:xe,texStorage2D:nt,texStorage3D:dt,texSubImage2D:Me,texSubImage3D:Ne,compressedTexSubImage2D:Oe,compressedTexSubImage3D:st,scissor:it,viewport:yt,reset:Ke}}function XG(n,e,t,i,r,a,o){const u=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,f=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new Ie,m=new WeakMap;let g;const y=new WeakMap;let b=!1;try{b=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(j,H){return b?new OffscreenCanvas(j,H):I0("canvas")}function A(j,H,pe){let Me=1;const Ne=wt(j);if((Ne.width>pe||Ne.height>pe)&&(Me=pe/Math.max(Ne.width,Ne.height)),Me<1)if(typeof HTMLImageElement<"u"&&j instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&j instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&j instanceof ImageBitmap||typeof VideoFrame<"u"&&j instanceof VideoFrame){const Oe=Math.floor(Me*Ne.width),st=Math.floor(Me*Ne.height);g===void 0&&(g=_(Oe,st));const nt=H?_(Oe,st):g;return nt.width=Oe,nt.height=st,nt.getContext("2d").drawImage(j,0,0,Oe,st),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ne.width+"x"+Ne.height+") to ("+Oe+"x"+st+")."),nt}else return"data"in j&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ne.width+"x"+Ne.height+")."),j;return j}function T(j){return j.generateMipmaps}function S(j){n.generateMipmap(j)}function C(j){return j.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:j.isWebGL3DRenderTarget?n.TEXTURE_3D:j.isWebGLArrayRenderTarget||j.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function D(j,H,pe,Me,Ne=!1){if(j!==null){if(n[j]!==void 0)return n[j];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+j+"'")}let Oe=H;if(H===n.RED&&(pe===n.FLOAT&&(Oe=n.R32F),pe===n.HALF_FLOAT&&(Oe=n.R16F),pe===n.UNSIGNED_BYTE&&(Oe=n.R8)),H===n.RED_INTEGER&&(pe===n.UNSIGNED_BYTE&&(Oe=n.R8UI),pe===n.UNSIGNED_SHORT&&(Oe=n.R16UI),pe===n.UNSIGNED_INT&&(Oe=n.R32UI),pe===n.BYTE&&(Oe=n.R8I),pe===n.SHORT&&(Oe=n.R16I),pe===n.INT&&(Oe=n.R32I)),H===n.RG&&(pe===n.FLOAT&&(Oe=n.RG32F),pe===n.HALF_FLOAT&&(Oe=n.RG16F),pe===n.UNSIGNED_BYTE&&(Oe=n.RG8)),H===n.RG_INTEGER&&(pe===n.UNSIGNED_BYTE&&(Oe=n.RG8UI),pe===n.UNSIGNED_SHORT&&(Oe=n.RG16UI),pe===n.UNSIGNED_INT&&(Oe=n.RG32UI),pe===n.BYTE&&(Oe=n.RG8I),pe===n.SHORT&&(Oe=n.RG16I),pe===n.INT&&(Oe=n.RG32I)),H===n.RGB_INTEGER&&(pe===n.UNSIGNED_BYTE&&(Oe=n.RGB8UI),pe===n.UNSIGNED_SHORT&&(Oe=n.RGB16UI),pe===n.UNSIGNED_INT&&(Oe=n.RGB32UI),pe===n.BYTE&&(Oe=n.RGB8I),pe===n.SHORT&&(Oe=n.RGB16I),pe===n.INT&&(Oe=n.RGB32I)),H===n.RGBA_INTEGER&&(pe===n.UNSIGNED_BYTE&&(Oe=n.RGBA8UI),pe===n.UNSIGNED_SHORT&&(Oe=n.RGBA16UI),pe===n.UNSIGNED_INT&&(Oe=n.RGBA32UI),pe===n.BYTE&&(Oe=n.RGBA8I),pe===n.SHORT&&(Oe=n.RGBA16I),pe===n.INT&&(Oe=n.RGBA32I)),H===n.RGB&&pe===n.UNSIGNED_INT_5_9_9_9_REV&&(Oe=n.RGB9_E5),H===n.RGBA){const st=Ne?U0:bn.getTransfer(Me);pe===n.FLOAT&&(Oe=n.RGBA32F),pe===n.HALF_FLOAT&&(Oe=n.RGBA16F),pe===n.UNSIGNED_BYTE&&(Oe=st===kn?n.SRGB8_ALPHA8:n.RGBA8),pe===n.UNSIGNED_SHORT_4_4_4_4&&(Oe=n.RGBA4),pe===n.UNSIGNED_SHORT_5_5_5_1&&(Oe=n.RGB5_A1)}return(Oe===n.R16F||Oe===n.R32F||Oe===n.RG16F||Oe===n.RG32F||Oe===n.RGBA16F||Oe===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Oe}function N(j,H){let pe;return j?H===null||H===Du||H===$p?pe=n.DEPTH24_STENCIL8:H===$a?pe=n.DEPTH32F_STENCIL8:H===Gp&&(pe=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):H===null||H===Du||H===$p?pe=n.DEPTH_COMPONENT24:H===$a?pe=n.DEPTH_COMPONENT32F:H===Gp&&(pe=n.DEPTH_COMPONENT16),pe}function z(j,H){return T(j)===!0||j.isFramebufferTexture&&j.minFilter!==Nr&&j.minFilter!==ur?Math.log2(Math.max(H.width,H.height))+1:j.mipmaps!==void 0&&j.mipmaps.length>0?j.mipmaps.length:j.isCompressedTexture&&Array.isArray(j.image)?H.mipmaps.length:1}function U(j){const H=j.target;H.removeEventListener("dispose",U),V(H),H.isVideoTexture&&m.delete(H)}function I(j){const H=j.target;H.removeEventListener("dispose",I),L(H)}function V(j){const H=i.get(j);if(H.__webglInit===void 0)return;const pe=j.source,Me=y.get(pe);if(Me){const Ne=Me[H.__cacheKey];Ne.usedTimes--,Ne.usedTimes===0&&B(j),Object.keys(Me).length===0&&y.delete(pe)}i.remove(j)}function B(j){const H=i.get(j);n.deleteTexture(H.__webglTexture);const pe=j.source,Me=y.get(pe);delete Me[H.__cacheKey],o.memory.textures--}function L(j){const H=i.get(j);if(j.depthTexture&&(j.depthTexture.dispose(),i.remove(j.depthTexture)),j.isWebGLCubeRenderTarget)for(let Me=0;Me<6;Me++){if(Array.isArray(H.__webglFramebuffer[Me]))for(let Ne=0;Ne<H.__webglFramebuffer[Me].length;Ne++)n.deleteFramebuffer(H.__webglFramebuffer[Me][Ne]);else n.deleteFramebuffer(H.__webglFramebuffer[Me]);H.__webglDepthbuffer&&n.deleteRenderbuffer(H.__webglDepthbuffer[Me])}else{if(Array.isArray(H.__webglFramebuffer))for(let Me=0;Me<H.__webglFramebuffer.length;Me++)n.deleteFramebuffer(H.__webglFramebuffer[Me]);else n.deleteFramebuffer(H.__webglFramebuffer);if(H.__webglDepthbuffer&&n.deleteRenderbuffer(H.__webglDepthbuffer),H.__webglMultisampledFramebuffer&&n.deleteFramebuffer(H.__webglMultisampledFramebuffer),H.__webglColorRenderbuffer)for(let Me=0;Me<H.__webglColorRenderbuffer.length;Me++)H.__webglColorRenderbuffer[Me]&&n.deleteRenderbuffer(H.__webglColorRenderbuffer[Me]);H.__webglDepthRenderbuffer&&n.deleteRenderbuffer(H.__webglDepthRenderbuffer)}const pe=j.textures;for(let Me=0,Ne=pe.length;Me<Ne;Me++){const Oe=i.get(pe[Me]);Oe.__webglTexture&&(n.deleteTexture(Oe.__webglTexture),o.memory.textures--),i.remove(pe[Me])}i.remove(j)}let W=0;function oe(){W=0}function ee(){const j=W;return j>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+j+" texture units while this GPU supports only "+r.maxTextures),W+=1,j}function he(j){const H=[];return H.push(j.wrapS),H.push(j.wrapT),H.push(j.wrapR||0),H.push(j.magFilter),H.push(j.minFilter),H.push(j.anisotropy),H.push(j.internalFormat),H.push(j.format),H.push(j.type),H.push(j.generateMipmaps),H.push(j.premultiplyAlpha),H.push(j.flipY),H.push(j.unpackAlignment),H.push(j.colorSpace),H.join()}function de(j,H){const pe=i.get(j);if(j.isVideoTexture&&He(j),j.isRenderTargetTexture===!1&&j.version>0&&pe.__version!==j.version){const Me=j.image;if(Me===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Me.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Be(pe,j,H);return}}t.bindTexture(n.TEXTURE_2D,pe.__webglTexture,n.TEXTURE0+H)}function k(j,H){const pe=i.get(j);if(j.version>0&&pe.__version!==j.version){Be(pe,j,H);return}t.bindTexture(n.TEXTURE_2D_ARRAY,pe.__webglTexture,n.TEXTURE0+H)}function Y(j,H){const pe=i.get(j);if(j.version>0&&pe.__version!==j.version){Be(pe,j,H);return}t.bindTexture(n.TEXTURE_3D,pe.__webglTexture,n.TEXTURE0+H)}function K(j,H){const pe=i.get(j);if(j.version>0&&pe.__version!==j.version){je(pe,j,H);return}t.bindTexture(n.TEXTURE_CUBE_MAP,pe.__webglTexture,n.TEXTURE0+H)}const ue={[O0]:n.REPEAT,[ks]:n.CLAMP_TO_EDGE,[N0]:n.MIRRORED_REPEAT},G={[Nr]:n.NEAREST,[oA]:n.NEAREST_MIPMAP_NEAREST,[Cp]:n.NEAREST_MIPMAP_LINEAR,[ur]:n.LINEAR,[l0]:n.LINEAR_MIPMAP_NEAREST,[bl]:n.LINEAR_MIPMAP_LINEAR},te={[JN]:n.NEVER,[aP]:n.ALWAYS,[eP]:n.LESS,[gA]:n.LEQUAL,[tP]:n.EQUAL,[rP]:n.GEQUAL,[nP]:n.GREATER,[iP]:n.NOTEQUAL};function Se(j,H){if(H.type===$a&&e.has("OES_texture_float_linear")===!1&&(H.magFilter===ur||H.magFilter===l0||H.magFilter===Cp||H.magFilter===bl||H.minFilter===ur||H.minFilter===l0||H.minFilter===Cp||H.minFilter===bl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(j,n.TEXTURE_WRAP_S,ue[H.wrapS]),n.texParameteri(j,n.TEXTURE_WRAP_T,ue[H.wrapT]),(j===n.TEXTURE_3D||j===n.TEXTURE_2D_ARRAY)&&n.texParameteri(j,n.TEXTURE_WRAP_R,ue[H.wrapR]),n.texParameteri(j,n.TEXTURE_MAG_FILTER,G[H.magFilter]),n.texParameteri(j,n.TEXTURE_MIN_FILTER,G[H.minFilter]),H.compareFunction&&(n.texParameteri(j,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(j,n.TEXTURE_COMPARE_FUNC,te[H.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(H.magFilter===Nr||H.minFilter!==Cp&&H.minFilter!==bl||H.type===$a&&e.has("OES_texture_float_linear")===!1)return;if(H.anisotropy>1||i.get(H).__currentAnisotropy){const pe=e.get("EXT_texture_filter_anisotropic");n.texParameterf(j,pe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(H.anisotropy,r.getMaxAnisotropy())),i.get(H).__currentAnisotropy=H.anisotropy}}}function ye(j,H){let pe=!1;j.__webglInit===void 0&&(j.__webglInit=!0,H.addEventListener("dispose",U));const Me=H.source;let Ne=y.get(Me);Ne===void 0&&(Ne={},y.set(Me,Ne));const Oe=he(H);if(Oe!==j.__cacheKey){Ne[Oe]===void 0&&(Ne[Oe]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,pe=!0),Ne[Oe].usedTimes++;const st=Ne[j.__cacheKey];st!==void 0&&(Ne[j.__cacheKey].usedTimes--,st.usedTimes===0&&B(H)),j.__cacheKey=Oe,j.__webglTexture=Ne[Oe].texture}return pe}function se(j,H,pe){return Math.floor(Math.floor(j/pe)/H)}function we(j,H,pe,Me){const Oe=j.updateRanges;if(Oe.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,H.width,H.height,pe,Me,H.data);else{Oe.sort((Le,it)=>Le.start-it.start);let st=0;for(let Le=1;Le<Oe.length;Le++){const it=Oe[st],yt=Oe[Le],ie=it.start+it.count,xe=se(yt.start,H.width,4),Ke=se(it.start,H.width,4);yt.start<=ie+1&&xe===Ke&&se(yt.start+yt.count-1,H.width,4)===xe?it.count=Math.max(it.count,yt.start+yt.count-it.start):(++st,Oe[st]=yt)}Oe.length=st+1;const nt=n.getParameter(n.UNPACK_ROW_LENGTH),dt=n.getParameter(n.UNPACK_SKIP_PIXELS),vt=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,H.width);for(let Le=0,it=Oe.length;Le<it;Le++){const yt=Oe[Le],ie=Math.floor(yt.start/4),xe=Math.ceil(yt.count/4),Ke=ie%H.width,re=Math.floor(ie/H.width),Je=xe,ke=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,Ke),n.pixelStorei(n.UNPACK_SKIP_ROWS,re),t.texSubImage2D(n.TEXTURE_2D,0,Ke,re,Je,ke,pe,Me,H.data)}j.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,nt),n.pixelStorei(n.UNPACK_SKIP_PIXELS,dt),n.pixelStorei(n.UNPACK_SKIP_ROWS,vt)}}function Be(j,H,pe){let Me=n.TEXTURE_2D;(H.isDataArrayTexture||H.isCompressedArrayTexture)&&(Me=n.TEXTURE_2D_ARRAY),H.isData3DTexture&&(Me=n.TEXTURE_3D);const Ne=ye(j,H),Oe=H.source;t.bindTexture(Me,j.__webglTexture,n.TEXTURE0+pe);const st=i.get(Oe);if(Oe.version!==st.__version||Ne===!0){t.activeTexture(n.TEXTURE0+pe);const nt=bn.getPrimaries(bn.workingColorSpace),dt=H.colorSpace===vu?null:bn.getPrimaries(H.colorSpace),vt=H.colorSpace===vu||nt===dt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,H.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,H.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,vt);let Le=A(H.image,!1,r.maxTextureSize);Le=at(H,Le);const it=a.convert(H.format,H.colorSpace),yt=a.convert(H.type);let ie=D(H.internalFormat,it,yt,H.colorSpace,H.isVideoTexture);Se(Me,H);let xe;const Ke=H.mipmaps,re=H.isVideoTexture!==!0,Je=st.__version===void 0||Ne===!0,ke=Oe.dataReady,lt=z(H,Le);if(H.isDepthTexture)ie=N(H.format===Xp,H.type),Je&&(re?t.texStorage2D(n.TEXTURE_2D,1,ie,Le.width,Le.height):t.texImage2D(n.TEXTURE_2D,0,ie,Le.width,Le.height,0,it,yt,null));else if(H.isDataTexture)if(Ke.length>0){re&&Je&&t.texStorage2D(n.TEXTURE_2D,lt,ie,Ke[0].width,Ke[0].height);for(let Ze=0,Fe=Ke.length;Ze<Fe;Ze++)xe=Ke[Ze],re?ke&&t.texSubImage2D(n.TEXTURE_2D,Ze,0,0,xe.width,xe.height,it,yt,xe.data):t.texImage2D(n.TEXTURE_2D,Ze,ie,xe.width,xe.height,0,it,yt,xe.data);H.generateMipmaps=!1}else re?(Je&&t.texStorage2D(n.TEXTURE_2D,lt,ie,Le.width,Le.height),ke&&we(H,Le,it,yt)):t.texImage2D(n.TEXTURE_2D,0,ie,Le.width,Le.height,0,it,yt,Le.data);else if(H.isCompressedTexture)if(H.isCompressedArrayTexture){re&&Je&&t.texStorage3D(n.TEXTURE_2D_ARRAY,lt,ie,Ke[0].width,Ke[0].height,Le.depth);for(let Ze=0,Fe=Ke.length;Ze<Fe;Ze++)if(xe=Ke[Ze],H.format!==qr)if(it!==null)if(re){if(ke)if(H.layerUpdates.size>0){const ut=qM(xe.width,xe.height,H.format,H.type);for(const Tt of H.layerUpdates){const ln=xe.data.subarray(Tt*ut/xe.data.BYTES_PER_ELEMENT,(Tt+1)*ut/xe.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ze,0,0,Tt,xe.width,xe.height,1,it,ln)}H.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ze,0,0,0,xe.width,xe.height,Le.depth,it,xe.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Ze,ie,xe.width,xe.height,Le.depth,0,xe.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else re?ke&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,Ze,0,0,0,xe.width,xe.height,Le.depth,it,yt,xe.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Ze,ie,xe.width,xe.height,Le.depth,0,it,yt,xe.data)}else{re&&Je&&t.texStorage2D(n.TEXTURE_2D,lt,ie,Ke[0].width,Ke[0].height);for(let Ze=0,Fe=Ke.length;Ze<Fe;Ze++)xe=Ke[Ze],H.format!==qr?it!==null?re?ke&&t.compressedTexSubImage2D(n.TEXTURE_2D,Ze,0,0,xe.width,xe.height,it,xe.data):t.compressedTexImage2D(n.TEXTURE_2D,Ze,ie,xe.width,xe.height,0,xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):re?ke&&t.texSubImage2D(n.TEXTURE_2D,Ze,0,0,xe.width,xe.height,it,yt,xe.data):t.texImage2D(n.TEXTURE_2D,Ze,ie,xe.width,xe.height,0,it,yt,xe.data)}else if(H.isDataArrayTexture)if(re){if(Je&&t.texStorage3D(n.TEXTURE_2D_ARRAY,lt,ie,Le.width,Le.height,Le.depth),ke)if(H.layerUpdates.size>0){const Ze=qM(Le.width,Le.height,H.format,H.type);for(const Fe of H.layerUpdates){const ut=Le.data.subarray(Fe*Ze/Le.data.BYTES_PER_ELEMENT,(Fe+1)*Ze/Le.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Fe,Le.width,Le.height,1,it,yt,ut)}H.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Le.width,Le.height,Le.depth,it,yt,Le.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,ie,Le.width,Le.height,Le.depth,0,it,yt,Le.data);else if(H.isData3DTexture)re?(Je&&t.texStorage3D(n.TEXTURE_3D,lt,ie,Le.width,Le.height,Le.depth),ke&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Le.width,Le.height,Le.depth,it,yt,Le.data)):t.texImage3D(n.TEXTURE_3D,0,ie,Le.width,Le.height,Le.depth,0,it,yt,Le.data);else if(H.isFramebufferTexture){if(Je)if(re)t.texStorage2D(n.TEXTURE_2D,lt,ie,Le.width,Le.height);else{let Ze=Le.width,Fe=Le.height;for(let ut=0;ut<lt;ut++)t.texImage2D(n.TEXTURE_2D,ut,ie,Ze,Fe,0,it,yt,null),Ze>>=1,Fe>>=1}}else if(Ke.length>0){if(re&&Je){const Ze=wt(Ke[0]);t.texStorage2D(n.TEXTURE_2D,lt,ie,Ze.width,Ze.height)}for(let Ze=0,Fe=Ke.length;Ze<Fe;Ze++)xe=Ke[Ze],re?ke&&t.texSubImage2D(n.TEXTURE_2D,Ze,0,0,it,yt,xe):t.texImage2D(n.TEXTURE_2D,Ze,ie,it,yt,xe);H.generateMipmaps=!1}else if(re){if(Je){const Ze=wt(Le);t.texStorage2D(n.TEXTURE_2D,lt,ie,Ze.width,Ze.height)}ke&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,it,yt,Le)}else t.texImage2D(n.TEXTURE_2D,0,ie,it,yt,Le);T(H)&&S(Me),st.__version=Oe.version,H.onUpdate&&H.onUpdate(H)}j.__version=H.version}function je(j,H,pe){if(H.image.length!==6)return;const Me=ye(j,H),Ne=H.source;t.bindTexture(n.TEXTURE_CUBE_MAP,j.__webglTexture,n.TEXTURE0+pe);const Oe=i.get(Ne);if(Ne.version!==Oe.__version||Me===!0){t.activeTexture(n.TEXTURE0+pe);const st=bn.getPrimaries(bn.workingColorSpace),nt=H.colorSpace===vu?null:bn.getPrimaries(H.colorSpace),dt=H.colorSpace===vu||st===nt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,H.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,H.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,dt);const vt=H.isCompressedTexture||H.image[0].isCompressedTexture,Le=H.image[0]&&H.image[0].isDataTexture,it=[];for(let Fe=0;Fe<6;Fe++)!vt&&!Le?it[Fe]=A(H.image[Fe],!0,r.maxCubemapSize):it[Fe]=Le?H.image[Fe].image:H.image[Fe],it[Fe]=at(H,it[Fe]);const yt=it[0],ie=a.convert(H.format,H.colorSpace),xe=a.convert(H.type),Ke=D(H.internalFormat,ie,xe,H.colorSpace),re=H.isVideoTexture!==!0,Je=Oe.__version===void 0||Me===!0,ke=Ne.dataReady;let lt=z(H,yt);Se(n.TEXTURE_CUBE_MAP,H);let Ze;if(vt){re&&Je&&t.texStorage2D(n.TEXTURE_CUBE_MAP,lt,Ke,yt.width,yt.height);for(let Fe=0;Fe<6;Fe++){Ze=it[Fe].mipmaps;for(let ut=0;ut<Ze.length;ut++){const Tt=Ze[ut];H.format!==qr?ie!==null?re?ke&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,ut,0,0,Tt.width,Tt.height,ie,Tt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,ut,Ke,Tt.width,Tt.height,0,Tt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):re?ke&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,ut,0,0,Tt.width,Tt.height,ie,xe,Tt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,ut,Ke,Tt.width,Tt.height,0,ie,xe,Tt.data)}}}else{if(Ze=H.mipmaps,re&&Je){Ze.length>0&&lt++;const Fe=wt(it[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,lt,Ke,Fe.width,Fe.height)}for(let Fe=0;Fe<6;Fe++)if(Le){re?ke&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,0,0,0,it[Fe].width,it[Fe].height,ie,xe,it[Fe].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,0,Ke,it[Fe].width,it[Fe].height,0,ie,xe,it[Fe].data);for(let ut=0;ut<Ze.length;ut++){const ln=Ze[ut].image[Fe].image;re?ke&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,ut+1,0,0,ln.width,ln.height,ie,xe,ln.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,ut+1,Ke,ln.width,ln.height,0,ie,xe,ln.data)}}else{re?ke&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,0,0,0,ie,xe,it[Fe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,0,Ke,ie,xe,it[Fe]);for(let ut=0;ut<Ze.length;ut++){const Tt=Ze[ut];re?ke&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,ut+1,0,0,ie,xe,Tt.image[Fe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,ut+1,Ke,ie,xe,Tt.image[Fe])}}}T(H)&&S(n.TEXTURE_CUBE_MAP),Oe.__version=Ne.version,H.onUpdate&&H.onUpdate(H)}j.__version=H.version}function Xe(j,H,pe,Me,Ne,Oe){const st=a.convert(pe.format,pe.colorSpace),nt=a.convert(pe.type),dt=D(pe.internalFormat,st,nt,pe.colorSpace),vt=i.get(H),Le=i.get(pe);if(Le.__renderTarget=H,!vt.__hasExternalTextures){const it=Math.max(1,H.width>>Oe),yt=Math.max(1,H.height>>Oe);Ne===n.TEXTURE_3D||Ne===n.TEXTURE_2D_ARRAY?t.texImage3D(Ne,Oe,dt,it,yt,H.depth,0,st,nt,null):t.texImage2D(Ne,Oe,dt,it,yt,0,st,nt,null)}t.bindFramebuffer(n.FRAMEBUFFER,j),rt(H)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Me,Ne,Le.__webglTexture,0,Pe(H)):(Ne===n.TEXTURE_2D||Ne>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ne<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Me,Ne,Le.__webglTexture,Oe),t.bindFramebuffer(n.FRAMEBUFFER,null)}function gt(j,H,pe){if(n.bindRenderbuffer(n.RENDERBUFFER,j),H.depthBuffer){const Me=H.depthTexture,Ne=Me&&Me.isDepthTexture?Me.type:null,Oe=N(H.stencilBuffer,Ne),st=H.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,nt=Pe(H);rt(H)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,nt,Oe,H.width,H.height):pe?n.renderbufferStorageMultisample(n.RENDERBUFFER,nt,Oe,H.width,H.height):n.renderbufferStorage(n.RENDERBUFFER,Oe,H.width,H.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,st,n.RENDERBUFFER,j)}else{const Me=H.textures;for(let Ne=0;Ne<Me.length;Ne++){const Oe=Me[Ne],st=a.convert(Oe.format,Oe.colorSpace),nt=a.convert(Oe.type),dt=D(Oe.internalFormat,st,nt,Oe.colorSpace),vt=Pe(H);pe&&rt(H)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,vt,dt,H.width,H.height):rt(H)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,vt,dt,H.width,H.height):n.renderbufferStorage(n.RENDERBUFFER,dt,H.width,H.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function bt(j,H){if(H&&H.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,j),!(H.depthTexture&&H.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Me=i.get(H.depthTexture);Me.__renderTarget=H,(!Me.__webglTexture||H.depthTexture.image.width!==H.width||H.depthTexture.image.height!==H.height)&&(H.depthTexture.image.width=H.width,H.depthTexture.image.height=H.height,H.depthTexture.needsUpdate=!0),de(H.depthTexture,0);const Ne=Me.__webglTexture,Oe=Pe(H);if(H.depthTexture.format===jp)rt(H)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ne,0,Oe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ne,0);else if(H.depthTexture.format===Xp)rt(H)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ne,0,Oe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ne,0);else throw new Error("Unknown depthTexture format")}function Zt(j){const H=i.get(j),pe=j.isWebGLCubeRenderTarget===!0;if(H.__boundDepthTexture!==j.depthTexture){const Me=j.depthTexture;if(H.__depthDisposeCallback&&H.__depthDisposeCallback(),Me){const Ne=()=>{delete H.__boundDepthTexture,delete H.__depthDisposeCallback,Me.removeEventListener("dispose",Ne)};Me.addEventListener("dispose",Ne),H.__depthDisposeCallback=Ne}H.__boundDepthTexture=Me}if(j.depthTexture&&!H.__autoAllocateDepthBuffer){if(pe)throw new Error("target.depthTexture not supported in Cube render targets");const Me=j.texture.mipmaps;Me&&Me.length>0?bt(H.__webglFramebuffer[0],j):bt(H.__webglFramebuffer,j)}else if(pe){H.__webglDepthbuffer=[];for(let Me=0;Me<6;Me++)if(t.bindFramebuffer(n.FRAMEBUFFER,H.__webglFramebuffer[Me]),H.__webglDepthbuffer[Me]===void 0)H.__webglDepthbuffer[Me]=n.createRenderbuffer(),gt(H.__webglDepthbuffer[Me],j,!1);else{const Ne=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Oe=H.__webglDepthbuffer[Me];n.bindRenderbuffer(n.RENDERBUFFER,Oe),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ne,n.RENDERBUFFER,Oe)}}else{const Me=j.texture.mipmaps;if(Me&&Me.length>0?t.bindFramebuffer(n.FRAMEBUFFER,H.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,H.__webglFramebuffer),H.__webglDepthbuffer===void 0)H.__webglDepthbuffer=n.createRenderbuffer(),gt(H.__webglDepthbuffer,j,!1);else{const Ne=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Oe=H.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Oe),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ne,n.RENDERBUFFER,Oe)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Pt(j,H,pe){const Me=i.get(j);H!==void 0&&Xe(Me.__webglFramebuffer,j,j.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),pe!==void 0&&Zt(j)}function Mt(j){const H=j.texture,pe=i.get(j),Me=i.get(H);j.addEventListener("dispose",I);const Ne=j.textures,Oe=j.isWebGLCubeRenderTarget===!0,st=Ne.length>1;if(st||(Me.__webglTexture===void 0&&(Me.__webglTexture=n.createTexture()),Me.__version=H.version,o.memory.textures++),Oe){pe.__webglFramebuffer=[];for(let nt=0;nt<6;nt++)if(H.mipmaps&&H.mipmaps.length>0){pe.__webglFramebuffer[nt]=[];for(let dt=0;dt<H.mipmaps.length;dt++)pe.__webglFramebuffer[nt][dt]=n.createFramebuffer()}else pe.__webglFramebuffer[nt]=n.createFramebuffer()}else{if(H.mipmaps&&H.mipmaps.length>0){pe.__webglFramebuffer=[];for(let nt=0;nt<H.mipmaps.length;nt++)pe.__webglFramebuffer[nt]=n.createFramebuffer()}else pe.__webglFramebuffer=n.createFramebuffer();if(st)for(let nt=0,dt=Ne.length;nt<dt;nt++){const vt=i.get(Ne[nt]);vt.__webglTexture===void 0&&(vt.__webglTexture=n.createTexture(),o.memory.textures++)}if(j.samples>0&&rt(j)===!1){pe.__webglMultisampledFramebuffer=n.createFramebuffer(),pe.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,pe.__webglMultisampledFramebuffer);for(let nt=0;nt<Ne.length;nt++){const dt=Ne[nt];pe.__webglColorRenderbuffer[nt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,pe.__webglColorRenderbuffer[nt]);const vt=a.convert(dt.format,dt.colorSpace),Le=a.convert(dt.type),it=D(dt.internalFormat,vt,Le,dt.colorSpace,j.isXRRenderTarget===!0),yt=Pe(j);n.renderbufferStorageMultisample(n.RENDERBUFFER,yt,it,j.width,j.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+nt,n.RENDERBUFFER,pe.__webglColorRenderbuffer[nt])}n.bindRenderbuffer(n.RENDERBUFFER,null),j.depthBuffer&&(pe.__webglDepthRenderbuffer=n.createRenderbuffer(),gt(pe.__webglDepthRenderbuffer,j,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Oe){t.bindTexture(n.TEXTURE_CUBE_MAP,Me.__webglTexture),Se(n.TEXTURE_CUBE_MAP,H);for(let nt=0;nt<6;nt++)if(H.mipmaps&&H.mipmaps.length>0)for(let dt=0;dt<H.mipmaps.length;dt++)Xe(pe.__webglFramebuffer[nt][dt],j,H,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+nt,dt);else Xe(pe.__webglFramebuffer[nt],j,H,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+nt,0);T(H)&&S(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(st){for(let nt=0,dt=Ne.length;nt<dt;nt++){const vt=Ne[nt],Le=i.get(vt);t.bindTexture(n.TEXTURE_2D,Le.__webglTexture),Se(n.TEXTURE_2D,vt),Xe(pe.__webglFramebuffer,j,vt,n.COLOR_ATTACHMENT0+nt,n.TEXTURE_2D,0),T(vt)&&S(n.TEXTURE_2D)}t.unbindTexture()}else{let nt=n.TEXTURE_2D;if((j.isWebGL3DRenderTarget||j.isWebGLArrayRenderTarget)&&(nt=j.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(nt,Me.__webglTexture),Se(nt,H),H.mipmaps&&H.mipmaps.length>0)for(let dt=0;dt<H.mipmaps.length;dt++)Xe(pe.__webglFramebuffer[dt],j,H,n.COLOR_ATTACHMENT0,nt,dt);else Xe(pe.__webglFramebuffer,j,H,n.COLOR_ATTACHMENT0,nt,0);T(H)&&S(nt),t.unbindTexture()}j.depthBuffer&&Zt(j)}function Z(j){const H=j.textures;for(let pe=0,Me=H.length;pe<Me;pe++){const Ne=H[pe];if(T(Ne)){const Oe=C(j),st=i.get(Ne).__webglTexture;t.bindTexture(Oe,st),S(Oe),t.unbindTexture()}}}const Qe=[],$e=[];function We(j){if(j.samples>0){if(rt(j)===!1){const H=j.textures,pe=j.width,Me=j.height;let Ne=n.COLOR_BUFFER_BIT;const Oe=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,st=i.get(j),nt=H.length>1;if(nt)for(let vt=0;vt<H.length;vt++)t.bindFramebuffer(n.FRAMEBUFFER,st.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+vt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,st.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+vt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,st.__webglMultisampledFramebuffer);const dt=j.texture.mipmaps;dt&&dt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,st.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,st.__webglFramebuffer);for(let vt=0;vt<H.length;vt++){if(j.resolveDepthBuffer&&(j.depthBuffer&&(Ne|=n.DEPTH_BUFFER_BIT),j.stencilBuffer&&j.resolveStencilBuffer&&(Ne|=n.STENCIL_BUFFER_BIT)),nt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,st.__webglColorRenderbuffer[vt]);const Le=i.get(H[vt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Le,0)}n.blitFramebuffer(0,0,pe,Me,0,0,pe,Me,Ne,n.NEAREST),f===!0&&(Qe.length=0,$e.length=0,Qe.push(n.COLOR_ATTACHMENT0+vt),j.depthBuffer&&j.resolveDepthBuffer===!1&&(Qe.push(Oe),$e.push(Oe),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,$e)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Qe))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),nt)for(let vt=0;vt<H.length;vt++){t.bindFramebuffer(n.FRAMEBUFFER,st.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+vt,n.RENDERBUFFER,st.__webglColorRenderbuffer[vt]);const Le=i.get(H[vt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,st.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+vt,n.TEXTURE_2D,Le,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,st.__webglMultisampledFramebuffer)}else if(j.depthBuffer&&j.resolveDepthBuffer===!1&&f){const H=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[H])}}}function Pe(j){return Math.min(r.maxSamples,j.samples)}function rt(j){const H=i.get(j);return j.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&H.__useRenderToTexture!==!1}function He(j){const H=o.render.frame;m.get(j)!==H&&(m.set(j,H),j.update())}function at(j,H){const pe=j.colorSpace,Me=j.format,Ne=j.type;return j.isCompressedTexture===!0||j.isVideoTexture===!0||pe!==Jc&&pe!==vu&&(bn.getTransfer(pe)===kn?(Me!==qr||Ne!==Xs)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",pe)),H}function wt(j){return typeof HTMLImageElement<"u"&&j instanceof HTMLImageElement?(d.width=j.naturalWidth||j.width,d.height=j.naturalHeight||j.height):typeof VideoFrame<"u"&&j instanceof VideoFrame?(d.width=j.displayWidth,d.height=j.displayHeight):(d.width=j.width,d.height=j.height),d}this.allocateTextureUnit=ee,this.resetTextureUnits=oe,this.setTexture2D=de,this.setTexture2DArray=k,this.setTexture3D=Y,this.setTextureCube=K,this.rebindTextures=Pt,this.setupRenderTarget=Mt,this.updateRenderTargetMipmap=Z,this.updateMultisampleRenderTarget=We,this.setupDepthRenderbuffer=Zt,this.setupFrameBufferTexture=Xe,this.useMultisampledRTT=rt}function gL(n,e){function t(i,r=vu){let a;const o=bn.getTransfer(r);if(i===Xs)return n.UNSIGNED_BYTE;if(i===G_)return n.UNSIGNED_SHORT_4_4_4_4;if(i===$_)return n.UNSIGNED_SHORT_5_5_5_1;if(i===cA)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===lA)return n.BYTE;if(i===uA)return n.SHORT;if(i===Gp)return n.UNSIGNED_SHORT;if(i===k_)return n.INT;if(i===Du)return n.UNSIGNED_INT;if(i===$a)return n.FLOAT;if(i===im)return n.HALF_FLOAT;if(i===fA)return n.ALPHA;if(i===hA)return n.RGB;if(i===qr)return n.RGBA;if(i===jp)return n.DEPTH_COMPONENT;if(i===Xp)return n.DEPTH_STENCIL;if(i===j_)return n.RED;if(i===rv)return n.RED_INTEGER;if(i===dA)return n.RG;if(i===X_)return n.RG_INTEGER;if(i===W_)return n.RGBA_INTEGER;if(i===u0||i===c0||i===f0||i===h0)if(o===kn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===u0)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===c0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===f0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===h0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===u0)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===c0)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===f0)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===h0)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===Pb||i===Lb||i===Ub||i===zb)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===Pb)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===Lb)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Ub)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===zb)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Bb||i===Ib||i===Fb)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(i===Bb||i===Ib)return o===kn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===Fb)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Vb||i===Hb||i===kb||i===Gb||i===$b||i===jb||i===Xb||i===Wb||i===qb||i===Yb||i===Kb||i===Zb||i===Qb||i===Jb)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(i===Vb)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Hb)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===kb)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===Gb)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===$b)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===jb)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===Xb)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===Wb)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===qb)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===Yb)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===Kb)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===Zb)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===Qb)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===Jb)return o===kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===d0||i===e_||i===t_)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(i===d0)return o===kn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===e_)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===t_)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===pA||i===n_||i===i_||i===r_)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(i===d0)return a.COMPRESSED_RED_RGTC1_EXT;if(i===n_)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===i_)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===r_)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===$p?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const WG=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,qG=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class YG{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new Ni,a=e.properties.get(r);a.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new Do({vertexShader:WG,fragmentShader:qG,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Qi(new am(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class KG extends Pl{constructor(e,t){super();const i=this;let r=null,a=1,o=null,u="local-floor",f=1,d=null,m=null,g=null,y=null,b=null,_=null;const A=new YG,T=t.getContextAttributes();let S=null,C=null;const D=[],N=[],z=new Ie;let U=null;const I=new ki;I.viewport=new An;const V=new ki;V.viewport=new An;const B=[I,V],L=new aL;let W=null,oe=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(se){let we=D[se];return we===void 0&&(we=new hb,D[se]=we),we.getTargetRaySpace()},this.getControllerGrip=function(se){let we=D[se];return we===void 0&&(we=new hb,D[se]=we),we.getGripSpace()},this.getHand=function(se){let we=D[se];return we===void 0&&(we=new hb,D[se]=we),we.getHandSpace()};function ee(se){const we=N.indexOf(se.inputSource);if(we===-1)return;const Be=D[we];Be!==void 0&&(Be.update(se.inputSource,se.frame,d||o),Be.dispatchEvent({type:se.type,data:se.inputSource}))}function he(){r.removeEventListener("select",ee),r.removeEventListener("selectstart",ee),r.removeEventListener("selectend",ee),r.removeEventListener("squeeze",ee),r.removeEventListener("squeezestart",ee),r.removeEventListener("squeezeend",ee),r.removeEventListener("end",he),r.removeEventListener("inputsourceschange",de);for(let se=0;se<D.length;se++){const we=N[se];we!==null&&(N[se]=null,D[se].disconnect(we))}W=null,oe=null,A.reset(),e.setRenderTarget(S),b=null,y=null,g=null,r=null,C=null,ye.stop(),i.isPresenting=!1,e.setPixelRatio(U),e.setSize(z.width,z.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(se){a=se,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(se){u=se,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||o},this.setReferenceSpace=function(se){d=se},this.getBaseLayer=function(){return y!==null?y:b},this.getBinding=function(){return g},this.getFrame=function(){return _},this.getSession=function(){return r},this.setSession=async function(se){if(r=se,r!==null){if(S=e.getRenderTarget(),r.addEventListener("select",ee),r.addEventListener("selectstart",ee),r.addEventListener("selectend",ee),r.addEventListener("squeeze",ee),r.addEventListener("squeezestart",ee),r.addEventListener("squeezeend",ee),r.addEventListener("end",he),r.addEventListener("inputsourceschange",de),T.xrCompatible!==!0&&await t.makeXRCompatible(),U=e.getPixelRatio(),e.getSize(z),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Be=null,je=null,Xe=null;T.depth&&(Xe=T.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Be=T.stencil?Xp:jp,je=T.stencil?$p:Du);const gt={colorFormat:t.RGBA8,depthFormat:Xe,scaleFactor:a};g=new XRWebGLBinding(r,t),y=g.createProjectionLayer(gt),r.updateRenderState({layers:[y]}),e.setPixelRatio(1),e.setSize(y.textureWidth,y.textureHeight,!1),C=new Rl(y.textureWidth,y.textureHeight,{format:qr,type:Xs,depthTexture:new TA(y.textureWidth,y.textureHeight,je,void 0,void 0,void 0,void 0,void 0,void 0,Be),stencilBuffer:T.stencil,colorSpace:e.outputColorSpace,samples:T.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}else{const Be={antialias:T.antialias,alpha:!0,depth:T.depth,stencil:T.stencil,framebufferScaleFactor:a};b=new XRWebGLLayer(r,t,Be),r.updateRenderState({baseLayer:b}),e.setPixelRatio(1),e.setSize(b.framebufferWidth,b.framebufferHeight,!1),C=new Rl(b.framebufferWidth,b.framebufferHeight,{format:qr,type:Xs,colorSpace:e.outputColorSpace,stencilBuffer:T.stencil,resolveDepthBuffer:b.ignoreDepthValues===!1,resolveStencilBuffer:b.ignoreDepthValues===!1})}C.isXRRenderTarget=!0,this.setFoveation(f),d=null,o=await r.requestReferenceSpace(u),ye.setContext(r),ye.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return A.getDepthTexture()};function de(se){for(let we=0;we<se.removed.length;we++){const Be=se.removed[we],je=N.indexOf(Be);je>=0&&(N[je]=null,D[je].disconnect(Be))}for(let we=0;we<se.added.length;we++){const Be=se.added[we];let je=N.indexOf(Be);if(je===-1){for(let gt=0;gt<D.length;gt++)if(gt>=N.length){N.push(Be),je=gt;break}else if(N[gt]===null){N[gt]=Be,je=gt;break}if(je===-1)break}const Xe=D[je];Xe&&Xe.connect(Be)}}const k=new Q,Y=new Q;function K(se,we,Be){k.setFromMatrixPosition(we.matrixWorld),Y.setFromMatrixPosition(Be.matrixWorld);const je=k.distanceTo(Y),Xe=we.projectionMatrix.elements,gt=Be.projectionMatrix.elements,bt=Xe[14]/(Xe[10]-1),Zt=Xe[14]/(Xe[10]+1),Pt=(Xe[9]+1)/Xe[5],Mt=(Xe[9]-1)/Xe[5],Z=(Xe[8]-1)/Xe[0],Qe=(gt[8]+1)/gt[0],$e=bt*Z,We=bt*Qe,Pe=je/(-Z+Qe),rt=Pe*-Z;if(we.matrixWorld.decompose(se.position,se.quaternion,se.scale),se.translateX(rt),se.translateZ(Pe),se.matrixWorld.compose(se.position,se.quaternion,se.scale),se.matrixWorldInverse.copy(se.matrixWorld).invert(),Xe[10]===-1)se.projectionMatrix.copy(we.projectionMatrix),se.projectionMatrixInverse.copy(we.projectionMatrixInverse);else{const He=bt+Pe,at=Zt+Pe,wt=$e-rt,j=We+(je-rt),H=Pt*Zt/at*He,pe=Mt*Zt/at*He;se.projectionMatrix.makePerspective(wt,j,H,pe,He,at),se.projectionMatrixInverse.copy(se.projectionMatrix).invert()}}function ue(se,we){we===null?se.matrixWorld.copy(se.matrix):se.matrixWorld.multiplyMatrices(we.matrixWorld,se.matrix),se.matrixWorldInverse.copy(se.matrixWorld).invert()}this.updateCamera=function(se){if(r===null)return;let we=se.near,Be=se.far;A.texture!==null&&(A.depthNear>0&&(we=A.depthNear),A.depthFar>0&&(Be=A.depthFar)),L.near=V.near=I.near=we,L.far=V.far=I.far=Be,(W!==L.near||oe!==L.far)&&(r.updateRenderState({depthNear:L.near,depthFar:L.far}),W=L.near,oe=L.far),I.layers.mask=se.layers.mask|2,V.layers.mask=se.layers.mask|4,L.layers.mask=I.layers.mask|V.layers.mask;const je=se.parent,Xe=L.cameras;ue(L,je);for(let gt=0;gt<Xe.length;gt++)ue(Xe[gt],je);Xe.length===2?K(L,I,V):L.projectionMatrix.copy(I.projectionMatrix),G(se,L,je)};function G(se,we,Be){Be===null?se.matrix.copy(we.matrixWorld):(se.matrix.copy(Be.matrixWorld),se.matrix.invert(),se.matrix.multiply(we.matrixWorld)),se.matrix.decompose(se.position,se.quaternion,se.scale),se.updateMatrixWorld(!0),se.projectionMatrix.copy(we.projectionMatrix),se.projectionMatrixInverse.copy(we.projectionMatrixInverse),se.isPerspectiveCamera&&(se.fov=Wp*2*Math.atan(1/se.projectionMatrix.elements[5]),se.zoom=1)}this.getCamera=function(){return L},this.getFoveation=function(){if(!(y===null&&b===null))return f},this.setFoveation=function(se){f=se,y!==null&&(y.fixedFoveation=se),b!==null&&b.fixedFoveation!==void 0&&(b.fixedFoveation=se)},this.hasDepthSensing=function(){return A.texture!==null},this.getDepthSensingMesh=function(){return A.getMesh(L)};let te=null;function Se(se,we){if(m=we.getViewerPose(d||o),_=we,m!==null){const Be=m.views;b!==null&&(e.setRenderTargetFramebuffer(C,b.framebuffer),e.setRenderTarget(C));let je=!1;Be.length!==L.cameras.length&&(L.cameras.length=0,je=!0);for(let bt=0;bt<Be.length;bt++){const Zt=Be[bt];let Pt=null;if(b!==null)Pt=b.getViewport(Zt);else{const Z=g.getViewSubImage(y,Zt);Pt=Z.viewport,bt===0&&(e.setRenderTargetTextures(C,Z.colorTexture,Z.depthStencilTexture),e.setRenderTarget(C))}let Mt=B[bt];Mt===void 0&&(Mt=new ki,Mt.layers.enable(bt),Mt.viewport=new An,B[bt]=Mt),Mt.matrix.fromArray(Zt.transform.matrix),Mt.matrix.decompose(Mt.position,Mt.quaternion,Mt.scale),Mt.projectionMatrix.fromArray(Zt.projectionMatrix),Mt.projectionMatrixInverse.copy(Mt.projectionMatrix).invert(),Mt.viewport.set(Pt.x,Pt.y,Pt.width,Pt.height),bt===0&&(L.matrix.copy(Mt.matrix),L.matrix.decompose(L.position,L.quaternion,L.scale)),je===!0&&L.cameras.push(Mt)}const Xe=r.enabledFeatures;if(Xe&&Xe.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&g){const bt=g.getDepthInformation(Be[0]);bt&&bt.isValid&&bt.texture&&A.init(e,bt,r.renderState)}}for(let Be=0;Be<D.length;Be++){const je=N[Be],Xe=D[Be];je!==null&&Xe!==void 0&&Xe.update(je,we,d||o)}te&&te(se,we),we.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:we}),_=null}const ye=new fL;ye.setAnimationLoop(Se),this.setAnimationLoop=function(se){te=se},this.dispose=function(){}}}const vh=new ms,ZG=new Gt;function QG(n,e){function t(T,S){T.matrixAutoUpdate===!0&&T.updateMatrix(),S.value.copy(T.matrix)}function i(T,S){S.color.getRGB(T.fogColor.value,cP(n)),S.isFog?(T.fogNear.value=S.near,T.fogFar.value=S.far):S.isFogExp2&&(T.fogDensity.value=S.density)}function r(T,S,C,D,N){S.isMeshBasicMaterial||S.isMeshLambertMaterial?a(T,S):S.isMeshToonMaterial?(a(T,S),g(T,S)):S.isMeshPhongMaterial?(a(T,S),m(T,S)):S.isMeshStandardMaterial?(a(T,S),y(T,S),S.isMeshPhysicalMaterial&&b(T,S,N)):S.isMeshMatcapMaterial?(a(T,S),_(T,S)):S.isMeshDepthMaterial?a(T,S):S.isMeshDistanceMaterial?(a(T,S),A(T,S)):S.isMeshNormalMaterial?a(T,S):S.isLineBasicMaterial?(o(T,S),S.isLineDashedMaterial&&u(T,S)):S.isPointsMaterial?f(T,S,C,D):S.isSpriteMaterial?d(T,S):S.isShadowMaterial?(T.color.value.copy(S.color),T.opacity.value=S.opacity):S.isShaderMaterial&&(S.uniformsNeedUpdate=!1)}function a(T,S){T.opacity.value=S.opacity,S.color&&T.diffuse.value.copy(S.color),S.emissive&&T.emissive.value.copy(S.emissive).multiplyScalar(S.emissiveIntensity),S.map&&(T.map.value=S.map,t(S.map,T.mapTransform)),S.alphaMap&&(T.alphaMap.value=S.alphaMap,t(S.alphaMap,T.alphaMapTransform)),S.bumpMap&&(T.bumpMap.value=S.bumpMap,t(S.bumpMap,T.bumpMapTransform),T.bumpScale.value=S.bumpScale,S.side===Ma&&(T.bumpScale.value*=-1)),S.normalMap&&(T.normalMap.value=S.normalMap,t(S.normalMap,T.normalMapTransform),T.normalScale.value.copy(S.normalScale),S.side===Ma&&T.normalScale.value.negate()),S.displacementMap&&(T.displacementMap.value=S.displacementMap,t(S.displacementMap,T.displacementMapTransform),T.displacementScale.value=S.displacementScale,T.displacementBias.value=S.displacementBias),S.emissiveMap&&(T.emissiveMap.value=S.emissiveMap,t(S.emissiveMap,T.emissiveMapTransform)),S.specularMap&&(T.specularMap.value=S.specularMap,t(S.specularMap,T.specularMapTransform)),S.alphaTest>0&&(T.alphaTest.value=S.alphaTest);const C=e.get(S),D=C.envMap,N=C.envMapRotation;D&&(T.envMap.value=D,vh.copy(N),vh.x*=-1,vh.y*=-1,vh.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(vh.y*=-1,vh.z*=-1),T.envMapRotation.value.setFromMatrix4(ZG.makeRotationFromEuler(vh)),T.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,T.reflectivity.value=S.reflectivity,T.ior.value=S.ior,T.refractionRatio.value=S.refractionRatio),S.lightMap&&(T.lightMap.value=S.lightMap,T.lightMapIntensity.value=S.lightMapIntensity,t(S.lightMap,T.lightMapTransform)),S.aoMap&&(T.aoMap.value=S.aoMap,T.aoMapIntensity.value=S.aoMapIntensity,t(S.aoMap,T.aoMapTransform))}function o(T,S){T.diffuse.value.copy(S.color),T.opacity.value=S.opacity,S.map&&(T.map.value=S.map,t(S.map,T.mapTransform))}function u(T,S){T.dashSize.value=S.dashSize,T.totalSize.value=S.dashSize+S.gapSize,T.scale.value=S.scale}function f(T,S,C,D){T.diffuse.value.copy(S.color),T.opacity.value=S.opacity,T.size.value=S.size*C,T.scale.value=D*.5,S.map&&(T.map.value=S.map,t(S.map,T.uvTransform)),S.alphaMap&&(T.alphaMap.value=S.alphaMap,t(S.alphaMap,T.alphaMapTransform)),S.alphaTest>0&&(T.alphaTest.value=S.alphaTest)}function d(T,S){T.diffuse.value.copy(S.color),T.opacity.value=S.opacity,T.rotation.value=S.rotation,S.map&&(T.map.value=S.map,t(S.map,T.mapTransform)),S.alphaMap&&(T.alphaMap.value=S.alphaMap,t(S.alphaMap,T.alphaMapTransform)),S.alphaTest>0&&(T.alphaTest.value=S.alphaTest)}function m(T,S){T.specular.value.copy(S.specular),T.shininess.value=Math.max(S.shininess,1e-4)}function g(T,S){S.gradientMap&&(T.gradientMap.value=S.gradientMap)}function y(T,S){T.metalness.value=S.metalness,S.metalnessMap&&(T.metalnessMap.value=S.metalnessMap,t(S.metalnessMap,T.metalnessMapTransform)),T.roughness.value=S.roughness,S.roughnessMap&&(T.roughnessMap.value=S.roughnessMap,t(S.roughnessMap,T.roughnessMapTransform)),S.envMap&&(T.envMapIntensity.value=S.envMapIntensity)}function b(T,S,C){T.ior.value=S.ior,S.sheen>0&&(T.sheenColor.value.copy(S.sheenColor).multiplyScalar(S.sheen),T.sheenRoughness.value=S.sheenRoughness,S.sheenColorMap&&(T.sheenColorMap.value=S.sheenColorMap,t(S.sheenColorMap,T.sheenColorMapTransform)),S.sheenRoughnessMap&&(T.sheenRoughnessMap.value=S.sheenRoughnessMap,t(S.sheenRoughnessMap,T.sheenRoughnessMapTransform))),S.clearcoat>0&&(T.clearcoat.value=S.clearcoat,T.clearcoatRoughness.value=S.clearcoatRoughness,S.clearcoatMap&&(T.clearcoatMap.value=S.clearcoatMap,t(S.clearcoatMap,T.clearcoatMapTransform)),S.clearcoatRoughnessMap&&(T.clearcoatRoughnessMap.value=S.clearcoatRoughnessMap,t(S.clearcoatRoughnessMap,T.clearcoatRoughnessMapTransform)),S.clearcoatNormalMap&&(T.clearcoatNormalMap.value=S.clearcoatNormalMap,t(S.clearcoatNormalMap,T.clearcoatNormalMapTransform),T.clearcoatNormalScale.value.copy(S.clearcoatNormalScale),S.side===Ma&&T.clearcoatNormalScale.value.negate())),S.dispersion>0&&(T.dispersion.value=S.dispersion),S.iridescence>0&&(T.iridescence.value=S.iridescence,T.iridescenceIOR.value=S.iridescenceIOR,T.iridescenceThicknessMinimum.value=S.iridescenceThicknessRange[0],T.iridescenceThicknessMaximum.value=S.iridescenceThicknessRange[1],S.iridescenceMap&&(T.iridescenceMap.value=S.iridescenceMap,t(S.iridescenceMap,T.iridescenceMapTransform)),S.iridescenceThicknessMap&&(T.iridescenceThicknessMap.value=S.iridescenceThicknessMap,t(S.iridescenceThicknessMap,T.iridescenceThicknessMapTransform))),S.transmission>0&&(T.transmission.value=S.transmission,T.transmissionSamplerMap.value=C.texture,T.transmissionSamplerSize.value.set(C.width,C.height),S.transmissionMap&&(T.transmissionMap.value=S.transmissionMap,t(S.transmissionMap,T.transmissionMapTransform)),T.thickness.value=S.thickness,S.thicknessMap&&(T.thicknessMap.value=S.thicknessMap,t(S.thicknessMap,T.thicknessMapTransform)),T.attenuationDistance.value=S.attenuationDistance,T.attenuationColor.value.copy(S.attenuationColor)),S.anisotropy>0&&(T.anisotropyVector.value.set(S.anisotropy*Math.cos(S.anisotropyRotation),S.anisotropy*Math.sin(S.anisotropyRotation)),S.anisotropyMap&&(T.anisotropyMap.value=S.anisotropyMap,t(S.anisotropyMap,T.anisotropyMapTransform))),T.specularIntensity.value=S.specularIntensity,T.specularColor.value.copy(S.specularColor),S.specularColorMap&&(T.specularColorMap.value=S.specularColorMap,t(S.specularColorMap,T.specularColorMapTransform)),S.specularIntensityMap&&(T.specularIntensityMap.value=S.specularIntensityMap,t(S.specularIntensityMap,T.specularIntensityMapTransform))}function _(T,S){S.matcap&&(T.matcap.value=S.matcap)}function A(T,S){const C=e.get(S).light;T.referencePosition.value.setFromMatrixPosition(C.matrixWorld),T.nearDistance.value=C.shadow.camera.near,T.farDistance.value=C.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function JG(n,e,t,i){let r={},a={},o=[];const u=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function f(C,D){const N=D.program;i.uniformBlockBinding(C,N)}function d(C,D){let N=r[C.id];N===void 0&&(_(C),N=m(C),r[C.id]=N,C.addEventListener("dispose",T));const z=D.program;i.updateUBOMapping(C,z);const U=e.render.frame;a[C.id]!==U&&(y(C),a[C.id]=U)}function m(C){const D=g();C.__bindingPointIndex=D;const N=n.createBuffer(),z=C.__size,U=C.usage;return n.bindBuffer(n.UNIFORM_BUFFER,N),n.bufferData(n.UNIFORM_BUFFER,z,U),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,D,N),N}function g(){for(let C=0;C<u;C++)if(o.indexOf(C)===-1)return o.push(C),C;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(C){const D=r[C.id],N=C.uniforms,z=C.__cache;n.bindBuffer(n.UNIFORM_BUFFER,D);for(let U=0,I=N.length;U<I;U++){const V=Array.isArray(N[U])?N[U]:[N[U]];for(let B=0,L=V.length;B<L;B++){const W=V[B];if(b(W,U,B,z)===!0){const oe=W.__offset,ee=Array.isArray(W.value)?W.value:[W.value];let he=0;for(let de=0;de<ee.length;de++){const k=ee[de],Y=A(k);typeof k=="number"||typeof k=="boolean"?(W.__data[0]=k,n.bufferSubData(n.UNIFORM_BUFFER,oe+he,W.__data)):k.isMatrix3?(W.__data[0]=k.elements[0],W.__data[1]=k.elements[1],W.__data[2]=k.elements[2],W.__data[3]=0,W.__data[4]=k.elements[3],W.__data[5]=k.elements[4],W.__data[6]=k.elements[5],W.__data[7]=0,W.__data[8]=k.elements[6],W.__data[9]=k.elements[7],W.__data[10]=k.elements[8],W.__data[11]=0):(k.toArray(W.__data,he),he+=Y.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,oe,W.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function b(C,D,N,z){const U=C.value,I=D+"_"+N;if(z[I]===void 0)return typeof U=="number"||typeof U=="boolean"?z[I]=U:z[I]=U.clone(),!0;{const V=z[I];if(typeof U=="number"||typeof U=="boolean"){if(V!==U)return z[I]=U,!0}else if(V.equals(U)===!1)return V.copy(U),!0}return!1}function _(C){const D=C.uniforms;let N=0;const z=16;for(let I=0,V=D.length;I<V;I++){const B=Array.isArray(D[I])?D[I]:[D[I]];for(let L=0,W=B.length;L<W;L++){const oe=B[L],ee=Array.isArray(oe.value)?oe.value:[oe.value];for(let he=0,de=ee.length;he<de;he++){const k=ee[he],Y=A(k),K=N%z,ue=K%Y.boundary,G=K+ue;N+=ue,G!==0&&z-G<Y.storage&&(N+=z-G),oe.__data=new Float32Array(Y.storage/Float32Array.BYTES_PER_ELEMENT),oe.__offset=N,N+=Y.storage}}}const U=N%z;return U>0&&(N+=z-U),C.__size=N,C.__cache={},this}function A(C){const D={boundary:0,storage:0};return typeof C=="number"||typeof C=="boolean"?(D.boundary=4,D.storage=4):C.isVector2?(D.boundary=8,D.storage=8):C.isVector3||C.isColor?(D.boundary=16,D.storage=12):C.isVector4?(D.boundary=16,D.storage=16):C.isMatrix3?(D.boundary=48,D.storage=48):C.isMatrix4?(D.boundary=64,D.storage=64):C.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",C),D}function T(C){const D=C.target;D.removeEventListener("dispose",T);const N=o.indexOf(D.__bindingPointIndex);o.splice(N,1),n.deleteBuffer(r[D.id]),delete r[D.id],delete a[D.id]}function S(){for(const C in r)n.deleteBuffer(r[C]);o=[],r={},a={}}return{bind:f,update:d,dispose:S}}class vL{constructor(e={}){const{canvas:t=oP(),context:i=null,depth:r=!0,stencil:a=!1,alpha:o=!1,antialias:u=!1,premultipliedAlpha:f=!0,preserveDrawingBuffer:d=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:g=!1,reverseDepthBuffer:y=!1}=e;this.isWebGLRenderer=!0;let b;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");b=i.getContextAttributes().alpha}else b=o;const _=new Uint32Array(4),A=new Int32Array(4);let T=null,S=null;const C=[],D=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Sl,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const N=this;let z=!1;this._outputColorSpace=Wr;let U=0,I=0,V=null,B=-1,L=null;const W=new An,oe=new An;let ee=null;const he=new xt(0);let de=0,k=t.width,Y=t.height,K=1,ue=null,G=null;const te=new An(0,0,k,Y),Se=new An(0,0,k,Y);let ye=!1;const se=new rm;let we=!1,Be=!1;const je=new Gt,Xe=new Gt,gt=new Q,bt=new An,Zt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Pt=!1;function Mt(){return V===null?K:1}let Z=i;function Qe(X,fe){return t.getContext(X,fe)}try{const X={alpha:!0,depth:r,stencil:a,antialias:u,premultipliedAlpha:f,preserveDrawingBuffer:d,powerPreference:m,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${F_}`),t.addEventListener("webglcontextlost",lt,!1),t.addEventListener("webglcontextrestored",Ze,!1),t.addEventListener("webglcontextcreationerror",Fe,!1),Z===null){const fe="webgl2";if(Z=Qe(fe,X),Z===null)throw Qe(fe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(X){throw console.error("THREE.WebGLRenderer: "+X.message),X}let $e,We,Pe,rt,He,at,wt,j,H,pe,Me,Ne,Oe,st,nt,dt,vt,Le,it,yt,ie,xe,Ke,re;function Je(){$e=new fk(Z),$e.init(),xe=new gL(Z,$e),We=new rk(Z,$e,e,xe),Pe=new jG(Z,$e),We.reverseDepthBuffer&&y&&Pe.buffers.depth.setReversed(!0),rt=new pk(Z),He=new NG,at=new XG(Z,$e,Pe,He,We,xe,rt),wt=new sk(N),j=new ck(N),H=new bH(Z),Ke=new nk(Z,H),pe=new hk(Z,H,rt,Ke),Me=new gk(Z,pe,H,rt),it=new mk(Z,We,at),dt=new ak(He),Ne=new OG(N,wt,j,$e,We,Ke,dt),Oe=new QG(N,He),st=new LG,nt=new VG($e),Le=new tk(N,wt,j,Pe,Me,b,f),vt=new GG(N,Me,We),re=new JG(Z,rt,We,Pe),yt=new ik(Z,$e,rt),ie=new dk(Z,$e,rt),rt.programs=Ne.programs,N.capabilities=We,N.extensions=$e,N.properties=He,N.renderLists=st,N.shadowMap=vt,N.state=Pe,N.info=rt}Je();const ke=new KG(N,Z);this.xr=ke,this.getContext=function(){return Z},this.getContextAttributes=function(){return Z.getContextAttributes()},this.forceContextLoss=function(){const X=$e.get("WEBGL_lose_context");X&&X.loseContext()},this.forceContextRestore=function(){const X=$e.get("WEBGL_lose_context");X&&X.restoreContext()},this.getPixelRatio=function(){return K},this.setPixelRatio=function(X){X!==void 0&&(K=X,this.setSize(k,Y,!1))},this.getSize=function(X){return X.set(k,Y)},this.setSize=function(X,fe,Ae=!0){if(ke.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}k=X,Y=fe,t.width=Math.floor(X*K),t.height=Math.floor(fe*K),Ae===!0&&(t.style.width=X+"px",t.style.height=fe+"px"),this.setViewport(0,0,X,fe)},this.getDrawingBufferSize=function(X){return X.set(k*K,Y*K).floor()},this.setDrawingBufferSize=function(X,fe,Ae){k=X,Y=fe,K=Ae,t.width=Math.floor(X*Ae),t.height=Math.floor(fe*Ae),this.setViewport(0,0,X,fe)},this.getCurrentViewport=function(X){return X.copy(W)},this.getViewport=function(X){return X.copy(te)},this.setViewport=function(X,fe,Ae,Ce){X.isVector4?te.set(X.x,X.y,X.z,X.w):te.set(X,fe,Ae,Ce),Pe.viewport(W.copy(te).multiplyScalar(K).round())},this.getScissor=function(X){return X.copy(Se)},this.setScissor=function(X,fe,Ae,Ce){X.isVector4?Se.set(X.x,X.y,X.z,X.w):Se.set(X,fe,Ae,Ce),Pe.scissor(oe.copy(Se).multiplyScalar(K).round())},this.getScissorTest=function(){return ye},this.setScissorTest=function(X){Pe.setScissorTest(ye=X)},this.setOpaqueSort=function(X){ue=X},this.setTransparentSort=function(X){G=X},this.getClearColor=function(X){return X.copy(Le.getClearColor())},this.setClearColor=function(){Le.setClearColor(...arguments)},this.getClearAlpha=function(){return Le.getClearAlpha()},this.setClearAlpha=function(){Le.setClearAlpha(...arguments)},this.clear=function(X=!0,fe=!0,Ae=!0){let Ce=0;if(X){let ge=!1;if(V!==null){const qe=V.texture.format;ge=qe===W_||qe===X_||qe===rv}if(ge){const qe=V.texture.type,ot=qe===Xs||qe===Du||qe===Gp||qe===$p||qe===G_||qe===$_,ht=Le.getClearColor(),pt=Le.getClearAlpha(),Ut=ht.r,Dt=ht.g,At=ht.b;ot?(_[0]=Ut,_[1]=Dt,_[2]=At,_[3]=pt,Z.clearBufferuiv(Z.COLOR,0,_)):(A[0]=Ut,A[1]=Dt,A[2]=At,A[3]=pt,Z.clearBufferiv(Z.COLOR,0,A))}else Ce|=Z.COLOR_BUFFER_BIT}fe&&(Ce|=Z.DEPTH_BUFFER_BIT),Ae&&(Ce|=Z.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Z.clear(Ce)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",lt,!1),t.removeEventListener("webglcontextrestored",Ze,!1),t.removeEventListener("webglcontextcreationerror",Fe,!1),Le.dispose(),st.dispose(),nt.dispose(),He.dispose(),wt.dispose(),j.dispose(),Me.dispose(),Ke.dispose(),re.dispose(),Ne.dispose(),ke.dispose(),ke.removeEventListener("sessionstart",Mi),ke.removeEventListener("sessionend",Li),hr.stop()};function lt(X){X.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),z=!0}function Ze(){console.log("THREE.WebGLRenderer: Context Restored."),z=!1;const X=rt.autoReset,fe=vt.enabled,Ae=vt.autoUpdate,Ce=vt.needsUpdate,ge=vt.type;Je(),rt.autoReset=X,vt.enabled=fe,vt.autoUpdate=Ae,vt.needsUpdate=Ce,vt.type=ge}function Fe(X){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",X.statusMessage)}function ut(X){const fe=X.target;fe.removeEventListener("dispose",ut),Tt(fe)}function Tt(X){ln(X),He.remove(X)}function ln(X){const fe=He.get(X).programs;fe!==void 0&&(fe.forEach(function(Ae){Ne.releaseProgram(Ae)}),X.isShaderMaterial&&Ne.releaseShaderCache(X))}this.renderBufferDirect=function(X,fe,Ae,Ce,ge,qe){fe===null&&(fe=Zt);const ot=ge.isMesh&&ge.matrixWorld.determinant()<0,ht=Lo(X,fe,Ae,Ce,ge);Pe.setMaterial(Ce,ot);let pt=Ae.index,Ut=1;if(Ce.wireframe===!0){if(pt=pe.getWireframeAttribute(Ae),pt===void 0)return;Ut=2}const Dt=Ae.drawRange,At=Ae.attributes.position;let Jt=Dt.start*Ut,En=(Dt.start+Dt.count)*Ut;qe!==null&&(Jt=Math.max(Jt,qe.start*Ut),En=Math.min(En,(qe.start+qe.count)*Ut)),pt!==null?(Jt=Math.max(Jt,0),En=Math.min(En,pt.count)):At!=null&&(Jt=Math.max(Jt,0),En=Math.min(En,At.count));const Gn=En-Jt;if(Gn<0||Gn===1/0)return;Ke.setup(ge,Ce,ht,Ae,pt);let rn,Mn=yt;if(pt!==null&&(rn=H.get(pt),Mn=ie,Mn.setIndex(rn)),ge.isMesh)Ce.wireframe===!0?(Pe.setLineWidth(Ce.wireframeLinewidth*Mt()),Mn.setMode(Z.LINES)):Mn.setMode(Z.TRIANGLES);else if(ge.isLine){let Ot=Ce.linewidth;Ot===void 0&&(Ot=1),Pe.setLineWidth(Ot*Mt()),ge.isLineSegments?Mn.setMode(Z.LINES):ge.isLineLoop?Mn.setMode(Z.LINE_LOOP):Mn.setMode(Z.LINE_STRIP)}else ge.isPoints?Mn.setMode(Z.POINTS):ge.isSprite&&Mn.setMode(Z.TRIANGLES);if(ge.isBatchedMesh)if(ge._multiDrawInstances!==null)Ip("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Mn.renderMultiDrawInstances(ge._multiDrawStarts,ge._multiDrawCounts,ge._multiDrawCount,ge._multiDrawInstances);else if($e.get("WEBGL_multi_draw"))Mn.renderMultiDraw(ge._multiDrawStarts,ge._multiDrawCounts,ge._multiDrawCount);else{const Ot=ge._multiDrawStarts,Nn=ge._multiDrawCounts,dn=ge._multiDrawCount,Ui=pt?H.get(pt).bytesPerElement:1,gs=He.get(Ce).currentProgram.getUniforms();for(let Bn=0;Bn<dn;Bn++)gs.setValue(Z,"_gl_DrawID",Bn),Mn.render(Ot[Bn]/Ui,Nn[Bn])}else if(ge.isInstancedMesh)Mn.renderInstances(Jt,Gn,ge.count);else if(Ae.isInstancedBufferGeometry){const Ot=Ae._maxInstanceCount!==void 0?Ae._maxInstanceCount:1/0,Nn=Math.min(Ae.instanceCount,Ot);Mn.renderInstances(Jt,Gn,Nn)}else Mn.render(Jt,Gn)};function Qt(X,fe,Ae){X.transparent===!0&&X.side===xl&&X.forceSinglePass===!1?(X.side=Ma,X.needsUpdate=!0,Ln(X,fe,Ae),X.side=Cu,X.needsUpdate=!0,Ln(X,fe,Ae),X.side=xl):Ln(X,fe,Ae)}this.compile=function(X,fe,Ae=null){Ae===null&&(Ae=X),S=nt.get(Ae),S.init(fe),D.push(S),Ae.traverseVisible(function(ge){ge.isLight&&ge.layers.test(fe.layers)&&(S.pushLight(ge),ge.castShadow&&S.pushShadow(ge))}),X!==Ae&&X.traverseVisible(function(ge){ge.isLight&&ge.layers.test(fe.layers)&&(S.pushLight(ge),ge.castShadow&&S.pushShadow(ge))}),S.setupLights();const Ce=new Set;return X.traverse(function(ge){if(!(ge.isMesh||ge.isPoints||ge.isLine||ge.isSprite))return;const qe=ge.material;if(qe)if(Array.isArray(qe))for(let ot=0;ot<qe.length;ot++){const ht=qe[ot];Qt(ht,Ae,ge),Ce.add(ht)}else Qt(qe,Ae,ge),Ce.add(qe)}),S=D.pop(),Ce},this.compileAsync=function(X,fe,Ae=null){const Ce=this.compile(X,fe,Ae);return new Promise(ge=>{function qe(){if(Ce.forEach(function(ot){He.get(ot).currentProgram.isReady()&&Ce.delete(ot)}),Ce.size===0){ge(X);return}setTimeout(qe,10)}$e.get("KHR_parallel_shader_compile")!==null?qe():setTimeout(qe,10)})};let Ei=null;function ei(X){Ei&&Ei(X)}function Mi(){hr.stop()}function Li(){hr.start()}const hr=new fL;hr.setAnimationLoop(ei),typeof self<"u"&&hr.setContext(self),this.setAnimationLoop=function(X){Ei=X,ke.setAnimationLoop(X),X===null?hr.stop():hr.start()},ke.addEventListener("sessionstart",Mi),ke.addEventListener("sessionend",Li),this.render=function(X,fe){if(fe!==void 0&&fe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(z===!0)return;if(X.matrixWorldAutoUpdate===!0&&X.updateMatrixWorld(),fe.parent===null&&fe.matrixWorldAutoUpdate===!0&&fe.updateMatrixWorld(),ke.enabled===!0&&ke.isPresenting===!0&&(ke.cameraAutoUpdate===!0&&ke.updateCamera(fe),fe=ke.getCamera()),X.isScene===!0&&X.onBeforeRender(N,X,fe,V),S=nt.get(X,D.length),S.init(fe),D.push(S),Xe.multiplyMatrices(fe.projectionMatrix,fe.matrixWorldInverse),se.setFromProjectionMatrix(Xe),Be=this.localClippingEnabled,we=dt.init(this.clippingPlanes,Be),T=st.get(X,C.length),T.init(),C.push(T),ke.enabled===!0&&ke.isPresenting===!0){const qe=N.xr.getDepthSensingMesh();qe!==null&&Lr(qe,fe,-1/0,N.sortObjects)}Lr(X,fe,0,N.sortObjects),T.finish(),N.sortObjects===!0&&T.sort(ue,G),Pt=ke.enabled===!1||ke.isPresenting===!1||ke.hasDepthSensing()===!1,Pt&&Le.addToRenderList(T,X),this.info.render.frame++,we===!0&&dt.beginShadows();const Ae=S.state.shadowsArray;vt.render(Ae,X,fe),we===!0&&dt.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ce=T.opaque,ge=T.transmissive;if(S.setupLights(),fe.isArrayCamera){const qe=fe.cameras;if(ge.length>0)for(let ot=0,ht=qe.length;ot<ht;ot++){const pt=qe[ot];Ya(Ce,ge,X,pt)}Pt&&Le.render(X);for(let ot=0,ht=qe.length;ot<ht;ot++){const pt=qe[ot];hf(T,X,pt,pt.viewport)}}else ge.length>0&&Ya(Ce,ge,X,fe),Pt&&Le.render(X),hf(T,X,fe);V!==null&&I===0&&(at.updateMultisampleRenderTarget(V),at.updateRenderTargetMipmap(V)),X.isScene===!0&&X.onAfterRender(N,X,fe),Ke.resetDefaultState(),B=-1,L=null,D.pop(),D.length>0?(S=D[D.length-1],we===!0&&dt.setGlobalState(N.clippingPlanes,S.state.camera)):S=null,C.pop(),C.length>0?T=C[C.length-1]:T=null};function Lr(X,fe,Ae,Ce){if(X.visible===!1)return;if(X.layers.test(fe.layers)){if(X.isGroup)Ae=X.renderOrder;else if(X.isLOD)X.autoUpdate===!0&&X.update(fe);else if(X.isLight)S.pushLight(X),X.castShadow&&S.pushShadow(X);else if(X.isSprite){if(!X.frustumCulled||se.intersectsSprite(X)){Ce&&bt.setFromMatrixPosition(X.matrixWorld).applyMatrix4(Xe);const ot=Me.update(X),ht=X.material;ht.visible&&T.push(X,ot,ht,Ae,bt.z,null)}}else if((X.isMesh||X.isLine||X.isPoints)&&(!X.frustumCulled||se.intersectsObject(X))){const ot=Me.update(X),ht=X.material;if(Ce&&(X.boundingSphere!==void 0?(X.boundingSphere===null&&X.computeBoundingSphere(),bt.copy(X.boundingSphere.center)):(ot.boundingSphere===null&&ot.computeBoundingSphere(),bt.copy(ot.boundingSphere.center)),bt.applyMatrix4(X.matrixWorld).applyMatrix4(Xe)),Array.isArray(ht)){const pt=ot.groups;for(let Ut=0,Dt=pt.length;Ut<Dt;Ut++){const At=pt[Ut],Jt=ht[At.materialIndex];Jt&&Jt.visible&&T.push(X,ot,Jt,Ae,bt.z,At)}}else ht.visible&&T.push(X,ot,ht,Ae,bt.z,null)}}const qe=X.children;for(let ot=0,ht=qe.length;ot<ht;ot++)Lr(qe[ot],fe,Ae,Ce)}function hf(X,fe,Ae,Ce){const ge=X.opaque,qe=X.transmissive,ot=X.transparent;S.setupLightsView(Ae),we===!0&&dt.setGlobalState(N.clippingPlanes,Ae),Ce&&Pe.viewport(W.copy(Ce)),ge.length>0&&br(ge,fe,Ae),qe.length>0&&br(qe,fe,Ae),ot.length>0&&br(ot,fe,Ae),Pe.buffers.depth.setTest(!0),Pe.buffers.depth.setMask(!0),Pe.buffers.color.setMask(!0),Pe.setPolygonOffset(!1)}function Ya(X,fe,Ae,Ce){if((Ae.isScene===!0?Ae.overrideMaterial:null)!==null)return;S.state.transmissionRenderTarget[Ce.id]===void 0&&(S.state.transmissionRenderTarget[Ce.id]=new Rl(1,1,{generateMipmaps:!0,type:$e.has("EXT_color_buffer_half_float")||$e.has("EXT_color_buffer_float")?im:Xs,minFilter:bl,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:bn.workingColorSpace}));const qe=S.state.transmissionRenderTarget[Ce.id],ot=Ce.viewport||W;qe.setSize(ot.z*N.transmissionResolutionScale,ot.w*N.transmissionResolutionScale);const ht=N.getRenderTarget(),pt=N.getActiveCubeFace(),Ut=N.getActiveMipmapLevel();N.setRenderTarget(qe),N.getClearColor(he),de=N.getClearAlpha(),de<1&&N.setClearColor(16777215,.5),N.clear(),Pt&&Le.render(Ae);const Dt=N.toneMapping;N.toneMapping=Sl;const At=Ce.viewport;if(Ce.viewport!==void 0&&(Ce.viewport=void 0),S.setupLightsView(Ce),we===!0&&dt.setGlobalState(N.clippingPlanes,Ce),br(X,Ae,Ce),at.updateMultisampleRenderTarget(qe),at.updateRenderTargetMipmap(qe),$e.has("WEBGL_multisampled_render_to_texture")===!1){let Jt=!1;for(let En=0,Gn=fe.length;En<Gn;En++){const rn=fe[En],Mn=rn.object,Ot=rn.geometry,Nn=rn.material,dn=rn.group;if(Nn.side===xl&&Mn.layers.test(Ce.layers)){const Ui=Nn.side;Nn.side=Ma,Nn.needsUpdate=!0,Ka(Mn,Ae,Ce,Ot,Nn,dn),Nn.side=Ui,Nn.needsUpdate=!0,Jt=!0}}Jt===!0&&(at.updateMultisampleRenderTarget(qe),at.updateRenderTargetMipmap(qe))}N.setRenderTarget(ht,pt,Ut),N.setClearColor(he,de),At!==void 0&&(Ce.viewport=At),N.toneMapping=Dt}function br(X,fe,Ae){const Ce=fe.isScene===!0?fe.overrideMaterial:null;for(let ge=0,qe=X.length;ge<qe;ge++){const ot=X[ge],ht=ot.object,pt=ot.geometry,Ut=ot.group;let Dt=ot.material;Dt.allowOverride===!0&&Ce!==null&&(Dt=Ce),ht.layers.test(Ae.layers)&&Ka(ht,fe,Ae,pt,Dt,Ut)}}function Ka(X,fe,Ae,Ce,ge,qe){X.onBeforeRender(N,fe,Ae,Ce,ge,qe),X.modelViewMatrix.multiplyMatrices(Ae.matrixWorldInverse,X.matrixWorld),X.normalMatrix.getNormalMatrix(X.modelViewMatrix),ge.onBeforeRender(N,fe,Ae,Ce,X,qe),ge.transparent===!0&&ge.side===xl&&ge.forceSinglePass===!1?(ge.side=Ma,ge.needsUpdate=!0,N.renderBufferDirect(Ae,fe,Ce,ge,X,qe),ge.side=Cu,ge.needsUpdate=!0,N.renderBufferDirect(Ae,fe,Ce,ge,X,qe),ge.side=xl):N.renderBufferDirect(Ae,fe,Ce,ge,X,qe),X.onAfterRender(N,fe,Ae,Ce,ge,qe)}function Ln(X,fe,Ae){fe.isScene!==!0&&(fe=Zt);const Ce=He.get(X),ge=S.state.lights,qe=S.state.shadowsArray,ot=ge.state.version,ht=Ne.getParameters(X,ge.state,qe,fe,Ae),pt=Ne.getProgramCacheKey(ht);let Ut=Ce.programs;Ce.environment=X.isMeshStandardMaterial?fe.environment:null,Ce.fog=fe.fog,Ce.envMap=(X.isMeshStandardMaterial?j:wt).get(X.envMap||Ce.environment),Ce.envMapRotation=Ce.environment!==null&&X.envMap===null?fe.environmentRotation:X.envMapRotation,Ut===void 0&&(X.addEventListener("dispose",ut),Ut=new Map,Ce.programs=Ut);let Dt=Ut.get(pt);if(Dt!==void 0){if(Ce.currentProgram===Dt&&Ce.lightsStateVersion===ot)return Qa(X,ht),Dt}else ht.uniforms=Ne.getUniforms(X),X.onBeforeCompile(ht,N),Dt=Ne.acquireProgram(ht,pt),Ut.set(pt,Dt),Ce.uniforms=ht.uniforms;const At=Ce.uniforms;return(!X.isShaderMaterial&&!X.isRawShaderMaterial||X.clipping===!0)&&(At.clippingPlanes=dt.uniform),Qa(X,ht),Ce.needsLights=Ti(X),Ce.lightsStateVersion=ot,Ce.needsLights&&(At.ambientLightColor.value=ge.state.ambient,At.lightProbe.value=ge.state.probe,At.directionalLights.value=ge.state.directional,At.directionalLightShadows.value=ge.state.directionalShadow,At.spotLights.value=ge.state.spot,At.spotLightShadows.value=ge.state.spotShadow,At.rectAreaLights.value=ge.state.rectArea,At.ltc_1.value=ge.state.rectAreaLTC1,At.ltc_2.value=ge.state.rectAreaLTC2,At.pointLights.value=ge.state.point,At.pointLightShadows.value=ge.state.pointShadow,At.hemisphereLights.value=ge.state.hemi,At.directionalShadowMap.value=ge.state.directionalShadowMap,At.directionalShadowMatrix.value=ge.state.directionalShadowMatrix,At.spotShadowMap.value=ge.state.spotShadowMap,At.spotLightMatrix.value=ge.state.spotLightMatrix,At.spotLightMap.value=ge.state.spotLightMap,At.pointShadowMap.value=ge.state.pointShadowMap,At.pointShadowMatrix.value=ge.state.pointShadowMatrix),Ce.currentProgram=Dt,Ce.uniformsList=null,Dt}function Za(X){if(X.uniformsList===null){const fe=X.currentProgram.getUniforms();X.uniformsList=db.seqWithValue(fe.seq,X.uniforms)}return X.uniformsList}function Qa(X,fe){const Ae=He.get(X);Ae.outputColorSpace=fe.outputColorSpace,Ae.batching=fe.batching,Ae.batchingColor=fe.batchingColor,Ae.instancing=fe.instancing,Ae.instancingColor=fe.instancingColor,Ae.instancingMorph=fe.instancingMorph,Ae.skinning=fe.skinning,Ae.morphTargets=fe.morphTargets,Ae.morphNormals=fe.morphNormals,Ae.morphColors=fe.morphColors,Ae.morphTargetsCount=fe.morphTargetsCount,Ae.numClippingPlanes=fe.numClippingPlanes,Ae.numIntersection=fe.numClipIntersection,Ae.vertexAlphas=fe.vertexAlphas,Ae.vertexTangents=fe.vertexTangents,Ae.toneMapping=fe.toneMapping}function Lo(X,fe,Ae,Ce,ge){fe.isScene!==!0&&(fe=Zt),at.resetTextureUnits();const qe=fe.fog,ot=Ce.isMeshStandardMaterial?fe.environment:null,ht=V===null?N.outputColorSpace:V.isXRRenderTarget===!0?V.texture.colorSpace:Jc,pt=(Ce.isMeshStandardMaterial?j:wt).get(Ce.envMap||ot),Ut=Ce.vertexColors===!0&&!!Ae.attributes.color&&Ae.attributes.color.itemSize===4,Dt=!!Ae.attributes.tangent&&(!!Ce.normalMap||Ce.anisotropy>0),At=!!Ae.morphAttributes.position,Jt=!!Ae.morphAttributes.normal,En=!!Ae.morphAttributes.color;let Gn=Sl;Ce.toneMapped&&(V===null||V.isXRRenderTarget===!0)&&(Gn=N.toneMapping);const rn=Ae.morphAttributes.position||Ae.morphAttributes.normal||Ae.morphAttributes.color,Mn=rn!==void 0?rn.length:0,Ot=He.get(Ce),Nn=S.state.lights;if(we===!0&&(Be===!0||X!==L)){const Gi=X===L&&Ce.id===B;dt.setState(Ce,X,Gi)}let dn=!1;Ce.version===Ot.__version?(Ot.needsLights&&Ot.lightsStateVersion!==Nn.state.version||Ot.outputColorSpace!==ht||ge.isBatchedMesh&&Ot.batching===!1||!ge.isBatchedMesh&&Ot.batching===!0||ge.isBatchedMesh&&Ot.batchingColor===!0&&ge.colorTexture===null||ge.isBatchedMesh&&Ot.batchingColor===!1&&ge.colorTexture!==null||ge.isInstancedMesh&&Ot.instancing===!1||!ge.isInstancedMesh&&Ot.instancing===!0||ge.isSkinnedMesh&&Ot.skinning===!1||!ge.isSkinnedMesh&&Ot.skinning===!0||ge.isInstancedMesh&&Ot.instancingColor===!0&&ge.instanceColor===null||ge.isInstancedMesh&&Ot.instancingColor===!1&&ge.instanceColor!==null||ge.isInstancedMesh&&Ot.instancingMorph===!0&&ge.morphTexture===null||ge.isInstancedMesh&&Ot.instancingMorph===!1&&ge.morphTexture!==null||Ot.envMap!==pt||Ce.fog===!0&&Ot.fog!==qe||Ot.numClippingPlanes!==void 0&&(Ot.numClippingPlanes!==dt.numPlanes||Ot.numIntersection!==dt.numIntersection)||Ot.vertexAlphas!==Ut||Ot.vertexTangents!==Dt||Ot.morphTargets!==At||Ot.morphNormals!==Jt||Ot.morphColors!==En||Ot.toneMapping!==Gn||Ot.morphTargetsCount!==Mn)&&(dn=!0):(dn=!0,Ot.__version=Ce.version);let Ui=Ot.currentProgram;dn===!0&&(Ui=Ln(Ce,fe,ge));let gs=!1,Bn=!1,vs=!1;const Un=Ui.getUniforms(),er=Ot.uniforms;if(Pe.useProgram(Ui.program)&&(gs=!0,Bn=!0,vs=!0),Ce.id!==B&&(B=Ce.id,Bn=!0),gs||L!==X){Pe.buffers.depth.getReversed()?(je.copy(X.projectionMatrix),H5(je),k5(je),Un.setValue(Z,"projectionMatrix",je)):Un.setValue(Z,"projectionMatrix",X.projectionMatrix),Un.setValue(Z,"viewMatrix",X.matrixWorldInverse);const $i=Un.map.cameraPosition;$i!==void 0&&$i.setValue(Z,gt.setFromMatrixPosition(X.matrixWorld)),We.logarithmicDepthBuffer&&Un.setValue(Z,"logDepthBufFC",2/(Math.log(X.far+1)/Math.LN2)),(Ce.isMeshPhongMaterial||Ce.isMeshToonMaterial||Ce.isMeshLambertMaterial||Ce.isMeshBasicMaterial||Ce.isMeshStandardMaterial||Ce.isShaderMaterial)&&Un.setValue(Z,"isOrthographic",X.isOrthographicCamera===!0),L!==X&&(L=X,Bn=!0,vs=!0)}if(ge.isSkinnedMesh){Un.setOptional(Z,ge,"bindMatrix"),Un.setOptional(Z,ge,"bindMatrixInverse");const Gi=ge.skeleton;Gi&&(Gi.boneTexture===null&&Gi.computeBoneTexture(),Un.setValue(Z,"boneTexture",Gi.boneTexture,at))}ge.isBatchedMesh&&(Un.setOptional(Z,ge,"batchingTexture"),Un.setValue(Z,"batchingTexture",ge._matricesTexture,at),Un.setOptional(Z,ge,"batchingIdTexture"),Un.setValue(Z,"batchingIdTexture",ge._indirectTexture,at),Un.setOptional(Z,ge,"batchingColorTexture"),ge._colorsTexture!==null&&Un.setValue(Z,"batchingColorTexture",ge._colorsTexture,at));const Ai=Ae.morphAttributes;if((Ai.position!==void 0||Ai.normal!==void 0||Ai.color!==void 0)&&it.update(ge,Ae,Ui),(Bn||Ot.receiveShadow!==ge.receiveShadow)&&(Ot.receiveShadow=ge.receiveShadow,Un.setValue(Z,"receiveShadow",ge.receiveShadow)),Ce.isMeshGouraudMaterial&&Ce.envMap!==null&&(er.envMap.value=pt,er.flipEnvMap.value=pt.isCubeTexture&&pt.isRenderTargetTexture===!1?-1:1),Ce.isMeshStandardMaterial&&Ce.envMap===null&&fe.environment!==null&&(er.envMapIntensity.value=fe.environmentIntensity),Bn&&(Un.setValue(Z,"toneMappingExposure",N.toneMappingExposure),Ot.needsLights&&Ks(er,vs),qe&&Ce.fog===!0&&Oe.refreshFogUniforms(er,qe),Oe.refreshMaterialUniforms(er,Ce,K,Y,S.state.transmissionRenderTarget[X.id]),db.upload(Z,Za(Ot),er,at)),Ce.isShaderMaterial&&Ce.uniformsNeedUpdate===!0&&(db.upload(Z,Za(Ot),er,at),Ce.uniformsNeedUpdate=!1),Ce.isSpriteMaterial&&Un.setValue(Z,"center",ge.center),Un.setValue(Z,"modelViewMatrix",ge.modelViewMatrix),Un.setValue(Z,"normalMatrix",ge.normalMatrix),Un.setValue(Z,"modelMatrix",ge.matrixWorld),Ce.isShaderMaterial||Ce.isRawShaderMaterial){const Gi=Ce.uniformsGroups;for(let $i=0,_r=Gi.length;$i<_r;$i++){const ys=Gi[$i];re.update(ys,Ui),re.bind(ys,Ui)}}return Ui}function Ks(X,fe){X.ambientLightColor.needsUpdate=fe,X.lightProbe.needsUpdate=fe,X.directionalLights.needsUpdate=fe,X.directionalLightShadows.needsUpdate=fe,X.pointLights.needsUpdate=fe,X.pointLightShadows.needsUpdate=fe,X.spotLights.needsUpdate=fe,X.spotLightShadows.needsUpdate=fe,X.rectAreaLights.needsUpdate=fe,X.hemisphereLights.needsUpdate=fe}function Ti(X){return X.isMeshLambertMaterial||X.isMeshToonMaterial||X.isMeshPhongMaterial||X.isMeshStandardMaterial||X.isShadowMaterial||X.isShaderMaterial&&X.lights===!0}this.getActiveCubeFace=function(){return U},this.getActiveMipmapLevel=function(){return I},this.getRenderTarget=function(){return V},this.setRenderTargetTextures=function(X,fe,Ae){const Ce=He.get(X);Ce.__autoAllocateDepthBuffer=X.resolveDepthBuffer===!1,Ce.__autoAllocateDepthBuffer===!1&&(Ce.__useRenderToTexture=!1),He.get(X.texture).__webglTexture=fe,He.get(X.depthTexture).__webglTexture=Ce.__autoAllocateDepthBuffer?void 0:Ae,Ce.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(X,fe){const Ae=He.get(X);Ae.__webglFramebuffer=fe,Ae.__useDefaultFramebuffer=fe===void 0};const Hu=Z.createFramebuffer();this.setRenderTarget=function(X,fe=0,Ae=0){V=X,U=fe,I=Ae;let Ce=!0,ge=null,qe=!1,ot=!1;if(X){const pt=He.get(X);if(pt.__useDefaultFramebuffer!==void 0)Pe.bindFramebuffer(Z.FRAMEBUFFER,null),Ce=!1;else if(pt.__webglFramebuffer===void 0)at.setupRenderTarget(X);else if(pt.__hasExternalTextures)at.rebindTextures(X,He.get(X.texture).__webglTexture,He.get(X.depthTexture).__webglTexture);else if(X.depthBuffer){const At=X.depthTexture;if(pt.__boundDepthTexture!==At){if(At!==null&&He.has(At)&&(X.width!==At.image.width||X.height!==At.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");at.setupDepthRenderbuffer(X)}}const Ut=X.texture;(Ut.isData3DTexture||Ut.isDataArrayTexture||Ut.isCompressedArrayTexture)&&(ot=!0);const Dt=He.get(X).__webglFramebuffer;X.isWebGLCubeRenderTarget?(Array.isArray(Dt[fe])?ge=Dt[fe][Ae]:ge=Dt[fe],qe=!0):X.samples>0&&at.useMultisampledRTT(X)===!1?ge=He.get(X).__webglMultisampledFramebuffer:Array.isArray(Dt)?ge=Dt[Ae]:ge=Dt,W.copy(X.viewport),oe.copy(X.scissor),ee=X.scissorTest}else W.copy(te).multiplyScalar(K).floor(),oe.copy(Se).multiplyScalar(K).floor(),ee=ye;if(Ae!==0&&(ge=Hu),Pe.bindFramebuffer(Z.FRAMEBUFFER,ge)&&Ce&&Pe.drawBuffers(X,ge),Pe.viewport(W),Pe.scissor(oe),Pe.setScissorTest(ee),qe){const pt=He.get(X.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_CUBE_MAP_POSITIVE_X+fe,pt.__webglTexture,Ae)}else if(ot){const pt=He.get(X.texture),Ut=fe;Z.framebufferTextureLayer(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,pt.__webglTexture,Ae,Ut)}else if(X!==null&&Ae!==0){const pt=He.get(X.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,pt.__webglTexture,Ae)}B=-1},this.readRenderTargetPixels=function(X,fe,Ae,Ce,ge,qe,ot,ht=0){if(!(X&&X.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let pt=He.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&ot!==void 0&&(pt=pt[ot]),pt){Pe.bindFramebuffer(Z.FRAMEBUFFER,pt);try{const Ut=X.textures[ht],Dt=Ut.format,At=Ut.type;if(!We.textureFormatReadable(Dt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!We.textureTypeReadable(At)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}fe>=0&&fe<=X.width-Ce&&Ae>=0&&Ae<=X.height-ge&&(X.textures.length>1&&Z.readBuffer(Z.COLOR_ATTACHMENT0+ht),Z.readPixels(fe,Ae,Ce,ge,xe.convert(Dt),xe.convert(At),qe))}finally{const Ut=V!==null?He.get(V).__webglFramebuffer:null;Pe.bindFramebuffer(Z.FRAMEBUFFER,Ut)}}},this.readRenderTargetPixelsAsync=async function(X,fe,Ae,Ce,ge,qe,ot,ht=0){if(!(X&&X.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let pt=He.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&ot!==void 0&&(pt=pt[ot]),pt)if(fe>=0&&fe<=X.width-Ce&&Ae>=0&&Ae<=X.height-ge){Pe.bindFramebuffer(Z.FRAMEBUFFER,pt);const Ut=X.textures[ht],Dt=Ut.format,At=Ut.type;if(!We.textureFormatReadable(Dt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!We.textureTypeReadable(At))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Jt=Z.createBuffer();Z.bindBuffer(Z.PIXEL_PACK_BUFFER,Jt),Z.bufferData(Z.PIXEL_PACK_BUFFER,qe.byteLength,Z.STREAM_READ),X.textures.length>1&&Z.readBuffer(Z.COLOR_ATTACHMENT0+ht),Z.readPixels(fe,Ae,Ce,ge,xe.convert(Dt),xe.convert(At),0);const En=V!==null?He.get(V).__webglFramebuffer:null;Pe.bindFramebuffer(Z.FRAMEBUFFER,En);const Gn=Z.fenceSync(Z.SYNC_GPU_COMMANDS_COMPLETE,0);return Z.flush(),await V5(Z,Gn,4),Z.bindBuffer(Z.PIXEL_PACK_BUFFER,Jt),Z.getBufferSubData(Z.PIXEL_PACK_BUFFER,0,qe),Z.deleteBuffer(Jt),Z.deleteSync(Gn),qe}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(X,fe=null,Ae=0){const Ce=Math.pow(2,-Ae),ge=Math.floor(X.image.width*Ce),qe=Math.floor(X.image.height*Ce),ot=fe!==null?fe.x:0,ht=fe!==null?fe.y:0;at.setTexture2D(X,0),Z.copyTexSubImage2D(Z.TEXTURE_2D,Ae,0,0,ot,ht,ge,qe),Pe.unbindTexture()};const ku=Z.createFramebuffer(),Ja=Z.createFramebuffer();this.copyTextureToTexture=function(X,fe,Ae=null,Ce=null,ge=0,qe=null){qe===null&&(ge!==0?(Ip("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),qe=ge,ge=0):qe=0);let ot,ht,pt,Ut,Dt,At,Jt,En,Gn;const rn=X.isCompressedTexture?X.mipmaps[qe]:X.image;if(Ae!==null)ot=Ae.max.x-Ae.min.x,ht=Ae.max.y-Ae.min.y,pt=Ae.isBox3?Ae.max.z-Ae.min.z:1,Ut=Ae.min.x,Dt=Ae.min.y,At=Ae.isBox3?Ae.min.z:0;else{const Ai=Math.pow(2,-ge);ot=Math.floor(rn.width*Ai),ht=Math.floor(rn.height*Ai),X.isDataArrayTexture?pt=rn.depth:X.isData3DTexture?pt=Math.floor(rn.depth*Ai):pt=1,Ut=0,Dt=0,At=0}Ce!==null?(Jt=Ce.x,En=Ce.y,Gn=Ce.z):(Jt=0,En=0,Gn=0);const Mn=xe.convert(fe.format),Ot=xe.convert(fe.type);let Nn;fe.isData3DTexture?(at.setTexture3D(fe,0),Nn=Z.TEXTURE_3D):fe.isDataArrayTexture||fe.isCompressedArrayTexture?(at.setTexture2DArray(fe,0),Nn=Z.TEXTURE_2D_ARRAY):(at.setTexture2D(fe,0),Nn=Z.TEXTURE_2D),Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,fe.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,fe.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,fe.unpackAlignment);const dn=Z.getParameter(Z.UNPACK_ROW_LENGTH),Ui=Z.getParameter(Z.UNPACK_IMAGE_HEIGHT),gs=Z.getParameter(Z.UNPACK_SKIP_PIXELS),Bn=Z.getParameter(Z.UNPACK_SKIP_ROWS),vs=Z.getParameter(Z.UNPACK_SKIP_IMAGES);Z.pixelStorei(Z.UNPACK_ROW_LENGTH,rn.width),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,rn.height),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,Ut),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,Dt),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,At);const Un=X.isDataArrayTexture||X.isData3DTexture,er=fe.isDataArrayTexture||fe.isData3DTexture;if(X.isDepthTexture){const Ai=He.get(X),Gi=He.get(fe),$i=He.get(Ai.__renderTarget),_r=He.get(Gi.__renderTarget);Pe.bindFramebuffer(Z.READ_FRAMEBUFFER,$i.__webglFramebuffer),Pe.bindFramebuffer(Z.DRAW_FRAMEBUFFER,_r.__webglFramebuffer);for(let ys=0;ys<pt;ys++)Un&&(Z.framebufferTextureLayer(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,He.get(X).__webglTexture,ge,At+ys),Z.framebufferTextureLayer(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,He.get(fe).__webglTexture,qe,Gn+ys)),Z.blitFramebuffer(Ut,Dt,ot,ht,Jt,En,ot,ht,Z.DEPTH_BUFFER_BIT,Z.NEAREST);Pe.bindFramebuffer(Z.READ_FRAMEBUFFER,null),Pe.bindFramebuffer(Z.DRAW_FRAMEBUFFER,null)}else if(ge!==0||X.isRenderTargetTexture||He.has(X)){const Ai=He.get(X),Gi=He.get(fe);Pe.bindFramebuffer(Z.READ_FRAMEBUFFER,ku),Pe.bindFramebuffer(Z.DRAW_FRAMEBUFFER,Ja);for(let $i=0;$i<pt;$i++)Un?Z.framebufferTextureLayer(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Ai.__webglTexture,ge,At+$i):Z.framebufferTexture2D(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,Ai.__webglTexture,ge),er?Z.framebufferTextureLayer(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Gi.__webglTexture,qe,Gn+$i):Z.framebufferTexture2D(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,Gi.__webglTexture,qe),ge!==0?Z.blitFramebuffer(Ut,Dt,ot,ht,Jt,En,ot,ht,Z.COLOR_BUFFER_BIT,Z.NEAREST):er?Z.copyTexSubImage3D(Nn,qe,Jt,En,Gn+$i,Ut,Dt,ot,ht):Z.copyTexSubImage2D(Nn,qe,Jt,En,Ut,Dt,ot,ht);Pe.bindFramebuffer(Z.READ_FRAMEBUFFER,null),Pe.bindFramebuffer(Z.DRAW_FRAMEBUFFER,null)}else er?X.isDataTexture||X.isData3DTexture?Z.texSubImage3D(Nn,qe,Jt,En,Gn,ot,ht,pt,Mn,Ot,rn.data):fe.isCompressedArrayTexture?Z.compressedTexSubImage3D(Nn,qe,Jt,En,Gn,ot,ht,pt,Mn,rn.data):Z.texSubImage3D(Nn,qe,Jt,En,Gn,ot,ht,pt,Mn,Ot,rn):X.isDataTexture?Z.texSubImage2D(Z.TEXTURE_2D,qe,Jt,En,ot,ht,Mn,Ot,rn.data):X.isCompressedTexture?Z.compressedTexSubImage2D(Z.TEXTURE_2D,qe,Jt,En,rn.width,rn.height,Mn,rn.data):Z.texSubImage2D(Z.TEXTURE_2D,qe,Jt,En,ot,ht,Mn,Ot,rn);Z.pixelStorei(Z.UNPACK_ROW_LENGTH,dn),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,Ui),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,gs),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,Bn),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,vs),qe===0&&fe.generateMipmaps&&Z.generateMipmap(Nn),Pe.unbindTexture()},this.copyTextureToTexture3D=function(X,fe,Ae=null,Ce=null,ge=0){return Ip('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(X,fe,Ae,Ce,ge)},this.initRenderTarget=function(X){He.get(X).__webglFramebuffer===void 0&&at.setupRenderTarget(X)},this.initTexture=function(X){X.isCubeTexture?at.setTextureCube(X,0):X.isData3DTexture?at.setTexture3D(X,0):X.isDataArrayTexture||X.isCompressedArrayTexture?at.setTexture2DArray(X,0):at.setTexture2D(X,0),Pe.unbindTexture()},this.resetState=function(){U=0,I=0,V=null,Pe.reset(),Ke.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Gs}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=bn._getDrawingBufferColorSpace(e),t.unpackColorSpace=bn._getUnpackColorSpace()}}const e7=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:sA,AddEquation:Gc,AddOperation:FN,AdditiveAnimationBlendMode:mA,AdditiveBlending:UM,AgXToneMapping:$N,AlphaFormat:fA,AlwaysCompare:aP,AlwaysDepth:wb,AlwaysStencilFunc:FM,AmbientLight:JP,AnimationAction:lL,AnimationClip:$0,AnimationLoader:mV,AnimationMixer:$V,AnimationObjectGroup:kV,AnimationUtils:fV,ArcCurve:MP,ArrayCamera:aL,ArrowHelper:fH,AttachedBindMode:IM,Audio:sL,AudioAnalyser:NV,AudioContext:VA,AudioListener:RV,AudioLoader:AV,AxesHelper:hH,BackSide:Ma,BasicDepthPacking:KN,BasicShadowMap:xN,BatchedMesh:xP,Bone:EA,BooleanKeyframeTrack:Qh,Box2:ZV,Box3:Qr,Box3Helper:uH,BoxGeometry:Zh,BoxHelper:lH,BufferAttribute:Kn,BufferGeometry:on,BufferGeometryLoader:rL,ByteType:lA,Cache:_l,Camera:Z_,CameraHelper:oH,CanvasTexture:LF,CapsuleGeometry:rS,CatmullRomCurve3:TP,CineonToneMapping:kN,CircleGeometry:aS,ClampToEdgeWrapping:ks,Clock:HA,Color:xt,ColorKeyframeTrack:BA,ColorManagement:bn,CompressedArrayTexture:NF,CompressedCubeTexture:PF,CompressedTexture:iS,CompressedTextureLoader:gV,ConeGeometry:ov,ConstantAlphaFactor:zN,ConstantColorFactor:LN,Controls:pH,CubeCamera:hP,CubeReflectionMapping:Ru,CubeRefractionMapping:Qc,CubeTexture:av,CubeTextureLoader:vV,CubeUVReflectionMapping:nm,CubicBezierCurve:wA,CubicBezierCurve3:AP,CubicInterpolant:jP,CullFaceBack:LM,CullFaceFront:yN,CullFaceFrontBack:F4,CullFaceNone:vN,Curve:No,CurvePath:CP,CustomBlending:bN,CustomToneMapping:GN,CylinderGeometry:sv,Cylindrical:KV,Data3DTexture:K_,DataArrayTexture:Y_,DataTexture:El,DataTextureLoader:yV,DataUtils:iF,DecrementStencilOp:J4,DecrementWrapStencilOp:t5,DefaultLoadingManager:qP,DepthFormat:jp,DepthStencilFormat:Xp,DepthTexture:TA,DetachedBindMode:XN,DirectionalLight:QP,DirectionalLightHelper:sH,DiscreteInterpolant:XP,DodecahedronGeometry:sS,DoubleSide:xl,DstAlphaFactor:RN,DstColorFactor:ON,DynamicCopyUsage:g5,DynamicDrawUsage:c5,DynamicReadUsage:d5,EdgesGeometry:EP,EllipseCurve:oS,EqualCompare:tP,EqualDepth:Rb,EqualStencilFunc:a5,EquirectangularReflectionMapping:R0,EquirectangularRefractionMapping:D0,Euler:ms,EventDispatcher:Pl,ExtrudeGeometry:lS,FileLoader:Ou,Float16BufferAttribute:cF,Float32BufferAttribute:Et,FloatType:$a,Fog:J_,FogExp2:Q_,FramebufferTexture:OF,FrontSide:Cu,Frustum:rm,FrustumArray:nS,GLBufferAttribute:YV,GLSL1:y5,GLSL3:VM,GreaterCompare:nP,GreaterDepth:Ob,GreaterEqualCompare:rP,GreaterEqualDepth:Db,GreaterEqualStencilFunc:u5,GreaterStencilFunc:o5,GridHelper:rH,Group:Dp,HalfFloatType:im,HemisphereLight:YP,HemisphereLightHelper:iH,IcosahedronGeometry:uS,ImageBitmapLoader:TV,ImageLoader:j0,ImageUtils:lP,IncrementStencilOp:Q4,IncrementWrapStencilOp:e5,InstancedBufferAttribute:Kp,InstancedBufferGeometry:iL,InstancedInterleavedBuffer:qV,InstancedMesh:yP,Int16BufferAttribute:lF,Int32BufferAttribute:uF,Int8BufferAttribute:aF,IntType:k_,InterleavedBuffer:eS,InterleavedBufferAttribute:kh,Interpolant:cv,InterpolateDiscrete:P0,InterpolateLinear:a_,InterpolateSmooth:fb,InterpolationSamplingMode:_5,InterpolationSamplingType:b5,InvertStencilOp:n5,KeepStencilOp:_h,KeyframeTrack:Ws,LOD:gP,LatheGeometry:cS,Layers:qp,LessCompare:eP,LessDepth:Cb,LessEqualCompare:gA,LessEqualDepth:Hh,LessEqualStencilFunc:s5,LessStencilFunc:r5,Light:uf,LightProbe:nL,Line:ef,Line3:QV,LineBasicMaterial:Ta,LineCurve:CA,LineCurve3:wP,LineDashedMaterial:kP,LineLoop:bP,LineSegments:Ll,LinearFilter:ur,LinearInterpolant:zA,LinearMipMapLinearFilter:G4,LinearMipMapNearestFilter:k4,LinearMipmapLinearFilter:bl,LinearMipmapNearestFilter:l0,LinearSRGBColorSpace:Jc,LinearToneMapping:VN,LinearTransfer:U0,Loader:Wa,LoaderUtils:jM,LoadingManager:IA,LoopOnce:WN,LoopPingPong:YN,LoopRepeat:qN,MOUSE:xh,Material:ea,MaterialLoader:vS,MathUtils:I5,Matrix2:jA,Matrix3:tn,Matrix4:Gt,MaxEquation:MN,Mesh:Qi,MeshBasicMaterial:of,MeshDepthMaterial:PA,MeshDistanceMaterial:LA,MeshLambertMaterial:VP,MeshMatcapMaterial:HP,MeshNormalMaterial:FP,MeshPhongMaterial:BP,MeshPhysicalMaterial:zP,MeshStandardMaterial:NA,MeshToonMaterial:IP,MinEquation:EN,MirroredRepeatWrapping:N0,MixOperation:IN,MultiplyBlending:BM,MultiplyOperation:iv,NearestFilter:Nr,NearestMipMapLinearFilter:H4,NearestMipMapNearestFilter:V4,NearestMipmapLinearFilter:Cp,NearestMipmapNearestFilter:oA,NeutralToneMapping:jN,NeverCompare:JN,NeverDepth:Ab,NeverStencilFunc:i5,NoBlending:_u,NoColorSpace:vu,NoToneMapping:Sl,NormalAnimationBlendMode:q_,NormalBlending:Lh,NotEqualCompare:iP,NotEqualDepth:Nb,NotEqualStencilFunc:l5,NumberKeyframeTrack:k0,Object3D:wn,ObjectLoader:EV,ObjectSpaceNormalMap:QN,OctahedronGeometry:lv,OneFactor:AN,OneMinusConstantAlphaFactor:BN,OneMinusConstantColorFactor:UN,OneMinusDstAlphaFactor:DN,OneMinusDstColorFactor:NN,OneMinusSrcAlphaFactor:Tb,OneMinusSrcColorFactor:CN,OrthographicCamera:Yc,PCFShadowMap:V_,PCFSoftShadowMap:o0,PMREMGenerator:YM,Path:u_,PerspectiveCamera:ki,Plane:mu,PlaneGeometry:am,PlaneHelper:cH,PointLight:ZP,PointLightHelper:tH,Points:_P,PointsMaterial:MA,PolarGridHelper:aH,PolyhedronGeometry:lf,PositionalAudio:OV,PropertyBinding:Tn,PropertyMixer:oL,QuadraticBezierCurve:RA,QuadraticBezierCurve3:DA,Quaternion:Zr,QuaternionKeyframeTrack:fv,QuaternionLinearInterpolant:WP,RED_GREEN_RGTC2_Format:i_,RED_RGTC1_Format:pA,REVISION:F_,RGBADepthPacking:ZN,RGBAFormat:qr,RGBAIntegerFormat:W_,RGBA_ASTC_10x10_Format:Zb,RGBA_ASTC_10x5_Format:qb,RGBA_ASTC_10x6_Format:Yb,RGBA_ASTC_10x8_Format:Kb,RGBA_ASTC_12x10_Format:Qb,RGBA_ASTC_12x12_Format:Jb,RGBA_ASTC_4x4_Format:Vb,RGBA_ASTC_5x4_Format:Hb,RGBA_ASTC_5x5_Format:kb,RGBA_ASTC_6x5_Format:Gb,RGBA_ASTC_6x6_Format:$b,RGBA_ASTC_8x5_Format:jb,RGBA_ASTC_8x6_Format:Xb,RGBA_ASTC_8x8_Format:Wb,RGBA_BPTC_Format:d0,RGBA_ETC2_EAC_Format:Fb,RGBA_PVRTC_2BPPV1_Format:zb,RGBA_PVRTC_4BPPV1_Format:Ub,RGBA_S3TC_DXT1_Format:c0,RGBA_S3TC_DXT3_Format:f0,RGBA_S3TC_DXT5_Format:h0,RGBDepthPacking:q4,RGBFormat:hA,RGBIntegerFormat:$4,RGB_BPTC_SIGNED_Format:e_,RGB_BPTC_UNSIGNED_Format:t_,RGB_ETC1_Format:Bb,RGB_ETC2_Format:Ib,RGB_PVRTC_2BPPV1_Format:Lb,RGB_PVRTC_4BPPV1_Format:Pb,RGB_S3TC_DXT1_Format:u0,RGDepthPacking:Y4,RGFormat:dA,RGIntegerFormat:X_,RawShaderMaterial:UP,Ray:Kh,Raycaster:uL,RectAreaLight:eL,RedFormat:j_,RedIntegerFormat:rv,ReinhardToneMapping:HN,RenderTarget:yA,RenderTarget3D:jV,RepeatWrapping:O0,ReplaceStencilOp:Z4,ReverseSubtractEquation:SN,RingGeometry:fS,SIGNED_RED_GREEN_RGTC2_Format:r_,SIGNED_RED_RGTC1_Format:n_,SRGBColorSpace:Wr,SRGBTransfer:kn,Scene:_A,ShaderChunk:cn,ShaderLib:wo,ShaderMaterial:Do,ShadowMaterial:LP,Shape:zh,ShapeGeometry:hS,ShapePath:dH,ShapeUtils:Co,ShortType:uA,Skeleton:tS,SkeletonHelper:eH,SkinnedMesh:vP,Source:Xc,Sphere:Pr,SphereGeometry:uv,Spherical:WM,SphericalHarmonics3:tL,SplineCurve:OA,SpotLight:KP,SpotLightHelper:JV,Sprite:mP,SpriteMaterial:SA,SrcAlphaFactor:Mb,SrcAlphaSaturateFactor:PN,SrcColorFactor:wN,StaticCopyUsage:m5,StaticDrawUsage:z0,StaticReadUsage:h5,StereoCamera:wV,StreamCopyUsage:v5,StreamDrawUsage:f5,StreamReadUsage:p5,StringKeyframeTrack:Jh,SubtractEquation:_N,SubtractiveBlending:zM,TOUCH:bh,TangentSpaceNormalMap:sf,TetrahedronGeometry:dS,Texture:Ni,TextureLoader:xV,TextureUtils:xH,TimestampQuery:x5,TorusGeometry:pS,TorusKnotGeometry:mS,Triangle:Ga,TriangleFanDrawMode:W4,TriangleStripDrawMode:X4,TrianglesDrawMode:j4,TubeGeometry:gS,UVMapping:H_,Uint16BufferAttribute:xA,Uint32BufferAttribute:bA,Uint8BufferAttribute:sF,Uint8ClampedBufferAttribute:oF,Uniform:$A,UniformsGroup:WV,UniformsLib:ft,UniformsUtils:fP,UnsignedByteType:Xs,UnsignedInt248Type:$p,UnsignedInt5999Type:cA,UnsignedIntType:Du,UnsignedShort4444Type:G_,UnsignedShort5551Type:$_,UnsignedShortType:Gp,VSMShadowMap:Ao,Vector2:Ie,Vector3:Q,Vector4:An,VectorKeyframeTrack:G0,VideoFrameTexture:DF,VideoTexture:SP,WebGL3DRenderTarget:W5,WebGLArrayRenderTarget:X5,WebGLCoordinateSystem:Gs,WebGLCubeRenderTarget:dP,WebGLRenderTarget:Rl,WebGLRenderer:vL,WebGLUtils:gL,WebGPUCoordinateSystem:B0,WebXRController:hb,WireframeGeometry:PP,WrapAroundEnding:L0,ZeroCurvatureEnding:Ch,ZeroFactor:TN,ZeroSlopeEnding:Rh,ZeroStencilOp:K4,createCanvasElement:oP},Symbol.toStringTag,{value:"Module"}));var xE={exports:{}},hu={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R2;function t7(){return R2||(R2=1,hu.ConcurrentRoot=1,hu.ContinuousEventPriority=8,hu.DefaultEventPriority=32,hu.DiscreteEventPriority=2,hu.IdleEventPriority=268435456,hu.LegacyRoot=0,hu.NoEventPriority=0),hu}var D2;function n7(){return D2||(D2=1,xE.exports=t7()),xE.exports}var pb=n7(),bE={exports:{}},_E={},SE={exports:{}},EE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O2;function i7(){if(O2)return EE;O2=1;var n=Yh();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,a=n.useLayoutEffect,o=n.useDebugValue;function u(g,y){var b=y(),_=i({inst:{value:b,getSnapshot:y}}),A=_[0].inst,T=_[1];return a(function(){A.value=b,A.getSnapshot=y,f(A)&&T({inst:A})},[g,b,y]),r(function(){return f(A)&&T({inst:A}),g(function(){f(A)&&T({inst:A})})},[g]),o(b),b}function f(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!t(g,b)}catch{return!0}}function d(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return EE.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,EE}var N2;function r7(){return N2||(N2=1,SE.exports=i7()),SE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P2;function a7(){if(P2)return _E;P2=1;var n=Yh(),e=r7();function t(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=n.useRef,o=n.useEffect,u=n.useMemo,f=n.useDebugValue;return _E.useSyncExternalStoreWithSelector=function(d,m,g,y,b){var _=a(null);if(_.current===null){var A={hasValue:!1,value:null};_.current=A}else A=_.current;_=u(function(){function S(U){if(!C){if(C=!0,D=U,U=y(U),b!==void 0&&A.hasValue){var I=A.value;if(b(I,U))return N=I}return N=U}if(I=N,i(D,U))return I;var V=y(U);return b!==void 0&&b(I,V)?(D=U,I):(D=U,N=V)}var C=!1,D,N,z=g===void 0?null:g;return[function(){return S(m())},z===null?void 0:function(){return S(z())}]},[m,g,y,b]);var T=r(d,_[0],_[1]);return o(function(){A.hasValue=!0,A.value=T},[T]),f(T),T},_E}var L2;function s7(){return L2||(L2=1,bE.exports=a7()),bE.exports}var o7=s7();const l7=qh(o7),U2=n=>{let e;const t=new Set,i=(d,m)=>{const g=typeof d=="function"?d(e):d;if(!Object.is(g,e)){const y=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(b=>b(e,y))}},r=()=>e,u={setState:i,getState:r,getInitialState:()=>f,subscribe:d=>(t.add(d),()=>t.delete(d))},f=e=n(i,r,u);return u},u7=n=>n?U2(n):U2,{useSyncExternalStoreWithSelector:c7}=l7,f7=n=>n;function h7(n,e=f7,t){const i=c7(n.subscribe,n.getState,n.getInitialState,e,t);return J.useDebugValue(i),i}const z2=(n,e)=>{const t=u7(n),i=(r,a=e)=>h7(t,r,a);return Object.assign(i,t),i},d7=(n,e)=>n?z2(n,e):z2;var ME={exports:{}},TE={exports:{}},AE={exports:{}},wE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B2;function p7(){return B2||(B2=1,function(n){function e(k,Y){var K=k.length;k.push(Y);e:for(;0<K;){var ue=K-1>>>1,G=k[ue];if(0<r(G,Y))k[ue]=Y,k[K]=G,K=ue;else break e}}function t(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var Y=k[0],K=k.pop();if(K!==Y){k[0]=K;e:for(var ue=0,G=k.length,te=G>>>1;ue<te;){var Se=2*(ue+1)-1,ye=k[Se],se=Se+1,we=k[se];if(0>r(ye,K))se<G&&0>r(we,ye)?(k[ue]=we,k[se]=K,ue=se):(k[ue]=ye,k[Se]=K,ue=Se);else if(se<G&&0>r(we,K))k[ue]=we,k[se]=K,ue=se;else break e}}return Y}function r(k,Y){var K=k.sortIndex-Y.sortIndex;return K!==0?K:k.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();n.unstable_now=function(){return o.now()-u}}var f=[],d=[],m=1,g=null,y=3,b=!1,_=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function D(k){for(var Y=t(d);Y!==null;){if(Y.callback===null)i(d);else if(Y.startTime<=k)i(d),Y.sortIndex=Y.expirationTime,e(f,Y);else break;Y=t(d)}}function N(k){if(A=!1,D(k),!_)if(t(f)!==null)_=!0,he();else{var Y=t(d);Y!==null&&de(N,Y.startTime-k)}}var z=!1,U=-1,I=5,V=-1;function B(){return!(n.unstable_now()-V<I)}function L(){if(z){var k=n.unstable_now();V=k;var Y=!0;try{e:{_=!1,A&&(A=!1,S(U),U=-1),b=!0;var K=y;try{t:{for(D(k),g=t(f);g!==null&&!(g.expirationTime>k&&B());){var ue=g.callback;if(typeof ue=="function"){g.callback=null,y=g.priorityLevel;var G=ue(g.expirationTime<=k);if(k=n.unstable_now(),typeof G=="function"){g.callback=G,D(k),Y=!0;break t}g===t(f)&&i(f),D(k)}else i(f);g=t(f)}if(g!==null)Y=!0;else{var te=t(d);te!==null&&de(N,te.startTime-k),Y=!1}}break e}finally{g=null,y=K,b=!1}Y=void 0}}finally{Y?W():z=!1}}}var W;if(typeof C=="function")W=function(){C(L)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ee=oe.port2;oe.port1.onmessage=L,W=function(){ee.postMessage(null)}}else W=function(){T(L,0)};function he(){z||(z=!0,W())}function de(k,Y){U=T(function(){k(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){_||b||(_=!0,he())},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(k){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var K=y;y=Y;try{return k()}finally{y=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,Y){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var K=y;y=k;try{return Y()}finally{y=K}},n.unstable_scheduleCallback=function(k,Y,K){var ue=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ue+K:ue):K=ue,k){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=K+G,k={id:m++,callback:Y,priorityLevel:k,startTime:K,expirationTime:G,sortIndex:-1},K>ue?(k.sortIndex=K,e(d,k),t(f)===null&&k===t(d)&&(A?(S(U),U=-1):A=!0,de(N,K-ue))):(k.sortIndex=G,e(f,k),_||b||(_=!0,he())),k},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(k){var Y=y;return function(){var K=y;y=Y;try{return k.apply(this,arguments)}finally{y=K}}}}(wE)),wE}var I2;function m7(){return I2||(I2=1,AE.exports=p7()),AE.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F2;function g7(){return F2||(F2=1,function(n){n.exports=function(e){function t(c,h,x,M){return new Wm(c,h,x,M)}function i(){}function r(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(c){return c===null||typeof c!="object"?null:(c=uo&&c[uo]||c["@@iterator"],typeof c=="function"?c:null)}function o(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===Zm?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case Ko:return"Fragment";case Ra:return"Portal";case Td:return"Profiler";case Vf:return"StrictMode";case Ad:return"Suspense";case lc:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case ns:return(c.displayName||"Context")+".Provider";case Ym:return(c._context.displayName||"Context")+".Consumer";case kf:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case wd:return h=c.displayName||null,h!==null?h:o(c.type)||"Memo";case Da:h=c._payload,c=c._init;try{return o(c(h))}catch{}}return null}function u(c){if(Es===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);Es=h&&h[1]||"",co=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Es+c+co}function f(c,h){if(!c||Hl)return"";Hl=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var M={DetermineComponentFrameRoot:function(){try{if(h){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(Wt){var mt=Wt}Reflect.construct(c,[],ct)}else{try{ct.call()}catch(Wt){mt=Wt}c.call(ct.prototype)}}else{try{throw Error()}catch(Wt){mt=Wt}(ct=c())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(Wt){if(Wt&&mt&&typeof Wt.stack=="string")return[Wt.stack,mt.stack]}return[null,null]}};M.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(M.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(M.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=M.DetermineComponentFrameRoot(),q=P[0],ae=P[1];if(q&&ae){var ve=q.split(`
`),Ue=ae.split(`
`);for(R=M=0;M<ve.length&&!ve[M].includes("DetermineComponentFrameRoot");)M++;for(;R<Ue.length&&!Ue[R].includes("DetermineComponentFrameRoot");)R++;if(M===ve.length||R===Ue.length)for(M=ve.length-1,R=Ue.length-1;1<=M&&0<=R&&ve[M]!==Ue[R];)R--;for(;1<=M&&0<=R;M--,R--)if(ve[M]!==Ue[R]){if(M!==1||R!==1)do if(M--,R--,0>R||ve[M]!==Ue[R]){var tt=`
`+ve[M].replace(" at new "," at ");return c.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",c.displayName)),tt}while(1<=M&&0<=R);break}}}finally{Hl=!1,Error.prepareStackTrace=x}return(x=c?c.displayName||c.name:"")?u(x):""}function d(c){switch(c.tag){case 26:case 27:case 5:return u(c.type);case 16:return u("Lazy");case 13:return u("Suspense");case 19:return u("SuspenseList");case 0:case 15:return c=f(c.type,!1),c;case 11:return c=f(c.type.render,!1),c;case 1:return c=f(c.type,!0),c;default:return""}}function m(c){try{var h="";do h+=d(c),c=c.return;while(c);return h}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function g(c){var h=c,x=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(x=h.return),c=h.return;while(c)}return h.tag===3?x:null}function y(c){if(g(c)!==c)throw Error(r(188))}function b(c){var h=c.alternate;if(!h){if(h=g(c),h===null)throw Error(r(188));return h!==c?null:c}for(var x=c,M=h;;){var R=x.return;if(R===null)break;var P=R.alternate;if(P===null){if(M=R.return,M!==null){x=M;continue}break}if(R.child===P.child){for(P=R.child;P;){if(P===x)return y(R),c;if(P===M)return y(R),h;P=P.sibling}throw Error(r(188))}if(x.return!==M.return)x=R,M=P;else{for(var q=!1,ae=R.child;ae;){if(ae===x){q=!0,x=R,M=P;break}if(ae===M){q=!0,M=R,x=P;break}ae=ae.sibling}if(!q){for(ae=P.child;ae;){if(ae===x){q=!0,x=P,M=R;break}if(ae===M){q=!0,M=P,x=R;break}ae=ae.sibling}if(!q)throw Error(r(189))}}if(x.alternate!==M)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?c:h}function _(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c;for(c=c.child;c!==null;){if(h=_(c),h!==null)return h;c=c.sibling}return null}function A(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c;for(c=c.child;c!==null;){if(c.tag!==4&&(h=A(c),h!==null))return h;c=c.sibling}return null}function T(c){return{current:c}}function S(c){0>mo||(c.current=di[mo],di[mo]=null,mo--)}function C(c,h){mo++,di[mo]=c.current,c.current=h}function D(c){return c>>>=0,c===0?32:31-(Uy(c)/zy|0)|0}function N(c){var h=c&42;if(h!==0)return h;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function z(c,h){var x=c.pendingLanes;if(x===0)return 0;var M=0,R=c.suspendedLanes,P=c.pingedLanes,q=c.warmLanes;c=c.finishedLanes!==0;var ae=x&134217727;return ae!==0?(x=ae&~R,x!==0?M=N(x):(P&=ae,P!==0?M=N(P):c||(q=ae&~q,q!==0&&(M=N(q))))):(ae=x&~R,ae!==0?M=N(ae):P!==0?M=N(P):c||(q=x&~q,q!==0&&(M=N(q)))),M===0?0:h!==0&&h!==M&&(h&R)===0&&(R=M&-M,q=h&-h,R>=q||R===32&&(q&4194176)!==0)?h:M}function U(c,h){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&h)===0}function I(c,h){switch(c){case 1:case 2:case 4:case 8:return h+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V(){var c=Ts;return Ts<<=1,(Ts&4194176)===0&&(Ts=128),c}function B(){var c=$l;return $l<<=1,($l&62914560)===0&&($l=4194304),c}function L(c){for(var h=[],x=0;31>x;x++)h.push(c);return h}function W(c,h){c.pendingLanes|=h,h!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function oe(c,h,x,M,R,P){var q=c.pendingLanes;c.pendingLanes=x,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=x,c.entangledLanes&=x,c.errorRecoveryDisabledLanes&=x,c.shellSuspendCounter=0;var ae=c.entanglements,ve=c.expirationTimes,Ue=c.hiddenUpdates;for(x=q&~x;0<x;){var tt=31-wr(x),ct=1<<tt;ae[tt]=0,ve[tt]=-1;var mt=Ue[tt];if(mt!==null)for(Ue[tt]=null,tt=0;tt<mt.length;tt++){var Wt=mt[tt];Wt!==null&&(Wt.lane&=-536870913)}x&=~ct}M!==0&&ee(c,M,0),P!==0&&R===0&&c.tag!==0&&(c.suspendedLanes|=P&~(q&~h))}function ee(c,h,x){c.pendingLanes|=h,c.suspendedLanes&=~h;var M=31-wr(h);c.entangledLanes|=h,c.entanglements[M]=c.entanglements[M]|1073741824|x&4194218}function he(c,h){var x=c.entangledLanes|=h;for(c=c.entanglements;x;){var M=31-wr(x),R=1<<M;R&h|c[M]&h&&(c[M]|=h),x&=~R}}function de(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function k(c){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(pi,c,void 0,(c.current.flags&128)===128)}catch{}}function Y(c){if(typeof Fy=="function"&&Wi(c),Hr&&typeof Hr.setStrictMode=="function")try{Hr.setStrictMode(pi,c)}catch{}}function K(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}function ue(c,h){if(typeof c=="object"&&c!==null){var x=gg.get(c);return x!==void 0?x:(h={value:c,source:h,stack:m(h)},gg.set(c,h),h)}return{value:c,source:h,stack:m(h)}}function G(c,h){jl[Xl++]=vc,jl[Xl++]=Wl,Wl=c,vc=h}function te(c,h,x){sa[oa++]=as,sa[oa++]=ss,sa[oa++]=il,il=c;var M=as;c=ss;var R=32-wr(M)-1;M&=~(1<<R),x+=1;var P=32-wr(h)+R;if(30<P){var q=R-R%5;P=(M&(1<<q)-1).toString(32),M>>=q,R-=q,as=1<<32-wr(h)+R|x<<R|M,ss=P+c}else as=1<<P|x<<R|M,ss=c}function Se(c){c.return!==null&&(G(c,1),te(c,1,0))}function ye(c){for(;c===Wl;)Wl=jl[--Xl],jl[Xl]=null,vc=jl[--Xl],jl[Xl]=null;for(;c===il;)il=sa[--oa],sa[oa]=null,ss=sa[--oa],sa[oa]=null,as=sa[--oa],sa[oa]=null}function se(c,h){C(As,h),C(yc,c),C(Bi,null),c=ey(h),S(Bi),C(Bi,c)}function we(){S(Bi),S(yc),S(As)}function Be(c){c.memoizedState!==null&&C(ql,c);var h=Bi.current,x=hc(h,c.type);h!==x&&(C(yc,c),C(Bi,x))}function je(c){yc.current===c&&(S(Bi),S(yc)),ql.current===c&&(S(ql),Tr?is._currentValue=Qo:is._currentValue2=Qo)}function Xe(c){var h=Error(r(418,""));throw Mt(ue(h,c)),Zf}function gt(c,h){if(!sr)throw Error(r(175));Ty(c.stateNode,c.type,c.memoizedProps,h,c)||Xe(c)}function bt(c){for(or=c.return;or;)switch(or.tag){case 3:case 27:qi=!0;return;case 5:case 13:qi=!1;return;default:or=or.return}}function Zt(c){if(!sr||c!==or)return!1;if(!vn)return bt(c),vn=!0,!1;var h=!1;if(In?c.tag!==3&&c.tag!==27&&(c.tag!==5||zd(c.type)&&!Yt(c.type,c.memoizedProps))&&(h=!0):c.tag!==3&&(c.tag!==5||zd(c.type)&&!Yt(c.type,c.memoizedProps))&&(h=!0),h&&lr&&Xe(c),bt(c),c.tag===13){if(!sr)throw Error(r(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));lr=wy(c)}else lr=or?hg(c.stateNode):null;return!0}function Pt(){sr&&(lr=or=null,vn=!1)}function Mt(c){Pa===null?Pa=[c]:Pa.push(c)}function Z(){for(var c=Yl,h=os=Yl=0;h<c;){var x=La[h];La[h++]=null;var M=La[h];La[h++]=null;var R=La[h];La[h++]=null;var P=La[h];if(La[h++]=null,M!==null&&R!==null){var q=M.pending;q===null?R.next=R:(R.next=q.next,q.next=R),M.pending=R}P!==0&&Pe(x,R,P)}}function Qe(c,h,x,M){La[Yl++]=c,La[Yl++]=h,La[Yl++]=x,La[Yl++]=M,os|=M,c.lanes|=M,c=c.alternate,c!==null&&(c.lanes|=M)}function $e(c,h,x,M){return Qe(c,h,x,M),rt(c)}function We(c,h){return Qe(c,null,null,h),rt(c)}function Pe(c,h,x){c.lanes|=x;var M=c.alternate;M!==null&&(M.lanes|=x);for(var R=!1,P=c.return;P!==null;)P.childLanes|=x,M=P.alternate,M!==null&&(M.childLanes|=x),P.tag===22&&(c=P.stateNode,c===null||c._visibility&1||(R=!0)),c=P,P=P.return;R&&h!==null&&c.tag===3&&(P=c.stateNode,R=31-wr(x),P=P.hiddenUpdates,c=P[R],c===null?P[R]=[h]:c.push(h),h.lane=x|536870912)}function rt(c){if(50<wc)throw wc=0,Zd=null,Error(r(185));for(var h=c.return;h!==null;)c=h,h=c.return;return c.tag===3?c.stateNode:null}function He(c){c!==go&&c.next===null&&(go===null?Qf=go=c:go=go.next=c),$n=!0,Kl||(Kl=!0,Me(wt))}function at(c,h){if(!vg&&$n){vg=!0;do for(var x=!1,M=Qf;M!==null;){if(c!==0){var R=M.pendingLanes;if(R===0)var P=0;else{var q=M.suspendedLanes,ae=M.pingedLanes;P=(1<<31-wr(42|c)+1)-1,P&=R&~(q&~ae),P=P&201326677?P&201326677|1:P?P|2:0}P!==0&&(x=!0,pe(M,P))}else P=pn,P=z(M,M===Dn?P:0),(P&3)===0||U(M,P)||(x=!0,pe(M,P));M=M.next}while(x);vg=!1}}function wt(){$n=Kl=!1;var c=0;xc!==0&&(ry()&&(c=xc),xc=0);for(var h=Na(),x=null,M=Qf;M!==null;){var R=M.next,P=j(M,h);P===0?(M.next=null,x===null?Qf=R:x.next=R,R===null&&(go=x)):(x=M,(c!==0||(P&3)!==0)&&($n=!0)),M=R}at(c)}function j(c,h){for(var x=c.suspendedLanes,M=c.pingedLanes,R=c.expirationTimes,P=c.pendingLanes&-62914561;0<P;){var q=31-wr(P),ae=1<<q,ve=R[q];ve===-1?((ae&x)===0||(ae&M)!==0)&&(R[q]=I(ae,h)):ve<=h&&(c.expiredLanes|=ae),P&=~ae}if(h=Dn,x=pn,x=z(c,c===h?x:0),M=c.callbackNode,x===0||c===h&&zn===2||c.cancelPendingCommit!==null)return M!==null&&M!==null&&Vd(M),c.callbackNode=null,c.callbackPriority=0;if((x&3)===0||U(c,x)){if(h=x&-x,h===c.callbackPriority)return h;switch(M!==null&&Vd(M),de(x)){case 2:case 8:x=Iy;break;case 32:x=Gd;break;case 268435456:x=JS;break;default:x=Gd}return M=H.bind(null,c),x=Kf(x,M),c.callbackPriority=h,c.callbackNode=x,h}return M!==null&&M!==null&&Vd(M),c.callbackPriority=2,c.callbackNode=null,2}function H(c,h){var x=c.callbackNode;if(ts()&&c.callbackNode!==x)return null;var M=pn;return M=z(c,c===Dn?M:0),M===0?null:(jo(c,M,h),j(c,Na()),c.callbackNode!=null&&c.callbackNode===x?H.bind(null,c):null)}function pe(c,h){if(ts())return null;jo(c,h,!0)}function Me(c){ng?po(function(){(xn&6)!==0?Kf(kd,c):c()}):Kf(kd,c)}function Ne(){return xc===0&&(xc=V()),xc}function Oe(c,h){if(bc===null){var x=bc=[];Zl=0,la=Ne(),Ql={status:"pending",value:void 0,then:function(M){x.push(M)}}}return Zl++,h.then(st,st),h}function st(){if(--Zl===0&&bc!==null){Ql!==null&&(Ql.status="fulfilled");var c=bc;bc=null,la=0,Ql=null;for(var h=0;h<c.length;h++)(0,c[h])()}}function nt(c,h){var x=[],M={status:"pending",value:null,reason:null,then:function(R){x.push(R)}};return c.then(function(){M.status="fulfilled",M.value=h;for(var R=0;R<x.length;R++)(0,x[R])(h)},function(R){for(M.status="rejected",M.reason=R,R=0;R<x.length;R++)(0,x[R])(void 0)}),M}function dt(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vt(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Le(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function it(c,h,x){var M=c.updateQueue;if(M===null)return null;if(M=M.shared,(xn&2)!==0){var R=M.pending;return R===null?h.next=h:(h.next=R.next,R.next=h),M.pending=h,h=rt(c),Pe(c,null,x),h}return Qe(c,M,h,x),rt(c)}function yt(c,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194176)!==0)){var M=h.lanes;M&=c.pendingLanes,x|=M,h.lanes=x,he(c,x)}}function ie(c,h){var x=c.updateQueue,M=c.alternate;if(M!==null&&(M=M.updateQueue,x===M)){var R=null,P=null;if(x=x.firstBaseUpdate,x!==null){do{var q={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};P===null?R=P=q:P=P.next=q,x=x.next}while(x!==null);P===null?R=P=h:P=P.next=h}else R=P=h;x={baseState:M.baseState,firstBaseUpdate:R,lastBaseUpdate:P,shared:M.shared,callbacks:M.callbacks},c.updateQueue=x;return}c=x.lastBaseUpdate,c===null?x.firstBaseUpdate=h:c.next=h,x.lastBaseUpdate=h}function xe(){if(Jl){var c=Ql;if(c!==null)throw c}}function Ke(c,h,x,M){Jl=!1;var R=c.updateQueue;vo=!1;var P=R.firstBaseUpdate,q=R.lastBaseUpdate,ae=R.shared.pending;if(ae!==null){R.shared.pending=null;var ve=ae,Ue=ve.next;ve.next=null,q===null?P=Ue:q.next=Ue,q=ve;var tt=c.alternate;tt!==null&&(tt=tt.updateQueue,ae=tt.lastBaseUpdate,ae!==q&&(ae===null?tt.firstBaseUpdate=Ue:ae.next=Ue,tt.lastBaseUpdate=ve))}if(P!==null){var ct=R.baseState;q=0,tt=Ue=ve=null,ae=P;do{var mt=ae.lane&-536870913,Wt=mt!==ae.lane;if(Wt?(pn&mt)===mt:(M&mt)===mt){mt!==0&&mt===la&&(Jl=!0),tt!==null&&(tt=tt.next={lane:0,tag:ae.tag,payload:ae.payload,callback:null,next:null});e:{var ga=c,hl=ae;mt=h;var dl=x;switch(hl.tag){case 1:if(ga=hl.payload,typeof ga=="function"){ct=ga.call(dl,ct,mt);break e}ct=ga;break e;case 3:ga.flags=ga.flags&-65537|128;case 0:if(ga=hl.payload,mt=typeof ga=="function"?ga.call(dl,ct,mt):ga,mt==null)break e;ct=Md({},ct,mt);break e;case 2:vo=!0}}mt=ae.callback,mt!==null&&(c.flags|=64,Wt&&(c.flags|=8192),Wt=R.callbacks,Wt===null?R.callbacks=[mt]:Wt.push(mt))}else Wt={lane:mt,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},tt===null?(Ue=tt=Wt,ve=ct):tt=tt.next=Wt,q|=mt;if(ae=ae.next,ae===null){if(ae=R.shared.pending,ae===null)break;Wt=ae,ae=Wt.next,Wt.next=null,R.lastBaseUpdate=Wt,R.shared.pending=null}}while(!0);tt===null&&(ve=ct),R.baseState=ve,R.firstBaseUpdate=Ue,R.lastBaseUpdate=tt,P===null&&(R.shared.lanes=0),pa|=q,c.lanes=q,c.memoizedState=ct}}function re(c,h){if(typeof c!="function")throw Error(r(191,c));c.call(h)}function Je(c,h){var x=c.callbacks;if(x!==null)for(c.callbacks=null,c=0;c<x.length;c++)re(x[c],h)}function ke(c,h){if(kr(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var x=Object.keys(c),M=Object.keys(h);if(x.length!==M.length)return!1;for(M=0;M<x.length;M++){var R=x[M];if(!ws.call(h,R)||!kr(c[R],h[R]))return!1}return!0}function lt(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Ze(){}function Fe(c,h,x){switch(x=c[x],x===void 0?c.push(h):x!==h&&(h.then(Ze,Ze),h=x),h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,c===_c?Error(r(483)):c;default:if(typeof h.status=="string")h.then(Ze,Ze);else{if(c=Dn,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=h,c.status="pending",c.then(function(M){if(h.status==="pending"){var R=h;R.status="fulfilled",R.value=M}},function(M){if(h.status==="pending"){var R=h;R.status="rejected",R.reason=M}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,c===_c?Error(r(483)):c}throw rl=h,_c}}function ut(){if(rl===null)throw Error(r(459));var c=rl;return rl=null,c}function Tt(c){var h=sl;return sl+=1,al===null&&(al=[]),Fe(al,c,h)}function ln(c,h){h=h.props.ref,c.ref=h!==void 0?h:null}function Qt(c,h){throw h.$$typeof===XS?Error(r(525)):(c=Object.prototype.toString.call(h),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c)))}function Ei(c){var h=c._init;return h(c._payload)}function ei(c){function h(Ee,le){if(c){var De=Ee.deletions;De===null?(Ee.deletions=[le],Ee.flags|=16):De.push(le)}}function x(Ee,le){if(!c)return null;for(;le!==null;)h(Ee,le),le=le.sibling;return null}function M(Ee){for(var le=new Map;Ee!==null;)Ee.key!==null?le.set(Ee.key,Ee):le.set(Ee.index,Ee),Ee=Ee.sibling;return le}function R(Ee,le){return Ee=Ca(Ee,le),Ee.index=0,Ee.sibling=null,Ee}function P(Ee,le,De){return Ee.index=De,c?(De=Ee.alternate,De!==null?(De=De.index,De<le?(Ee.flags|=33554434,le):De):(Ee.flags|=33554434,le)):(Ee.flags|=1048576,le)}function q(Ee){return c&&Ee.alternate===null&&(Ee.flags|=33554434),Ee}function ae(Ee,le,De,et){return le===null||le.tag!==6?(le=Sd(De,Ee.mode,et),le.return=Ee,le):(le=R(le,De),le.return=Ee,le)}function ve(Ee,le,De,et){var Ct=De.type;return Ct===Ko?tt(Ee,le,De.props.children,et,De.key):le!==null&&(le.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===Da&&Ei(Ct)===le.type)?(le=R(le,De.props),ln(le,De),le.return=Ee,le):(le=Ss(De.type,De.key,De.props,null,Ee.mode,et),ln(le,De),le.return=Ee,le)}function Ue(Ee,le,De,et){return le===null||le.tag!==4||le.stateNode.containerInfo!==De.containerInfo||le.stateNode.implementation!==De.implementation?(le=qm(De,Ee.mode,et),le.return=Ee,le):(le=R(le,De.children||[]),le.return=Ee,le)}function tt(Ee,le,De,et,Ct){return le===null||le.tag!==7?(le=si(De,Ee.mode,et,Ct),le.return=Ee,le):(le=R(le,De),le.return=Ee,le)}function ct(Ee,le,De){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return le=Sd(""+le,Ee.mode,De),le.return=Ee,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case Ff:return De=Ss(le.type,le.key,le.props,null,Ee.mode,De),ln(De,le),De.return=Ee,De;case Ra:return le=qm(le,Ee.mode,De),le.return=Ee,le;case Da:var et=le._init;return le=et(le._payload),ct(Ee,le,De)}if(uc(le)||a(le))return le=si(le,Ee.mode,De,null),le.return=Ee,le;if(typeof le.then=="function")return ct(Ee,Tt(le),De);if(le.$$typeof===ns)return ct(Ee,Mf(Ee,le),De);Qt(Ee,le)}return null}function mt(Ee,le,De,et){var Ct=le!==null?le.key:null;if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return Ct!==null?null:ae(Ee,le,""+De,et);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case Ff:return De.key===Ct?ve(Ee,le,De,et):null;case Ra:return De.key===Ct?Ue(Ee,le,De,et):null;case Da:return Ct=De._init,De=Ct(De._payload),mt(Ee,le,De,et)}if(uc(De)||a(De))return Ct!==null?null:tt(Ee,le,De,et,null);if(typeof De.then=="function")return mt(Ee,le,Tt(De),et);if(De.$$typeof===ns)return mt(Ee,le,Mf(Ee,De),et);Qt(Ee,De)}return null}function Wt(Ee,le,De,et,Ct){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Ee=Ee.get(De)||null,ae(le,Ee,""+et,Ct);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case Ff:return Ee=Ee.get(et.key===null?De:et.key)||null,ve(le,Ee,et,Ct);case Ra:return Ee=Ee.get(et.key===null?De:et.key)||null,Ue(le,Ee,et,Ct);case Da:var Qn=et._init;return et=Qn(et._payload),Wt(Ee,le,De,et,Ct)}if(uc(et)||a(et))return Ee=Ee.get(De)||null,tt(le,Ee,et,Ct,null);if(typeof et.then=="function")return Wt(Ee,le,De,Tt(et),Ct);if(et.$$typeof===ns)return Wt(Ee,le,De,Mf(le,et),Ct);Qt(le,et)}return null}function ga(Ee,le,De,et){for(var Ct=null,Qn=null,kt=le,Sn=le=0,mi=null;kt!==null&&Sn<De.length;Sn++){kt.index>Sn?(mi=kt,kt=null):mi=kt.sibling;var hn=mt(Ee,kt,De[Sn],et);if(hn===null){kt===null&&(kt=mi);break}c&&kt&&hn.alternate===null&&h(Ee,kt),le=P(hn,le,Sn),Qn===null?Ct=hn:Qn.sibling=hn,Qn=hn,kt=mi}if(Sn===De.length)return x(Ee,kt),vn&&G(Ee,Sn),Ct;if(kt===null){for(;Sn<De.length;Sn++)kt=ct(Ee,De[Sn],et),kt!==null&&(le=P(kt,le,Sn),Qn===null?Ct=kt:Qn.sibling=kt,Qn=kt);return vn&&G(Ee,Sn),Ct}for(kt=M(kt);Sn<De.length;Sn++)mi=Wt(kt,Ee,Sn,De[Sn],et),mi!==null&&(c&&mi.alternate!==null&&kt.delete(mi.key===null?Sn:mi.key),le=P(mi,le,Sn),Qn===null?Ct=mi:Qn.sibling=mi,Qn=mi);return c&&kt.forEach(function(Us){return h(Ee,Us)}),vn&&G(Ee,Sn),Ct}function hl(Ee,le,De,et){if(De==null)throw Error(r(151));for(var Ct=null,Qn=null,kt=le,Sn=le=0,mi=null,hn=De.next();kt!==null&&!hn.done;Sn++,hn=De.next()){kt.index>Sn?(mi=kt,kt=null):mi=kt.sibling;var Us=mt(Ee,kt,hn.value,et);if(Us===null){kt===null&&(kt=mi);break}c&&kt&&Us.alternate===null&&h(Ee,kt),le=P(Us,le,Sn),Qn===null?Ct=Us:Qn.sibling=Us,Qn=Us,kt=mi}if(hn.done)return x(Ee,kt),vn&&G(Ee,Sn),Ct;if(kt===null){for(;!hn.done;Sn++,hn=De.next())hn=ct(Ee,hn.value,et),hn!==null&&(le=P(hn,le,Sn),Qn===null?Ct=hn:Qn.sibling=hn,Qn=hn);return vn&&G(Ee,Sn),Ct}for(kt=M(kt);!hn.done;Sn++,hn=De.next())hn=Wt(kt,Ee,Sn,hn.value,et),hn!==null&&(c&&hn.alternate!==null&&kt.delete(hn.key===null?Sn:hn.key),le=P(hn,le,Sn),Qn===null?Ct=hn:Qn.sibling=hn,Qn=hn);return c&&kt.forEach(function(Qd){return h(Ee,Qd)}),vn&&G(Ee,Sn),Ct}function dl(Ee,le,De,et){if(typeof De=="object"&&De!==null&&De.type===Ko&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case Ff:e:{for(var Ct=De.key;le!==null;){if(le.key===Ct){if(Ct=De.type,Ct===Ko){if(le.tag===7){x(Ee,le.sibling),et=R(le,De.props.children),et.return=Ee,Ee=et;break e}}else if(le.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===Da&&Ei(Ct)===le.type){x(Ee,le.sibling),et=R(le,De.props),ln(et,De),et.return=Ee,Ee=et;break e}x(Ee,le);break}else h(Ee,le);le=le.sibling}De.type===Ko?(et=si(De.props.children,Ee.mode,et,De.key),et.return=Ee,Ee=et):(et=Ss(De.type,De.key,De.props,null,Ee.mode,et),ln(et,De),et.return=Ee,Ee=et)}return q(Ee);case Ra:e:{for(Ct=De.key;le!==null;){if(le.key===Ct)if(le.tag===4&&le.stateNode.containerInfo===De.containerInfo&&le.stateNode.implementation===De.implementation){x(Ee,le.sibling),et=R(le,De.children||[]),et.return=Ee,Ee=et;break e}else{x(Ee,le);break}else h(Ee,le);le=le.sibling}et=qm(De,Ee.mode,et),et.return=Ee,Ee=et}return q(Ee);case Da:return Ct=De._init,De=Ct(De._payload),dl(Ee,le,De,et)}if(uc(De))return ga(Ee,le,De,et);if(a(De)){if(Ct=a(De),typeof Ct!="function")throw Error(r(150));return De=Ct.call(De),hl(Ee,le,De,et)}if(typeof De.then=="function")return dl(Ee,le,Tt(De),et);if(De.$$typeof===ns)return dl(Ee,le,Mf(Ee,De),et);Qt(Ee,De)}return typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint"?(De=""+De,le!==null&&le.tag===6?(x(Ee,le.sibling),et=R(le,De),et.return=Ee,Ee=et):(x(Ee,le),et=Sd(De,Ee.mode,et),et.return=Ee,Ee=et),q(Ee)):x(Ee,le)}return function(Ee,le,De,et){try{sl=0;var Ct=dl(Ee,le,De,et);return al=null,Ct}catch(kt){if(kt===_c)throw kt;var Qn=t(29,kt,null,Ee.mode);return Qn.lanes=et,Qn.return=Ee,Qn}finally{}}}function Mi(c,h){c=gr,C(Sc,c),C(jn,h),gr=c|h.baseLanes}function Li(){C(Sc,gr),C(jn,jn.current)}function hr(){gr=Sc.current,S(jn),S(Sc)}function Lr(c){var h=c.alternate;C(Ii,Ii.current&1),C(ua,c),Fn===null&&(h===null||jn.current!==null||h.memoizedState!==null)&&(Fn=c)}function hf(c){if(c.tag===22){if(C(Ii,Ii.current),C(ua,c),Fn===null){var h=c.alternate;h!==null&&h.memoizedState!==null&&(Fn=c)}}else Ya()}function Ya(){C(Ii,Ii.current),C(ua,ua.current)}function br(c){S(ua),Fn===c&&(Fn=null),S(Ii)}function Ka(c){for(var h=c;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||Pd(x)||Ld(x)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function Ln(){throw Error(r(321))}function Za(c,h){if(h===null)return!1;for(var x=0;x<h.length&&x<c.length;x++)if(!kr(c[x],h[x]))return!1;return!0}function Qa(c,h,x,M,R,P){return yo=P,an=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Ht.H=c===null||c.memoizedState===null?ul:Cr,ll=!1,P=x(M,R),ll=!1,eu&&(P=Ks(h,x,M,R)),Lo(c),P}function Lo(c){Ht.H=oi;var h=Lt!==null&&Lt.next!==null;if(yo=0,yn=Lt=an=null,Ua=!1,tu=0,Yi=null,h)throw Error(r(300));c===null||Vn||(c=c.dependencies,c!==null&&Ef(c)&&(Vn=!0))}function Ks(c,h,x,M){an=c;var R=0;do{if(eu&&(Yi=null),tu=0,eu=!1,25<=R)throw Error(r(301));if(R+=1,yn=Lt=null,c.updateQueue!=null){var P=c.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}Ht.H=ca,P=h(x,M)}while(eu);return P}function Ti(){var c=Ht.H,h=c.useState()[0];return h=typeof h.then=="function"?Ae(h):h,c=c.useState()[0],(Lt!==null?Lt.memoizedState:null)!==c&&(an.flags|=1024),h}function Hu(){var c=$d!==0;return $d=0,c}function ku(c,h,x){h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~x}function Ja(c){if(Ua){for(c=c.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Ua=!1}yo=0,yn=Lt=an=null,eu=!1,tu=$d=0,Yi=null}function X(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?an.memoizedState=yn=c:yn=yn.next=c,yn}function fe(){if(Lt===null){var c=an.alternate;c=c!==null?c.memoizedState:null}else c=Lt.next;var h=yn===null?an.memoizedState:yn.next;if(h!==null)yn=h,Lt=c;else{if(c===null)throw an.alternate===null?Error(r(467)):Error(r(310));Lt=c,c={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},yn===null?an.memoizedState=yn=c:yn=yn.next=c}return yn}function Ae(c){var h=tu;return tu+=1,Yi===null&&(Yi=[]),c=Fe(Yi,c,h),h=an,(yn===null?h.memoizedState:yn.next)===null&&(h=h.alternate,Ht.H=h===null||h.memoizedState===null?ul:Cr),c}function Ce(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Ae(c);if(c.$$typeof===ns)return nr(c)}throw Error(r(438,String(c)))}function ge(c){var h=null,x=an.updateQueue;if(x!==null&&(h=x.memoCache),h==null){var M=an.alternate;M!==null&&(M=M.updateQueue,M!==null&&(M=M.memoCache,M!=null&&(h={data:M.data.map(function(R){return R.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),x===null&&(x=jd(),an.updateQueue=x),x.memoCache=h,x=h.data[h.index],x===void 0)for(x=h.data[h.index]=Array(c),M=0;M<c;M++)x[M]=Jv;return h.index++,x}function qe(c,h){return typeof h=="function"?h(c):h}function ot(c){var h=fe();return ht(h,Lt,c)}function ht(c,h,x){var M=c.queue;if(M===null)throw Error(r(311));M.lastRenderedReducer=x;var R=c.baseQueue,P=M.pending;if(P!==null){if(R!==null){var q=R.next;R.next=P.next,P.next=q}h.baseQueue=R=P,M.pending=null}if(P=c.baseState,R===null)c.memoizedState=P;else{h=R.next;var ae=q=null,ve=null,Ue=h,tt=!1;do{var ct=Ue.lane&-536870913;if(ct!==Ue.lane?(pn&ct)===ct:(yo&ct)===ct){var mt=Ue.revertLane;if(mt===0)ve!==null&&(ve=ve.next={lane:0,revertLane:0,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null}),ct===la&&(tt=!0);else if((yo&mt)===mt){Ue=Ue.next,mt===la&&(tt=!0);continue}else ct={lane:0,revertLane:Ue.revertLane,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null},ve===null?(ae=ve=ct,q=P):ve=ve.next=ct,an.lanes|=mt,pa|=mt;ct=Ue.action,ll&&x(P,ct),P=Ue.hasEagerState?Ue.eagerState:x(P,ct)}else mt={lane:ct,revertLane:Ue.revertLane,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null},ve===null?(ae=ve=mt,q=P):ve=ve.next=mt,an.lanes|=ct,pa|=ct;Ue=Ue.next}while(Ue!==null&&Ue!==h);if(ve===null?q=P:ve.next=ae,!kr(P,c.memoizedState)&&(Vn=!0,tt&&(x=Ql,x!==null)))throw x;c.memoizedState=P,c.baseState=q,c.baseQueue=ve,M.lastRenderedState=P}return R===null&&(M.lanes=0),[c.memoizedState,M.dispatch]}function pt(c){var h=fe(),x=h.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=c;var M=x.dispatch,R=x.pending,P=h.memoizedState;if(R!==null){x.pending=null;var q=R=R.next;do P=c(P,q.action),q=q.next;while(q!==R);kr(P,h.memoizedState)||(Vn=!0),h.memoizedState=P,h.baseQueue===null&&(h.baseState=P),x.lastRenderedState=P}return[P,M]}function Ut(c,h,x){var M=an,R=fe(),P=vn;if(P){if(x===void 0)throw Error(r(407));x=x()}else x=h();var q=!kr((Lt||R).memoizedState,x);if(q&&(R.memoizedState=x,Vn=!0),R=R.queue,xm(Jt.bind(null,M,R,c),[c]),R.getSnapshot!==h||q||yn!==null&&yn.memoizedState.tag&1){if(M.flags|=2048,_r(9,At.bind(null,M,R,x,h),{destroy:void 0},null),Dn===null)throw Error(r(349));P||(yo&60)!==0||Dt(M,h,x)}return x}function Dt(c,h,x){c.flags|=16384,c={getSnapshot:h,value:x},h=an.updateQueue,h===null?(h=jd(),an.updateQueue=h,h.stores=[c]):(x=h.stores,x===null?h.stores=[c]:x.push(c))}function At(c,h,x,M){h.value=x,h.getSnapshot=M,En(h)&&Gn(c)}function Jt(c,h,x){return x(function(){En(h)&&Gn(c)})}function En(c){var h=c.getSnapshot;c=c.value;try{var x=h();return!kr(c,x)}catch{return!0}}function Gn(c){var h=We(c,2);h!==null&&Xi(h,c,2)}function rn(c){var h=X();if(typeof c=="function"){var x=c;if(c=x(),ll){Y(!0);try{x()}finally{Y(!1)}}}return h.memoizedState=h.baseState=c,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qe,lastRenderedState:c},h}function Mn(c,h,x,M){return c.baseState=x,ht(c,Lt,typeof M=="function"?M:qe)}function Ot(c,h,x,M,R){if(yf(c))throw Error(r(485));if(c=h.action,c!==null){var P={payload:R,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(q){P.listeners.push(q)}};Ht.T!==null?x(!0):P.isTransition=!1,M(P),x=h.pending,x===null?(P.next=h.pending=P,Nn(h,P)):(P.next=x.next,h.pending=x.next=P)}}function Nn(c,h){var x=h.action,M=h.payload,R=c.state;if(h.isTransition){var P=Ht.T,q={};Ht.T=q;try{var ae=x(R,M),ve=Ht.S;ve!==null&&ve(q,ae),dn(c,h,ae)}catch(Ue){gs(c,h,Ue)}finally{Ht.T=P}}else try{P=x(R,M),dn(c,h,P)}catch(Ue){gs(c,h,Ue)}}function dn(c,h,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(M){Ui(c,h,M)},function(M){return gs(c,h,M)}):Ui(c,h,x)}function Ui(c,h,x){h.status="fulfilled",h.value=x,Bn(h),c.state=x,h=c.pending,h!==null&&(x=h.next,x===h?c.pending=null:(x=x.next,h.next=x,Nn(c,x)))}function gs(c,h,x){var M=c.pending;if(c.pending=null,M!==null){M=M.next;do h.status="rejected",h.reason=x,Bn(h),h=h.next;while(h!==M)}c.action=null}function Bn(c){c=c.listeners;for(var h=0;h<c.length;h++)(0,c[h])()}function vs(c,h){return h}function Un(c,h){if(vn){var x=Dn.formState;if(x!==null){e:{var M=an;if(vn){if(lr){var R=fg(lr,qi);if(R){lr=hg(R),M=_y(R);break e}}Xe(M)}M=!1}M&&(h=x[0])}}x=X(),x.memoizedState=x.baseState=h,M={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:h},x.queue=M,x=Em.bind(null,an,M),M.dispatch=x,M=rn(!1);var P=ju.bind(null,an,!1,M.queue);return M=X(),R={state:h,dispatch:null,action:c,pending:null},M.queue=R,x=Ot.bind(null,an,R,P,x),R.dispatch=x,M.memoizedState=c,[h,x,!1]}function er(c){var h=fe();return Ai(h,Lt,c)}function Ai(c,h,x){h=ht(c,h,vs)[0],c=ot(qe)[0],h=typeof h=="object"&&h!==null&&typeof h.then=="function"?Ae(h):h;var M=fe(),R=M.queue,P=R.dispatch;return x!==M.memoizedState&&(an.flags|=2048,_r(9,Gi.bind(null,R,x),{destroy:void 0},null)),[h,P,c]}function Gi(c,h){c.action=h}function $i(c){var h=fe(),x=Lt;if(x!==null)return Ai(h,x,c);fe(),h=h.memoizedState,x=fe();var M=x.queue.dispatch;return x.memoizedState=c,[h,M,!1]}function _r(c,h,x,M){return c={tag:c,create:h,inst:x,deps:M,next:null},h=an.updateQueue,h===null&&(h=jd(),an.updateQueue=h),x=h.lastEffect,x===null?h.lastEffect=c.next=c:(M=x.next,x.next=c,c.next=M,h.lastEffect=c),c}function ys(){return fe().memoizedState}function df(c,h,x,M){var R=X();an.flags|=c,R.memoizedState=_r(1|h,x,{destroy:void 0},M===void 0?null:M)}function pf(c,h,x,M){var R=fe();M=M===void 0?null:M;var P=R.memoizedState.inst;Lt!==null&&M!==null&&Za(M,Lt.memoizedState.deps)?R.memoizedState=_r(h,x,P,M):(an.flags|=c,R.memoizedState=_r(1|h,x,P,M))}function nd(c,h){df(8390656,8,c,h)}function xm(c,h){pf(2048,8,c,h)}function Ov(c,h){return pf(4,2,c,h)}function mf(c,h){return pf(4,4,c,h)}function id(c,h){if(typeof h=="function"){c=c();var x=h(c);return function(){typeof x=="function"?x():h(null)}}if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function rd(c,h,x){x=x!=null?x.concat([c]):null,pf(4,4,id.bind(null,h,c),x)}function Uo(){}function Bl(c,h){var x=fe();h=h===void 0?null:h;var M=x.memoizedState;return h!==null&&Za(h,M[1])?M[0]:(x.memoizedState=[c,h],c)}function bm(c,h){var x=fe();h=h===void 0?null:h;var M=x.memoizedState;if(h!==null&&Za(h,M[1]))return M[0];if(M=c(),ll){Y(!0);try{c()}finally{Y(!1)}}return x.memoizedState=[M,h],M}function gf(c,h,x){return x===void 0||(yo&1073741824)!==0?c.memoizedState=h:(c.memoizedState=x,c=km(),an.lanes|=c,pa|=c,x)}function _m(c,h,x,M){return kr(x,h)?x:jn.current!==null?(c=gf(c,x,M),kr(c,h)||(Vn=!0),c):(yo&42)===0?(Vn=!0,c.memoizedState=x):(c=km(),an.lanes|=c,pa|=c,h)}function Gu(c,h,x,M,R){var P=ho();pr(P!==0&&8>P?P:8);var q=Ht.T,ae={};Ht.T=ae,ju(c,!1,h,x);try{var ve=R(),Ue=Ht.S;if(Ue!==null&&Ue(ae,ve),ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var tt=nt(ve,M);zo(c,h,tt,fi(c))}else zo(c,h,M,fi(c))}catch(ct){zo(c,h,{then:function(){},status:"rejected",reason:ct},fi())}finally{pr(P),Ht.T=q}}function xs(c){var h=c.memoizedState;if(h!==null)return h;h={memoizedState:Qo,baseState:Qo,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qe,lastRenderedState:Qo},next:null};var x={};return h.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qe,lastRenderedState:x},next:null},c.memoizedState=h,c=c.alternate,c!==null&&(c.memoizedState=h),h}function vf(){return nr(is)}function $u(){return fe().memoizedState}function Zs(){return fe().memoizedState}function Sm(c){for(var h=c.return;h!==null;){switch(h.tag){case 24:case 3:var x=fi();c=Le(x);var M=it(h,c,x);M!==null&&(Xi(M,h,x),yt(M,h,x)),h={cache:Vo()},c.payload=h;return}h=h.return}}function ad(c,h,x){var M=fi();x={lane:M,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},yf(c)?Sr(h,x):(x=$e(c,h,x,M),x!==null&&(Xi(x,c,M),Bo(x,h,M)))}function Em(c,h,x){var M=fi();zo(c,h,x,M)}function zo(c,h,x,M){var R={lane:M,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(yf(c))Sr(h,R);else{var P=c.alternate;if(c.lanes===0&&(P===null||P.lanes===0)&&(P=h.lastRenderedReducer,P!==null))try{var q=h.lastRenderedState,ae=P(q,x);if(R.hasEagerState=!0,R.eagerState=ae,kr(ae,q))return Qe(c,h,R,0),Dn===null&&Z(),!1}catch{}finally{}if(x=$e(c,h,R,M),x!==null)return Xi(x,c,M),Bo(x,h,M),!0}return!1}function ju(c,h,x,M){if(M={lane:2,revertLane:Ne(),action:M,hasEagerState:!1,eagerState:null,next:null},yf(c)){if(h)throw Error(r(479))}else h=$e(c,x,M,2),h!==null&&Xi(h,c,2)}function yf(c){var h=c.alternate;return c===an||h!==null&&h===an}function Sr(c,h){eu=Ua=!0;var x=c.pending;x===null?h.next=h:(h.next=x.next,x.next=h),c.pending=h}function Bo(c,h,x){if((x&4194176)!==0){var M=h.lanes;M&=c.pendingLanes,x|=M,h.lanes=x,he(c,x)}}function Xu(c,h,x,M){h=c.memoizedState,x=x(M,h),x=x==null?h:Md({},h,x),c.memoizedState=x,c.lanes===0&&(c.updateQueue.baseState=x)}function Wu(c,h,x,M,R,P,q){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(M,P,q):h.prototype&&h.prototype.isPureReactComponent?!ke(x,M)||!ke(R,P):!0}function Nv(c,h,x,M){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,M),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,M),h.state!==c&&Rs.enqueueReplaceState(h,h.state,null)}function Qs(c,h){var x=h;if("ref"in h){x={};for(var M in h)M!=="ref"&&(x[M]=h[M])}if(c=c.defaultProps){x===h&&(x=Md({},x));for(var R in c)x[R]===void 0&&(x[R]=c[R])}return x}function qu(c,h){try{var x=c.onUncaughtError;x(h.value,{componentStack:h.stack})}catch(M){setTimeout(function(){throw M})}}function Yu(c,h,x){try{var M=c.onCaughtError;M(x.value,{componentStack:x.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function Ku(c,h,x){return x=Le(x),x.tag=3,x.payload={element:null},x.callback=function(){qu(c,h)},x}function Mm(c){return c=Le(c),c.tag=3,c}function Pv(c,h,x,M){var R=x.type.getDerivedStateFromError;if(typeof R=="function"){var P=M.value;c.payload=function(){return R(P)},c.callback=function(){Yu(h,x,M)}}var q=x.stateNode;q!==null&&typeof q.componentDidCatch=="function"&&(c.callback=function(){Yu(h,x,M),typeof R!="function"&&(cl===null?cl=new Set([this]):cl.add(this));var ae=M.stack;this.componentDidCatch(M.value,{componentStack:ae!==null?ae:""})})}function kS(c,h,x,M,R){if(x.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){if(h=x.alternate,h!==null&&Sf(h,x,R,!0),x=ua.current,x!==null){switch(x.tag){case 13:return Fn===null?so():x.alternate===null&&Hn===0&&(Hn=3),x.flags&=-257,x.flags|=65536,x.lanes=R,M===eh?x.flags|=16384:(h=x.updateQueue,h===null?x.updateQueue=new Set([M]):h.add(M),Vl(c,M,R)),!1;case 22:return x.flags|=65536,M===eh?x.flags|=16384:(h=x.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([M])},x.updateQueue=h):(x=h.retryQueue,x===null?h.retryQueue=new Set([M]):x.add(M)),Vl(c,M,R)),!1}throw Error(r(435,x.tag))}return Vl(c,M,R),so(),!1}if(vn)return h=ua.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=R,M!==Zf&&(c=Error(r(422),{cause:M}),Mt(ue(c,x)))):(M!==Zf&&(h=Error(r(423),{cause:M}),Mt(ue(h,x))),c=c.current.alternate,c.flags|=65536,R&=-R,c.lanes|=R,M=ue(M,x),R=Ku(c.stateNode,M,R),ie(c,R),Hn!==4&&(Hn=2)),!1;var P=Error(r(520),{cause:M});if(P=ue(P,x),iu===null?iu=[P]:iu.push(P),Hn!==4&&(Hn=2),h===null)return!0;M=ue(M,x),x=h;do{switch(x.tag){case 3:return x.flags|=65536,c=R&-R,x.lanes|=c,c=Ku(x.stateNode,M,c),ie(x,c),!1;case 1:if(h=x.type,P=x.stateNode,(x.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(cl===null||!cl.has(P))))return x.flags|=65536,R&=-R,x.lanes|=R,R=Mm(R),Pv(R,c,x,M),ie(x,R),!1}x=x.return}while(x!==null);return!1}function tr(c,h,x,M){h.child=c===null?Cs(h,null,x,M):ol(h,c.child,x,M)}function sd(c,h,x,M,R){x=x.render;var P=h.ref;if("ref"in M){var q={};for(var ae in M)ae!=="ref"&&(q[ae]=M[ae])}else q=M;return Fo(h),M=Qa(c,h,x,q,P,R),ae=Hu(),c!==null&&!Vn?(ku(c,h,R),Js(c,h,R)):(vn&&ae&&Se(h),h.flags|=1,tr(c,h,M,R),h.child)}function Lv(c,h,x,M,R){if(c===null){var P=x.type;return typeof P=="function"&&!Uf(P)&&P.defaultProps===void 0&&x.compare===null?(h.tag=15,h.type=P,Uv(c,h,P,M,R)):(c=Ss(x.type,null,M,h,h.mode,R),c.ref=h.ref,c.return=h,h.child=c)}if(P=c.child,!Rm(c,R)){var q=P.memoizedProps;if(x=x.compare,x=x!==null?x:ke,x(q,M)&&c.ref===h.ref)return Js(c,h,R)}return h.flags|=1,c=Ca(P,M),c.ref=h.ref,c.return=h,h.child=c}function Uv(c,h,x,M,R){if(c!==null){var P=c.memoizedProps;if(ke(P,M)&&c.ref===h.ref)if(Vn=!1,h.pendingProps=M=P,Rm(c,R))(c.flags&131072)!==0&&(Vn=!0);else return h.lanes=c.lanes,Js(c,h,R)}return od(c,h,x,M,R)}function zv(c,h,x){var M=h.pendingProps,R=M.children,P=(h.stateNode._pendingVisibility&2)!==0,q=c!==null?c.memoizedState:null;if(xf(c,h),M.mode==="hidden"||P){if((h.flags&128)!==0){if(M=q!==null?q.baseLanes|x:x,c!==null){for(R=h.child=c.child,P=0;R!==null;)P=P|R.lanes|R.childLanes,R=R.sibling;h.childLanes=P&~M}else h.childLanes=0,h.child=null;return Bv(c,h,M,x)}if((x&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},c!==null&&ud(h,q!==null?q.cachePool:null),q!==null?Mi(h,q):Li(),hf(h);else return h.lanes=h.childLanes=536870912,Bv(c,h,q!==null?q.baseLanes|x:x,x)}else q!==null?(ud(h,q.cachePool),Mi(h,q),Ya(),h.memoizedState=null):(c!==null&&ud(h,null),Li(),Ya());return tr(c,h,R,x),h.child}function Bv(c,h,x,M){var R=Om();return R=R===null?null:{parent:Tr?Xn._currentValue:Xn._currentValue2,pool:R},h.memoizedState={baseLanes:x,cachePool:R},c!==null&&ud(h,null),Li(),hf(h),c!==null&&Sf(c,h,M,!0),null}function xf(c,h){var x=h.ref;if(x===null)c!==null&&c.ref!==null&&(h.flags|=2097664);else{if(typeof x!="function"&&typeof x!="object")throw Error(r(284));(c===null||c.ref!==x)&&(h.flags|=2097664)}}function od(c,h,x,M,R){return Fo(h),x=Qa(c,h,x,M,void 0,R),M=Hu(),c!==null&&!Vn?(ku(c,h,R),Js(c,h,R)):(vn&&M&&Se(h),h.flags|=1,tr(c,h,x,R),h.child)}function Iv(c,h,x,M,R,P){return Fo(h),h.updateQueue=null,x=Ks(h,M,x,R),Lo(c),M=Hu(),c!==null&&!Vn?(ku(c,h,P),Js(c,h,P)):(vn&&M&&Se(h),h.flags|=1,tr(c,h,x,P),h.child)}function Fv(c,h,x,M,R){if(Fo(h),h.stateNode===null){var P=nl,q=x.contextType;typeof q=="object"&&q!==null&&(P=nr(q)),P=new x(M,P),h.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=Rs,h.stateNode=P,P._reactInternals=h,P=h.stateNode,P.props=M,P.state=h.memoizedState,P.refs={},dt(h),q=x.contextType,P.context=typeof q=="object"&&q!==null?nr(q):nl,P.state=h.memoizedState,q=x.getDerivedStateFromProps,typeof q=="function"&&(Xu(h,x,q,M),P.state=h.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(q=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),q!==P.state&&Rs.enqueueReplaceState(P,P.state,null),Ke(h,M,P,R),xe(),P.state=h.memoizedState),typeof P.componentDidMount=="function"&&(h.flags|=4194308),M=!0}else if(c===null){P=h.stateNode;var ae=h.memoizedProps,ve=Qs(x,ae);P.props=ve;var Ue=P.context,tt=x.contextType;q=nl,typeof tt=="object"&&tt!==null&&(q=nr(tt));var ct=x.getDerivedStateFromProps;tt=typeof ct=="function"||typeof P.getSnapshotBeforeUpdate=="function",ae=h.pendingProps!==ae,tt||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(ae||Ue!==q)&&Nv(h,P,M,q),vo=!1;var mt=h.memoizedState;P.state=mt,Ke(h,M,P,R),xe(),Ue=h.memoizedState,ae||mt!==Ue||vo?(typeof ct=="function"&&(Xu(h,x,ct,M),Ue=h.memoizedState),(ve=vo||Wu(h,x,ve,M,mt,Ue,q))?(tt||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(h.flags|=4194308)):(typeof P.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=M,h.memoizedState=Ue),P.props=M,P.state=Ue,P.context=q,M=ve):(typeof P.componentDidMount=="function"&&(h.flags|=4194308),M=!1)}else{P=h.stateNode,vt(c,h),q=h.memoizedProps,tt=Qs(x,q),P.props=tt,ct=h.pendingProps,mt=P.context,Ue=x.contextType,ve=nl,typeof Ue=="object"&&Ue!==null&&(ve=nr(Ue)),ae=x.getDerivedStateFromProps,(Ue=typeof ae=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(q!==ct||mt!==ve)&&Nv(h,P,M,ve),vo=!1,mt=h.memoizedState,P.state=mt,Ke(h,M,P,R),xe();var Wt=h.memoizedState;q!==ct||mt!==Wt||vo||c!==null&&c.dependencies!==null&&Ef(c.dependencies)?(typeof ae=="function"&&(Xu(h,x,ae,M),Wt=h.memoizedState),(tt=vo||Wu(h,x,tt,M,mt,Wt,ve)||c!==null&&c.dependencies!==null&&Ef(c.dependencies))?(Ue||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(M,Wt,ve),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(M,Wt,ve)),typeof P.componentDidUpdate=="function"&&(h.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof P.componentDidUpdate!="function"||q===c.memoizedProps&&mt===c.memoizedState||(h.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||q===c.memoizedProps&&mt===c.memoizedState||(h.flags|=1024),h.memoizedProps=M,h.memoizedState=Wt),P.props=M,P.state=Wt,P.context=ve,M=tt):(typeof P.componentDidUpdate!="function"||q===c.memoizedProps&&mt===c.memoizedState||(h.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||q===c.memoizedProps&&mt===c.memoizedState||(h.flags|=1024),M=!1)}return P=M,xf(c,h),M=(h.flags&128)!==0,P||M?(P=h.stateNode,x=M&&typeof x.getDerivedStateFromError!="function"?null:P.render(),h.flags|=1,c!==null&&M?(h.child=ol(h,c.child,null,R),h.child=ol(h,null,x,R)):tr(c,h,x,R),h.memoizedState=P.state,c=h.child):c=Js(c,h,R),c}function Vv(c,h,x,M){return Pt(),h.flags|=256,tr(c,h,x,M),h.child}function Tm(c){return{baseLanes:c,cachePool:Nm()}}function bf(c,h,x){return c=c!==null?c.childLanes&~x:0,h&&(c|=ma),c}function Hv(c,h,x){var M=h.pendingProps,R=!1,P=(h.flags&128)!==0,q;if((q=P)||(q=c!==null&&c.memoizedState===null?!1:(Ii.current&2)!==0),q&&(R=!0,h.flags&=-129),q=(h.flags&32)!==0,h.flags&=-33,c===null){if(vn){if(R?Lr(h):Ya(),vn){var ae=lr,ve;(ve=ae)&&(ae=My(ae,qi),ae!==null?(h.memoizedState={dehydrated:ae,treeContext:il!==null?{id:as,overflow:ss}:null,retryLane:536870912},ve=t(18,null,null,0),ve.stateNode=ae,ve.return=h,h.child=ve,or=h,lr=null,ve=!0):ve=!1),ve||Xe(h)}if(ae=h.memoizedState,ae!==null&&(ae=ae.dehydrated,ae!==null))return Ld(ae)?h.lanes=16:h.lanes=536870912,null;br(h)}return ae=M.children,M=M.fallback,R?(Ya(),R=h.mode,ae=wm({mode:"hidden",children:ae},R),M=si(M,R,x,null),ae.return=h,M.return=h,ae.sibling=M,h.child=ae,R=h.child,R.memoizedState=Tm(x),R.childLanes=bf(c,q,x),h.memoizedState=qd,M):(Lr(h),Am(h,ae))}if(ve=c.memoizedState,ve!==null&&(ae=ve.dehydrated,ae!==null)){if(P)h.flags&256?(Lr(h),h.flags&=-257,h=ld(c,h,x)):h.memoizedState!==null?(Ya(),h.child=c.child,h.flags|=128,h=null):(Ya(),R=M.fallback,ae=h.mode,M=wm({mode:"visible",children:M.children},ae),R=si(R,ae,x,null),R.flags|=2,M.return=h,R.return=h,M.sibling=R,h.child=M,ol(h,c.child,null,x),M=h.child,M.memoizedState=Tm(x),M.childLanes=bf(c,q,x),h.memoizedState=qd,h=R);else if(Lr(h),Ld(ae))q=xy(ae).digest,M=Error(r(419)),M.stack="",M.digest=q,Mt({value:M,source:null,stack:null}),h=ld(c,h,x);else if(Vn||Sf(c,h,x,!1),q=(x&c.childLanes)!==0,Vn||q){if(q=Dn,q!==null){if(M=x&-x,(M&42)!==0)M=1;else switch(M){case 2:M=1;break;case 8:M=4;break;case 32:M=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:M=64;break;case 268435456:M=134217728;break;default:M=0}if(M=(M&(q.suspendedLanes|x))!==0?0:M,M!==0&&M!==ve.retryLane)throw ve.retryLane=M,We(c,M),Xi(q,c,M),Wd}Pd(ae)||so(),h=ld(c,h,x)}else Pd(ae)?(h.flags|=128,h.child=c.child,h=oo.bind(null,c),by(ae,h),h=null):(c=ve.treeContext,sr&&(lr=Ey(ae),or=h,vn=!0,Pa=null,qi=!1,c!==null&&(sa[oa++]=as,sa[oa++]=ss,sa[oa++]=il,as=c.id,ss=c.overflow,il=h)),h=Am(h,M.children),h.flags|=4096);return h}return R?(Ya(),R=M.fallback,ae=h.mode,ve=c.child,P=ve.sibling,M=Ca(ve,{mode:"hidden",children:M.children}),M.subtreeFlags=ve.subtreeFlags&31457280,P!==null?R=Ca(P,R):(R=si(R,ae,x,null),R.flags|=2),R.return=h,M.return=h,M.sibling=R,h.child=M,M=R,R=h.child,ae=c.child.memoizedState,ae===null?ae=Tm(x):(ve=ae.cachePool,ve!==null?(P=Tr?Xn._currentValue:Xn._currentValue2,ve=ve.parent!==P?{parent:P,pool:P}:ve):ve=Nm(),ae={baseLanes:ae.baseLanes|x,cachePool:ve}),R.memoizedState=ae,R.childLanes=bf(c,q,x),h.memoizedState=qd,M):(Lr(h),x=c.child,c=x.sibling,x=Ca(x,{mode:"visible",children:M.children}),x.return=h,x.sibling=null,c!==null&&(q=h.deletions,q===null?(h.deletions=[c],h.flags|=16):q.push(c)),h.child=x,h.memoizedState=null,x)}function Am(c,h){return h=wm({mode:"visible",children:h},c.mode),h.return=c,c.child=h}function wm(c,h){return Bf(c,h,0,null)}function ld(c,h,x){return ol(h,c.child,null,x),c=Am(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function kv(c,h,x){c.lanes|=h;var M=c.alternate;M!==null&&(M.lanes|=h),_f(c.return,h,x)}function Cm(c,h,x,M,R){var P=c.memoizedState;P===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:M,tail:x,tailMode:R}:(P.isBackwards=h,P.rendering=null,P.renderingStartTime=0,P.last=M,P.tail=x,P.tailMode=R)}function Gv(c,h,x){var M=h.pendingProps,R=M.revealOrder,P=M.tail;if(tr(c,h,M.children,x),M=Ii.current,(M&2)!==0)M=M&1|2,h.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&kv(c,x,h);else if(c.tag===19)kv(c,x,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}M&=1}switch(C(Ii,M),R){case"forwards":for(x=h.child,R=null;x!==null;)c=x.alternate,c!==null&&Ka(c)===null&&(R=x),x=x.sibling;x=R,x===null?(R=h.child,h.child=null):(R=x.sibling,x.sibling=null),Cm(h,!1,R,x,P);break;case"backwards":for(x=null,R=h.child,h.child=null;R!==null;){if(c=R.alternate,c!==null&&Ka(c)===null){h.child=R;break}c=R.sibling,R.sibling=x,x=R,R=c}Cm(h,!0,x,null,P);break;case"together":Cm(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Js(c,h,x){if(c!==null&&(h.dependencies=c.dependencies),pa|=h.lanes,(x&h.childLanes)===0)if(c!==null){if(Sf(c,h,x,!1),(x&h.childLanes)===0)return null}else return null;if(c!==null&&h.child!==c.child)throw Error(r(153));if(h.child!==null){for(c=h.child,x=Ca(c,c.pendingProps),h.child=x,x.return=h;c.sibling!==null;)c=c.sibling,x=x.sibling=Ca(c,c.pendingProps),x.return=h;x.sibling=null}return h.child}function Rm(c,h){return(c.lanes&h)!==0?!0:(c=c.dependencies,!!(c!==null&&Ef(c)))}function GS(c,h,x){switch(h.tag){case 3:se(h,h.stateNode.containerInfo),Io(h,Xn,c.memoizedState.cache),Pt();break;case 27:case 5:Be(h);break;case 4:se(h,h.stateNode.containerInfo);break;case 10:Io(h,h.type,h.memoizedProps.value);break;case 13:var M=h.memoizedState;if(M!==null)return M.dehydrated!==null?(Lr(h),h.flags|=128,null):(x&h.child.childLanes)!==0?Hv(c,h,x):(Lr(h),c=Js(c,h,x),c!==null?c.sibling:null);Lr(h);break;case 19:var R=(c.flags&128)!==0;if(M=(x&h.childLanes)!==0,M||(Sf(c,h,x,!1),M=(x&h.childLanes)!==0),R){if(M)return Gv(c,h,x);h.flags|=128}if(R=h.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),C(Ii,Ii.current),M)break;return null;case 22:case 23:return h.lanes=0,zv(c,h,x);case 24:Io(h,Xn,c.memoizedState.cache)}return Js(c,h,x)}function $v(c,h,x){if(c!==null)if(c.memoizedProps!==h.pendingProps)Vn=!0;else{if(!Rm(c,x)&&(h.flags&128)===0)return Vn=!1,GS(c,h,x);Vn=(c.flags&131072)!==0}else Vn=!1,vn&&(h.flags&1048576)!==0&&te(h,vc,h.index);switch(h.lanes=0,h.tag){case 16:e:{c=h.pendingProps;var M=h.elementType,R=M._init;if(M=R(M._payload),h.type=M,typeof M=="function")Uf(M)?(c=Qs(M,c),h.tag=1,h=Fv(null,h,M,c,x)):(h.tag=0,h=od(null,h,M,c,x));else{if(M!=null){if(R=M.$$typeof,R===kf){h.tag=11,h=sd(null,h,M,c,x);break e}else if(R===wd){h.tag=14,h=Lv(null,h,M,c,x);break e}}throw h=o(M)||M,Error(r(306,h,""))}}return h;case 0:return od(c,h,h.type,h.pendingProps,x);case 1:return M=h.type,R=Qs(M,h.pendingProps),Fv(c,h,M,R,x);case 3:e:{if(se(h,h.stateNode.containerInfo),c===null)throw Error(r(387));var P=h.pendingProps;R=h.memoizedState,M=R.element,vt(c,h),Ke(h,P,null,x);var q=h.memoizedState;if(P=q.cache,Io(h,Xn,P),P!==R.cache&&Il(h,[Xn],x,!0),xe(),P=q.element,sr&&R.isDehydrated)if(R={element:P,isDehydrated:!1,cache:q.cache},h.updateQueue.baseState=R,h.memoizedState=R,h.flags&256){h=Vv(c,h,P,x);break e}else if(P!==M){M=ue(Error(r(424)),h),Mt(M),h=Vv(c,h,P,x);break e}else for(sr&&(lr=Sy(h.stateNode.containerInfo),or=h,vn=!0,Pa=null,qi=!0),x=Cs(h,null,P,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Pt(),P===M){h=Js(c,h,x);break e}tr(c,h,P,x)}h=h.child}return h;case 26:if(aa)return xf(c,h),c===null?(x=mg(h.type,null,h.pendingProps,null))?h.memoizedState=x:vn||(h.stateNode=Fd(h.type,h.pendingProps,As.current,h)):h.memoizedState=mg(h.type,c.memoizedProps,h.pendingProps,c.memoizedState),null;case 27:if(In)return Be(h),c===null&&In&&vn&&(M=h.stateNode=rs(h.type,h.pendingProps,As.current,Bi.current,!1),or=h,qi=!0,lr=Ud(M)),M=h.pendingProps.children,c!==null||vn?tr(c,h,M,x):h.child=ol(h,null,M,x),xf(c,h),h.child;case 5:return c===null&&vn&&(Bd(h.type,h.pendingProps,Bi.current),(R=M=lr)&&(M=KS(M,h.type,h.pendingProps,qi),M!==null?(h.stateNode=M,or=h,lr=Ud(M),qi=!1,R=!0):R=!1),R||Xe(h)),Be(h),R=h.type,P=h.pendingProps,q=c!==null?c.memoizedProps:null,M=P.children,Yt(R,P)?M=null:q!==null&&Yt(R,q)&&(h.flags|=32),h.memoizedState!==null&&(R=Qa(c,h,Ti,null,null,x),Tr?is._currentValue=R:is._currentValue2=R),xf(c,h),tr(c,h,M,x),h.child;case 6:return c===null&&vn&&(Ry(h.pendingProps,Bi.current),(c=x=lr)&&(x=dg(x,h.pendingProps,qi),x!==null?(h.stateNode=x,or=h,lr=null,c=!0):c=!1),c||Xe(h)),null;case 13:return Hv(c,h,x);case 4:return se(h,h.stateNode.containerInfo),M=h.pendingProps,c===null?h.child=ol(h,null,M,x):tr(c,h,M,x),h.child;case 11:return sd(c,h,h.type,h.pendingProps,x);case 7:return tr(c,h,h.pendingProps,x),h.child;case 8:return tr(c,h,h.pendingProps.children,x),h.child;case 12:return tr(c,h,h.pendingProps.children,x),h.child;case 10:return M=h.pendingProps,Io(h,h.type,M.value),tr(c,h,M.children,x),h.child;case 9:return R=h.type._context,M=h.pendingProps.children,Fo(h),R=nr(R),M=M(R),h.flags|=1,tr(c,h,M,x),h.child;case 14:return Lv(c,h,h.type,h.pendingProps,x);case 15:return Uv(c,h,h.type,h.pendingProps,x);case 19:return Gv(c,h,x);case 22:return zv(c,h,x);case 24:return Fo(h),M=nr(Xn),c===null?(R=Om(),R===null&&(R=Dn,P=Vo(),R.pooledCache=P,P.refCount++,P!==null&&(R.pooledCacheLanes|=x),R=P),h.memoizedState={parent:M,cache:R},dt(h),Io(h,Xn,R)):((c.lanes&x)!==0&&(vt(c,h),Ke(h,null,null,x),xe()),R=c.memoizedState,P=h.memoizedState,R.parent!==M?(R={parent:M,cache:M},h.memoizedState=R,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=R),Io(h,Xn,M)):(M=P.cache,Io(h,Xn,M),M!==R.cache&&Il(h,[Xn],x,!0))),tr(c,h,h.pendingProps.children,x),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}function Io(c,h,x){Tr?(C(xo,h._currentValue),h._currentValue=x):(C(xo,h._currentValue2),h._currentValue2=x)}function eo(c){var h=xo.current;Tr?c._currentValue=h:c._currentValue2=h,S(xo)}function _f(c,h,x){for(;c!==null;){var M=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,M!==null&&(M.childLanes|=h)):M!==null&&(M.childLanes&h)!==h&&(M.childLanes|=h),c===x)break;c=c.return}}function Il(c,h,x,M){var R=c.child;for(R!==null&&(R.return=c);R!==null;){var P=R.dependencies;if(P!==null){var q=R.child;P=P.firstContext;e:for(;P!==null;){var ae=P;P=R;for(var ve=0;ve<h.length;ve++)if(ae.context===h[ve]){P.lanes|=x,ae=P.alternate,ae!==null&&(ae.lanes|=x),_f(P.return,x,c),M||(q=null);break e}P=ae.next}}else if(R.tag===18){if(q=R.return,q===null)throw Error(r(341));q.lanes|=x,P=q.alternate,P!==null&&(P.lanes|=x),_f(q,x,c),q=null}else q=R.child;if(q!==null)q.return=R;else for(q=R;q!==null;){if(q===c){q=null;break}if(R=q.sibling,R!==null){R.return=q.return,q=R;break}q=q.return}R=q}}function Sf(c,h,x,M){c=null;for(var R=h,P=!1;R!==null;){if(!P){if((R.flags&524288)!==0)P=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var q=R.alternate;if(q===null)throw Error(r(387));if(q=q.memoizedProps,q!==null){var ae=R.type;kr(R.pendingProps.value,q.value)||(c!==null?c.push(ae):c=[ae])}}else if(R===ql.current){if(q=R.alternate,q===null)throw Error(r(387));q.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(c!==null?c.push(is):c=[is])}R=R.return}c!==null&&Il(h,c,x,M),h.flags|=262144}function Ef(c){for(c=c.firstContext;c!==null;){var h=c.context;if(!kr(Tr?h._currentValue:h._currentValue2,c.memoizedValue))return!0;c=c.next}return!1}function Fo(c){us=c,fa=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function nr(c){return Dm(us,c)}function Mf(c,h){return us===null&&Fo(c),Dm(c,h)}function Dm(c,h){var x=Tr?h._currentValue:h._currentValue2;if(h={context:h,memoizedValue:x,next:null},fa===null){if(c===null)throw Error(r(308));fa=h,c.dependencies={lanes:0,firstContext:h},c.flags|=524288}else fa=fa.next=h;return x}function Vo(){return{controller:new Ec,data:new Map,refCount:0}}function Tf(c){c.refCount--,c.refCount===0&&Vy(Hy,function(){c.controller.abort()})}function Om(){var c=Ds.current;return c!==null?c:Dn.pooledCache}function ud(c,h){h===null?C(Ds,Ds.current):C(Ds,h.pool)}function Nm(){var c=Om();return c===null?null:{parent:Tr?Xn._currentValue:Xn._currentValue2,pool:c}}function Ur(c){c.flags|=4}function Zu(c,h){if(c!==null&&c.child===h.child)return!1;if((h.flags&16)!==0)return!0;for(c=h.child;c!==null;){if((c.flags&13878)!==0||(c.subtreeFlags&13878)!==0)return!0;c=c.sibling}return!1}function Fl(c,h,x,M){if(zi)for(x=h.child;x!==null;){if(x.tag===5||x.tag===6)$f(c,x.stateNode);else if(!(x.tag===4||In&&x.tag===27)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return;x=x.return}x.sibling.return=x.return,x=x.sibling}else if(Oa)for(var R=h.child;R!==null;){if(R.tag===5){var P=R.stateNode;x&&M&&(P=ug(P,R.type,R.memoizedProps)),$f(c,P)}else if(R.tag===6)P=R.stateNode,x&&M&&(P=cg(P,R.memoizedProps)),$f(c,P);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)P=R.child,P!==null&&(P.return=R),Fl(c,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===h)break;for(;R.sibling===null;){if(R.return===null||R.return===h)return;R=R.return}R.sibling.return=R.return,R=R.sibling}}function jv(c,h,x,M){if(Oa)for(var R=h.child;R!==null;){if(R.tag===5){var P=R.stateNode;x&&M&&(P=ug(P,R.type,R.memoizedProps)),lg(c,P)}else if(R.tag===6)P=R.stateNode,x&&M&&(P=cg(P,R.memoizedProps)),lg(c,P);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)P=R.child,P!==null&&(P.return=R),jv(c,R,!(R.memoizedProps!==null&&R.memoizedProps.mode==="manual"),!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===h)break;for(;R.sibling===null;){if(R.return===null||R.return===h)return;R=R.return}R.sibling.return=R.return,R=R.sibling}}function Af(c,h){if(Oa&&Zu(c,h)){c=h.stateNode;var x=c.containerInfo,M=jf();jv(M,h,!1,!1),c.pendingChildren=M,Ur(h),Nd(x,M)}}function cd(c,h,x,M){if(zi)c.memoizedProps!==M&&Ur(h);else if(Oa){var R=c.stateNode,P=c.memoizedProps;if((c=Zu(c,h))||P!==M){var q=Bi.current;P=pc(R,x,P,M,!c,null),P===R?h.stateNode=R:(fo(P,x,M,q)&&Ur(h),h.stateNode=P,c?Fl(P,h,!1,!1):Ur(h))}else h.stateNode=R}}function fd(c,h,x){if(eg(h,x)){if(c.flags|=16777216,!Dd(h,x))if(Xo())c.flags|=8192;else throw rl=eh,Jf}else c.flags&=-16777217}function hd(c,h){if(Ny(h)){if(c.flags|=16777216,!Gl(h))if(Xo())c.flags|=8192;else throw rl=eh,Jf}else c.flags&=-16777217}function Qu(c,h){h!==null&&(c.flags|=4),c.flags&16384&&(h=c.tag!==22?B():536870912,c.lanes|=h,Ps|=h)}function Ju(c,h){if(!vn)switch(c.tailMode){case"hidden":h=c.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?c.tail=null:x.sibling=null;break;case"collapsed":x=c.tail;for(var M=null;x!==null;)x.alternate!==null&&(M=x),x=x.sibling;M===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:M.sibling=null}}function ti(c){var h=c.alternate!==null&&c.alternate.child===c.child,x=0,M=0;if(h)for(var R=c.child;R!==null;)x|=R.lanes|R.childLanes,M|=R.subtreeFlags&31457280,M|=R.flags&31457280,R.return=c,R=R.sibling;else for(R=c.child;R!==null;)x|=R.lanes|R.childLanes,M|=R.subtreeFlags,M|=R.flags,R.return=c,R=R.sibling;return c.subtreeFlags|=M,c.childLanes=x,h}function Xv(c,h,x){var M=h.pendingProps;switch(ye(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(h),null;case 1:return ti(h),null;case 3:return x=h.stateNode,M=null,c!==null&&(M=c.memoizedState.cache),h.memoizedState.cache!==M&&(h.flags|=2048),eo(Xn),we(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(c===null||c.child===null)&&(Zt(h)?Ur(h):c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Pa!==null&&(Pf(Pa),Pa=null))),Af(c,h),ti(h),null;case 26:if(aa){x=h.type;var R=h.memoizedState;return c===null?(Ur(h),R!==null?(ti(h),hd(h,R)):(ti(h),fd(h,x,M))):R?R!==c.memoizedState?(Ur(h),ti(h),hd(h,R)):(ti(h),h.flags&=-16777217):(zi?c.memoizedProps!==M&&Ur(h):cd(c,h,x,M),ti(h),fd(h,x,M)),null}case 27:if(In){if(je(h),x=As.current,R=h.type,c!==null&&h.stateNode!=null)zi?c.memoizedProps!==M&&Ur(h):cd(c,h,R,M);else{if(!M){if(h.stateNode===null)throw Error(r(166));return ti(h),null}c=Bi.current,Zt(h)?gt(h,c):(c=rs(R,M,x,c,!0),h.stateNode=c,Ur(h))}return ti(h),null}case 5:if(je(h),x=h.type,c!==null&&h.stateNode!=null)cd(c,h,x,M);else{if(!M){if(h.stateNode===null)throw Error(r(166));return ti(h),null}c=Bi.current,Zt(h)?gt(h,c):(R=Jm(x,M,As.current,c,h),Fl(R,h,!1,!1),h.stateNode=R,fo(R,x,M,c)&&Ur(h))}return ti(h),fd(h,h.type,h.pendingProps),null;case 6:if(c&&h.stateNode!=null)x=c.memoizedProps,zi?x!==M&&Ur(h):Oa&&(x!==M?(h.stateNode=Pn(M,As.current,Bi.current,h),Ur(h)):h.stateNode=c.stateNode);else{if(typeof M!="string"&&h.stateNode===null)throw Error(r(166));if(c=As.current,x=Bi.current,Zt(h)){if(!sr)throw Error(r(176));if(c=h.stateNode,x=h.memoizedProps,M=null,R=or,R!==null)switch(R.tag){case 27:case 5:M=R.memoizedProps}pg(c,x,h,M)||Xe(h)}else h.stateNode=Pn(M,c,x,h)}return ti(h),null;case 13:if(M=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(R=Zt(h),M!==null&&M.dehydrated!==null){if(c===null){if(!R)throw Error(r(318));if(!sr)throw Error(r(344));if(R=h.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));Ay(R,h)}else Pt(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;ti(h),R=!1}else Pa!==null&&(Pf(Pa),Pa=null),R=!0;if(!R)return h.flags&256?(br(h),h):(br(h),null)}if(br(h),(h.flags&128)!==0)return h.lanes=x,h;if(x=M!==null,c=c!==null&&c.memoizedState!==null,x){M=h.child,R=null,M.alternate!==null&&M.alternate.memoizedState!==null&&M.alternate.memoizedState.cachePool!==null&&(R=M.alternate.memoizedState.cachePool.pool);var P=null;M.memoizedState!==null&&M.memoizedState.cachePool!==null&&(P=M.memoizedState.cachePool.pool),P!==R&&(M.flags|=2048)}return x!==c&&x&&(h.child.flags|=8192),Qu(h,h.updateQueue),ti(h),null;case 4:return we(),Af(c,h),c===null&&hi(h.stateNode.containerInfo),ti(h),null;case 10:return eo(h.type),ti(h),null;case 19:if(S(Ii),R=h.memoizedState,R===null)return ti(h),null;if(M=(h.flags&128)!==0,P=R.rendering,P===null)if(M)Ju(R,!1);else{if(Hn!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(P=Ka(c),P!==null){for(h.flags|=128,Ju(R,!1),c=P.updateQueue,h.updateQueue=c,Qu(h,c),h.subtreeFlags=0,c=x,x=h.child;x!==null;)zf(x,c),x=x.sibling;return C(Ii,Ii.current&1|2),h.child}c=c.sibling}R.tail!==null&&Na()>Ac&&(h.flags|=128,M=!0,Ju(R,!1),h.lanes=4194304)}else{if(!M)if(c=Ka(P),c!==null){if(h.flags|=128,M=!0,c=c.updateQueue,h.updateQueue=c,Qu(h,c),Ju(R,!0),R.tail===null&&R.tailMode==="hidden"&&!P.alternate&&!vn)return ti(h),null}else 2*Na()-R.renderingStartTime>Ac&&x!==536870912&&(h.flags|=128,M=!0,Ju(R,!1),h.lanes=4194304);R.isBackwards?(P.sibling=h.child,h.child=P):(c=R.last,c!==null?c.sibling=P:h.child=P,R.last=P)}return R.tail!==null?(h=R.tail,R.rendering=h,R.tail=h.sibling,R.renderingStartTime=Na(),h.sibling=null,c=Ii.current,C(Ii,M?c&1|2:c&1),h):(ti(h),null);case 22:case 23:return br(h),hr(),M=h.memoizedState!==null,c!==null?c.memoizedState!==null!==M&&(h.flags|=8192):M&&(h.flags|=8192),M?(x&536870912)!==0&&(h.flags&128)===0&&(ti(h),h.subtreeFlags&6&&(h.flags|=8192)):ti(h),x=h.updateQueue,x!==null&&Qu(h,x.retryQueue),x=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),M=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(M=h.memoizedState.cachePool.pool),M!==x&&(h.flags|=2048),c!==null&&S(Ds),null;case 24:return x=null,c!==null&&(x=c.memoizedState.cache),h.memoizedState.cache!==x&&(h.flags|=2048),eo(Xn),ti(h),null;case 25:return null}throw Error(r(156,h.tag))}function $S(c,h){switch(ye(h),h.tag){case 1:return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return eo(Xn),we(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 26:case 27:case 5:return je(h),null;case 13:if(br(h),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(r(340));Pt()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return S(Ii),null;case 4:return we(),null;case 10:return eo(h.type),null;case 22:case 23:return br(h),hr(),c!==null&&S(Ds),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 24:return eo(Xn),null;case 25:return null;default:return null}}function Wv(c,h){switch(ye(h),h.tag){case 3:eo(Xn),we();break;case 26:case 27:case 5:je(h);break;case 4:we();break;case 13:br(h);break;case 19:S(Ii);break;case 10:eo(h.type);break;case 22:case 23:br(h),hr(),c!==null&&S(Ds);break;case 24:eo(Xn)}}function wf(c,h){try{var x=h.updateQueue,M=x!==null?x.lastEffect:null;if(M!==null){var R=M.next;x=R;do{if((x.tag&c)===c){M=void 0;var P=x.create,q=x.inst;M=P(),q.destroy=M}x=x.next}while(x!==R)}}catch(ae){Cn(h,h.return,ae)}}function Ho(c,h,x){try{var M=h.updateQueue,R=M!==null?M.lastEffect:null;if(R!==null){var P=R.next;M=P;do{if((M.tag&c)===c){var q=M.inst,ae=q.destroy;if(ae!==void 0){q.destroy=void 0,R=h;var ve=x;try{ae()}catch(Ue){Cn(R,ve,Ue)}}}M=M.next}while(M!==P)}}catch(Ue){Cn(h,h.return,Ue)}}function qv(c){var h=c.updateQueue;if(h!==null){var x=c.stateNode;try{Je(h,x)}catch(M){Cn(c,c.return,M)}}}function zr(c,h,x){x.props=Qs(c.type,c.memoizedProps),x.state=c.memoizedState;try{x.componentWillUnmount()}catch(M){Cn(c,h,M)}}function es(c,h){try{var x=c.ref;if(x!==null){var M=c.stateNode;switch(c.tag){case 26:case 27:case 5:var R=fc(M);break;default:R=M}typeof x=="function"?c.refCleanup=x(R):x.current=R}}catch(P){Cn(c,h,P)}}function Br(c,h){var x=c.ref,M=c.refCleanup;if(x!==null)if(typeof M=="function")try{M()}catch(R){Cn(c,h,R)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(R){Cn(c,h,R)}else x.current=null}function Pm(c){var h=c.type,x=c.memoizedProps,M=c.stateNode;try{qS(M,h,x,c)}catch(R){Cn(c,c.return,R)}}function Lm(c,h,x){try{fy(c.stateNode,c.type,x,h,c)}catch(M){Cn(c,c.return,M)}}function Um(c){return c.tag===5||c.tag===3||(aa?c.tag===26:!1)||(In?c.tag===27:!1)||c.tag===4}function Cf(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Um(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&(!In||c.tag!==27)&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function zm(c,h,x){var M=c.tag;if(M===5||M===6)c=c.stateNode,h?dy(x,c,h):ag(x,c);else if(!(M===4||In&&M===27)&&(c=c.child,c!==null))for(zm(c,h,x),c=c.sibling;c!==null;)zm(c,h,x),c=c.sibling}function to(c,h,x){var M=c.tag;if(M===5||M===6)c=c.stateNode,h?hy(x,c,h):uy(x,c);else if(!(M===4||In&&M===27)&&(c=c.child,c!==null))for(to(c,h,x),c=c.sibling;c!==null;)to(c,h,x),c=c.sibling}function dd(c,h,x){c=c.containerInfo;try{mc(c,x)}catch(M){Cn(h,h.return,M)}}function Rf(c,h){for(Cd(c.containerInfo),Xt=h;Xt!==null;)if(c=Xt,h=c.child,(c.subtreeFlags&1028)!==0&&h!==null)h.return=c,Xt=h;else for(;Xt!==null;){c=Xt;var x=c.alternate;switch(h=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((h&1024)!==0&&x!==null){h=void 0;var M=c,R=x.memoizedProps;x=x.memoizedState;var P=M.stateNode;try{var q=Qs(M.type,R,M.elementType===M.type);h=P.getSnapshotBeforeUpdate(q,x),P.__reactInternalSnapshotBeforeUpdate=h}catch(ae){Cn(M,M.return,ae)}}break;case 3:(h&1024)!==0&&zi&&yy(c.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(r(163))}if(h=c.sibling,h!==null){h.return=c.return,Xt=h;break}Xt=c.return}return q=fn,fn=!1,q}function pd(c,h,x){var M=x.flags;switch(x.tag){case 0:case 11:case 15:io(c,x),M&4&&wf(5,x);break;case 1:if(io(c,x),M&4)if(c=x.stateNode,h===null)try{c.componentDidMount()}catch(ae){Cn(x,x.return,ae)}else{var R=Qs(x.type,h.memoizedProps);h=h.memoizedState;try{c.componentDidUpdate(R,h,c.__reactInternalSnapshotBeforeUpdate)}catch(ae){Cn(x,x.return,ae)}}M&64&&qv(x),M&512&&es(x,x.return);break;case 3:if(io(c,x),M&64&&(M=x.updateQueue,M!==null)){if(c=null,x.child!==null)switch(x.child.tag){case 27:case 5:c=fc(x.child.stateNode);break;case 1:c=x.child.stateNode}try{Je(M,c)}catch(ae){Cn(x,x.return,ae)}}break;case 26:if(aa){io(c,x),M&512&&es(x,x.return);break}case 27:case 5:io(c,x),h===null&&M&4&&Pm(x),M&512&&es(x,x.return);break;case 12:io(c,x);break;case 13:io(c,x),M&4&&md(c,x);break;case 22:if(R=x.memoizedState!==null||Os,!R){h=h!==null&&h.memoizedState!==null||li;var P=Os,q=li;Os=R,(li=h)&&!q?ro(c,x,(x.subtreeFlags&8772)!==0):io(c,x),Os=P,li=q}M&512&&(x.memoizedProps.mode==="manual"?es(x,x.return):Br(x,x.return));break;default:io(c,x)}}function Bm(c){var h=c.alternate;h!==null&&(c.alternate=null,Bm(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&WS(h)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function ir(c,h,x){for(x=x.child;x!==null;)ko(c,h,x),x=x.sibling}function ko(c,h,x){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(pi,x)}catch{}switch(x.tag){case 26:if(aa){li||Br(x,h),ir(c,h,x),x.memoizedState?kl(x.memoizedState):x.stateNode&&gc(x.stateNode);break}case 27:if(In){li||Br(x,h);var M=Nt,R=en;Nt=x.stateNode,ir(c,h,x),tl(x.stateNode),Nt=M,en=R;break}case 5:li||Br(x,h);case 6:if(zi){if(M=Nt,R=en,Nt=null,ir(c,h,x),Nt=M,en=R,Nt!==null)if(en)try{py(Nt,x.stateNode)}catch(P){Cn(x,h,P)}else try{sg(Nt,x.stateNode)}catch(P){Cn(x,h,P)}}else ir(c,h,x);break;case 18:zi&&Nt!==null&&(en?Xf(Nt,x.stateNode):Cy(Nt,x.stateNode));break;case 4:zi?(M=Nt,R=en,Nt=x.stateNode.containerInfo,en=!0,ir(c,h,x),Nt=M,en=R):(Oa&&dd(x.stateNode,x,jf()),ir(c,h,x));break;case 0:case 11:case 14:case 15:li||Ho(2,x,h),li||Ho(4,x,h),ir(c,h,x);break;case 1:li||(Br(x,h),M=x.stateNode,typeof M.componentWillUnmount=="function"&&zr(x,h,M)),ir(c,h,x);break;case 21:ir(c,h,x);break;case 22:li||Br(x,h),li=(M=li)||x.memoizedState!==null,ir(c,h,x),li=M;break;default:ir(c,h,x)}}function md(c,h){if(sr&&h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{QS(c)}catch(x){Cn(h,h.return,x)}}function Yv(c){switch(c.tag){case 13:case 19:var h=c.stateNode;return h===null&&(h=c.stateNode=new Rn),h;case 22:return c=c.stateNode,h=c._retryCache,h===null&&(h=c._retryCache=new Rn),h;default:throw Error(r(435,c.tag))}}function no(c,h){var x=Yv(c);h.forEach(function(M){var R=Yo.bind(null,c,M);x.has(M)||(x.add(M),M.then(R,R))})}function Er(c,h){var x=h.deletions;if(x!==null)for(var M=0;M<x.length;M++){var R=x[M],P=c,q=h;if(zi){var ae=q;e:for(;ae!==null;){switch(ae.tag){case 27:case 5:Nt=ae.stateNode,en=!1;break e;case 3:Nt=ae.stateNode.containerInfo,en=!0;break e;case 4:Nt=ae.stateNode.containerInfo,en=!0;break e}ae=ae.return}if(Nt===null)throw Error(r(160));ko(P,q,R),Nt=null,en=!1}else ko(P,q,R);P=R.alternate,P!==null&&(P.return=null),R.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)Im(h,c),h=h.sibling}function Im(c,h){var x=c.alternate,M=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Er(h,c),Ir(c),M&4&&(Ho(3,c,c.return),wf(3,c),Ho(5,c,c.return));break;case 1:Er(h,c),Ir(c),M&512&&(li||x===null||Br(x,x.return)),M&64&&Os&&(c=c.updateQueue,c!==null&&(M=c.callbacks,M!==null&&(x=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=x===null?M:x.concat(M))));break;case 26:if(aa){var R=ai;Er(h,c),Ir(c),M&512&&(li||x===null||Br(x,x.return)),M&4&&(M=x!==null?x.memoizedState:null,h=c.memoizedState,x===null?h===null?c.stateNode===null?c.stateNode=qf(R,c.type,c.memoizedProps,c):Yf(R,c.type,c.stateNode):c.stateNode=Dy(R,h,c.memoizedProps):M!==h?(M===null?x.stateNode!==null&&gc(x.stateNode):kl(M),h===null?Yf(R,c.type,c.stateNode):Dy(R,h,c.memoizedProps)):h===null&&c.stateNode!==null&&Lm(c,c.memoizedProps,x.memoizedProps));break}case 27:if(In&&M&4&&c.alternate===null){R=c.stateNode;var P=c.memoizedProps;try{el(R),Ly(c.type,P,R,c)}catch(tt){Cn(c,c.return,tt)}}case 5:if(Er(h,c),Ir(c),M&512&&(li||x===null||Br(x,x.return)),zi){if(c.flags&32){h=c.stateNode;try{og(h)}catch(tt){Cn(c,c.return,tt)}}M&4&&c.stateNode!=null&&(h=c.memoizedProps,Lm(c,h,x!==null?x.memoizedProps:h)),M&1024&&(xg=!0)}break;case 6:if(Er(h,c),Ir(c),M&4&&zi){if(c.stateNode===null)throw Error(r(162));M=c.memoizedProps,x=x!==null?x.memoizedProps:M,h=c.stateNode;try{cy(h,x,M)}catch(tt){Cn(c,c.return,tt)}}break;case 3:if(aa?(Oy(),R=ai,ai=Id(h.containerInfo),Er(h,c),ai=R):Er(h,c),Ir(c),M&4){if(zi&&sr&&x!==null&&x.memoizedState.isDehydrated)try{ZS(h.containerInfo)}catch(tt){Cn(c,c.return,tt)}if(Oa){M=h.containerInfo,x=h.pendingChildren;try{mc(M,x)}catch(tt){Cn(c,c.return,tt)}}}xg&&(xg=!1,Kv(c));break;case 4:aa?(x=ai,ai=Id(c.stateNode.containerInfo),Er(h,c),Ir(c),ai=x):(Er(h,c),Ir(c)),M&4&&Oa&&dd(c.stateNode,c,c.stateNode.pendingChildren);break;case 12:Er(h,c),Ir(c);break;case 13:Er(h,c),Ir(c),c.child.flags&8192&&c.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(Rr=Na()),M&4&&(M=c.updateQueue,M!==null&&(c.updateQueue=null,no(c,M)));break;case 22:M&512&&(li||x===null||Br(x,x.return)),R=c.memoizedState!==null;var q=x!==null&&x.memoizedState!==null,ae=Os,ve=li;if(Os=ae||R,li=ve||q,Er(h,c),li=ve,Os=ae,Ir(c),h=c.stateNode,h._current=c,h._visibility&=-3,h._visibility|=h._pendingVisibility&2,M&8192&&(h._visibility=R?h._visibility&-2:h._visibility|1,R&&(h=Os||li,x===null||q||h||ec(c)),zi&&(c.memoizedProps===null||c.memoizedProps.mode!=="manual"))){e:if(x=null,zi)for(h=c;;){if(h.tag===5||aa&&h.tag===26||In&&h.tag===27){if(x===null){q=x=h;try{P=q.stateNode,R?my(P):vy(q.stateNode,q.memoizedProps)}catch(tt){Cn(q,q.return,tt)}}}else if(h.tag===6){if(x===null){q=h;try{var Ue=q.stateNode;R?gy(Ue):YS(Ue,q.memoizedProps)}catch(tt){Cn(q,q.return,tt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===c)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break e;for(;h.sibling===null;){if(h.return===null||h.return===c)break e;x===h&&(x=null),h=h.return}x===h&&(x=null),h.sibling.return=h.return,h=h.sibling}}M&4&&(M=c.updateQueue,M!==null&&(x=M.retryQueue,x!==null&&(M.retryQueue=null,no(c,x))));break;case 19:Er(h,c),Ir(c),M&4&&(M=c.updateQueue,M!==null&&(c.updateQueue=null,no(c,M)));break;case 21:break;default:Er(h,c),Ir(c)}}function Ir(c){var h=c.flags;if(h&2){try{if(zi&&(!In||c.tag!==27)){e:{for(var x=c.return;x!==null;){if(Um(x)){var M=x;break e}x=x.return}throw Error(r(160))}switch(M.tag){case 27:if(In){var R=M.stateNode,P=Cf(c);to(c,P,R);break}case 5:var q=M.stateNode;M.flags&32&&(og(q),M.flags&=-33);var ae=Cf(c);to(c,ae,q);break;case 3:case 4:var ve=M.stateNode.containerInfo,Ue=Cf(c);zm(c,Ue,ve);break;default:throw Error(r(161))}}}catch(tt){Cn(c,c.return,tt)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function Kv(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var h=c;Kv(h),h.tag===5&&h.flags&1024&&Od(h.stateNode),c=c.sibling}}function io(c,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)pd(c,h.alternate,h),h=h.sibling}function ec(c){for(c=c.child;c!==null;){var h=c;switch(h.tag){case 0:case 11:case 14:case 15:Ho(4,h,h.return),ec(h);break;case 1:Br(h,h.return);var x=h.stateNode;typeof x.componentWillUnmount=="function"&&zr(h,h.return,x),ec(h);break;case 26:case 27:case 5:Br(h,h.return),ec(h);break;case 22:Br(h,h.return),h.memoizedState===null&&ec(h);break;default:ec(h)}c=c.sibling}}function ro(c,h,x){for(x=x&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var M=h.alternate,R=c,P=h,q=P.flags;switch(P.tag){case 0:case 11:case 15:ro(R,P,x),wf(4,P);break;case 1:if(ro(R,P,x),M=P,R=M.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(Ue){Cn(M,M.return,Ue)}if(M=P,R=M.updateQueue,R!==null){var ae=M.stateNode;try{var ve=R.shared.hiddenCallbacks;if(ve!==null)for(R.shared.hiddenCallbacks=null,R=0;R<ve.length;R++)re(ve[R],ae)}catch(Ue){Cn(M,M.return,Ue)}}x&&q&64&&qv(P),es(P,P.return);break;case 26:case 27:case 5:ro(R,P,x),x&&M===null&&q&4&&Pm(P),es(P,P.return);break;case 12:ro(R,P,x);break;case 13:ro(R,P,x),x&&q&4&&md(R,P);break;case 22:P.memoizedState===null&&ro(R,P,x),es(P,P.return);break;default:ro(R,P,x)}h=h.sibling}}function gd(c,h){var x=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),c=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(c=h.memoizedState.cachePool.pool),c!==x&&(c!=null&&c.refCount++,x!=null&&Tf(x))}function Df(c,h){c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&Tf(c))}function ji(c,h,x,M){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)Fm(c,h,x,M),h=h.sibling}function Fm(c,h,x,M){var R=h.flags;switch(h.tag){case 0:case 11:case 15:ji(c,h,x,M),R&2048&&wf(9,h);break;case 3:ji(c,h,x,M),R&2048&&(c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&Tf(c)));break;case 12:if(R&2048){ji(c,h,x,M),c=h.stateNode;try{var P=h.memoizedProps,q=P.id,ae=P.onPostCommit;typeof ae=="function"&&ae(q,h.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(ve){Cn(h,h.return,ve)}}else ji(c,h,x,M);break;case 23:break;case 22:P=h.stateNode,h.memoizedState!==null?P._visibility&4?ji(c,h,x,M):dr(c,h):P._visibility&4?ji(c,h,x,M):(P._visibility|=4,rr(c,h,x,M,(h.subtreeFlags&10256)!==0)),R&2048&&gd(h.alternate,h);break;case 24:ji(c,h,x,M),R&2048&&Df(h.alternate,h);break;default:ji(c,h,x,M)}}function rr(c,h,x,M,R){for(R=R&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var P=c,q=h,ae=x,ve=M,Ue=q.flags;switch(q.tag){case 0:case 11:case 15:rr(P,q,ae,ve,R),wf(8,q);break;case 23:break;case 22:var tt=q.stateNode;q.memoizedState!==null?tt._visibility&4?rr(P,q,ae,ve,R):dr(P,q):(tt._visibility|=4,rr(P,q,ae,ve,R)),R&&Ue&2048&&gd(q.alternate,q);break;case 24:rr(P,q,ae,ve,R),R&&Ue&2048&&Df(q.alternate,q);break;default:rr(P,q,ae,ve,R)}h=h.sibling}}function dr(c,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var x=c,M=h,R=M.flags;switch(M.tag){case 22:dr(x,M),R&2048&&gd(M.alternate,M);break;case 24:dr(x,M),R&2048&&Df(M.alternate,M);break;default:dr(x,M)}h=h.sibling}}function Aa(c){if(c.subtreeFlags&ha)for(c=c.child;c!==null;)vd(c),c=c.sibling}function vd(c){switch(c.tag){case 26:Aa(c),c.flags&ha&&(c.memoizedState!==null?Py(ai,c.memoizedState,c.memoizedProps):Ar(c.type,c.memoizedProps));break;case 5:Aa(c),c.flags&ha&&Ar(c.type,c.memoizedProps);break;case 3:case 4:if(aa){var h=ai;ai=Id(c.stateNode.containerInfo),Aa(c),ai=h}else Aa(c);break;case 22:c.memoizedState===null&&(h=c.alternate,h!==null&&h.memoizedState!==null?(h=ha,ha=16777216,Aa(c),ha=h):Aa(c));break;default:Aa(c)}}function Of(c){var h=c.alternate;if(h!==null&&(c=h.child,c!==null)){h.child=null;do h=c.sibling,c.sibling=null,c=h;while(c!==null)}}function Go(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var M=h[x];Xt=M,Vm(M,c)}Of(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)yd(c),c=c.sibling}function yd(c){switch(c.tag){case 0:case 11:case 15:Go(c),c.flags&2048&&Ho(9,c,c.return);break;case 3:Go(c);break;case 12:Go(c);break;case 22:var h=c.stateNode;c.memoizedState!==null&&h._visibility&4&&(c.return===null||c.return.tag!==13)?(h._visibility&=-5,ao(c)):Go(c);break;default:Go(c)}}function ao(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var M=h[x];Xt=M,Vm(M,c)}Of(c)}for(c=c.child;c!==null;){switch(h=c,h.tag){case 0:case 11:case 15:Ho(8,h,h.return),ao(h);break;case 22:x=h.stateNode,x._visibility&4&&(x._visibility&=-5,ao(h));break;default:ao(h)}c=c.sibling}}function Vm(c,h){for(;Xt!==null;){var x=Xt;switch(x.tag){case 0:case 11:case 15:Ho(8,x,h);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var M=x.memoizedState.cachePool.pool;M!=null&&M.refCount++}break;case 24:Tf(x.memoizedState.cache)}if(M=x.child,M!==null)M.return=x,Xt=M;else e:for(x=c;Xt!==null;){M=Xt;var R=M.sibling,P=M.return;if(Bm(M),M===x){Xt=null;break e}if(R!==null){R.return=P,Xt=R;break e}Xt=P}}}function tc(c){var h=ny(c);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(r(364));return h}if(c=ig(c),c===null)throw Error(r(362));return c.stateNode.current}function $o(c,h){var x=c.tag;switch(h.$$typeof){case Tc:if(c.type===h.value)return!0;break;case za:e:{for(h=h.value,c=[c,0],x=0;x<c.length;){var M=c[x++],R=M.tag,P=c[x++],q=h[P];if(R!==5&&R!==26&&R!==27||!dc(M)){for(;q!=null&&$o(M,q);)P++,q=h[P];if(P===h.length){h=!0;break e}else for(M=M.child;M!==null;)c.push(M,P),M=M.sibling}}h=!1}return h;case Zn:if((x===5||x===26||x===27)&&sy(c.stateNode,h.value))return!0;break;case Ns:if((x===5||x===6||x===26||x===27)&&(c=ay(c),c!==null&&0<=c.indexOf(h.value)))return!0;break;case cs:if((x===5||x===26||x===27)&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Hm(c){switch(c.$$typeof){case Tc:return"<"+(o(c.value)||"Unknown")+">";case za:return":has("+(Hm(c)||"")+")";case Zn:return'[role="'+c.value+'"]';case Ns:return'"'+c.value+'"';case cs:return'[data-testname="'+c.value+'"]';default:throw Error(r(365))}}function Fr(c,h){var x=[];c=[c,0];for(var M=0;M<c.length;){var R=c[M++],P=R.tag,q=c[M++],ae=h[q];if(P!==5&&P!==26&&P!==27||!dc(R)){for(;ae!=null&&$o(R,ae);)q++,ae=h[q];if(q===h.length)x.push(R);else for(R=R.child;R!==null;)c.push(R,q),R=R.sibling}}return x}function Nf(c,h){if(!Jo)throw Error(r(363));c=tc(c),c=Fr(c,h),h=[],c=Array.from(c);for(var x=0;x<c.length;){var M=c[x++],R=M.tag;if(R===5||R===26||R===27)dc(M)||h.push(M.stateNode);else for(M=M.child;M!==null;)c.push(M),M=M.sibling}return h}function fi(){if((xn&2)!==0&&pn!==0)return pn&-pn;if(Ht.T!==null){var c=la;return c!==0?c:Ne()}return iy()}function km(){ma===0&&(ma=(pn&536870912)===0||vn?V():536870912);var c=ua.current;return c!==null&&(c.flags|=32),ma}function Xi(c,h,x){(c===Dn&&zn===2||c.cancelPendingCommit!==null)&&(ar(c,0),Vr(c,pn,ma,!1)),W(c,x),((xn&2)===0||c!==Dn)&&(c===Dn&&((xn&2)===0&&(bo|=x),Hn===4&&Vr(c,pn,ma,!1)),He(c))}function jo(c,h,x){if((xn&6)!==0)throw Error(r(327));var M=!x&&(h&60)===0&&(h&c.expiredLanes)===0||U(c,h),R=M?$m(c,h):bd(c,h,!0),P=M;do{if(R===0){da&&!M&&Vr(c,h,0,!1);break}else if(R===6)Vr(c,h,0,!Ia);else{if(x=c.current.alternate,P&&!nc(x)){R=bd(c,h,!1),P=!1;continue}if(R===2){if(P=h,c.errorRecoveryDisabledLanes&P)var q=0;else q=c.pendingLanes&-536870913,q=q!==0?q:q&536870912?536870912:0;if(q!==0){h=q;e:{var ae=c;R=iu;var ve=sr&&ae.current.memoizedState.isDehydrated;if(ve&&(ar(ae,q).flags|=256),q=bd(ae,q,!1),q!==2){if(Fi&&!ve){ae.errorRecoveryDisabledLanes|=P,bo|=P,R=4;break e}P=ui,ui=R,P!==null&&Pf(P)}R=q}if(P=!1,R!==2)continue}}if(R===1){ar(c,0),Vr(c,h,0,!0);break}e:{switch(M=c,R){case 0:case 1:throw Error(r(345));case 4:if((h&4194176)===h){Vr(M,h,ma,!Ia);break e}break;case 2:ui=null;break;case 3:case 5:break;default:throw Error(r(329))}if(M.finishedWork=x,M.finishedLanes=h,(h&62914560)===h&&(P=Rr+300-Na(),10<P)){if(Vr(M,h,ma,!Ia),z(M,0)!==0)break e;M.timeoutHandle=Ci(xd.bind(null,M,x,ui,nh,Yd,h,ma,bo,Ps,Ia,2,-0,0),P);break e}xd(M,x,ui,nh,Yd,h,ma,bo,Ps,Ia,0,-0,0)}}break}while(!0);He(c)}function Pf(c){ui===null?ui=c:ui.push.apply(ui,c)}function xd(c,h,x,M,R,P,q,ae,ve,Ue,tt,ct,mt){var Wt=h.subtreeFlags;if((Wt&8192||(Wt&16785408)===16785408)&&(tg(),vd(h),h=Ri(),h!==null)){c.cancelPendingCommit=h(Wo.bind(null,c,x,M,R,q,ae,ve,1,ct,mt)),Vr(c,P,q,!Ue);return}Wo(c,x,M,R,q,ae,ve,tt,ct,mt)}function nc(c){for(var h=c;;){var x=h.tag;if((x===0||x===11||x===15)&&h.flags&16384&&(x=h.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var M=0;M<x.length;M++){var R=x[M],P=R.getSnapshot;R=R.value;try{if(!kr(P(),R))return!1}catch{return!1}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Vr(c,h,x,M){h&=~th,h&=~bo,c.suspendedLanes|=h,c.pingedLanes&=~h,M&&(c.warmLanes|=h),M=c.expirationTimes;for(var R=h;0<R;){var P=31-wr(R),q=1<<P;M[P]=-1,R&=~q}x!==0&&ee(c,x,h)}function Lf(){return(xn&6)===0?(at(0),!1):!0}function ic(){if(zt!==null){if(zn===0)var c=zt.return;else c=zt,fa=us=null,Ja(c),al=null,sl=0,c=zt;for(;c!==null;)Wv(c.alternate,c),c=c.return;zt=null}}function ar(c,h){c.finishedWork=null,c.finishedLanes=0;var x=c.timeoutHandle;x!==Zo&&(c.timeoutHandle=Zo,Rd(x)),x=c.cancelPendingCommit,x!==null&&(c.cancelPendingCommit=null,x()),ic(),Dn=c,zt=x=Ca(c.current,null),pn=h,zn=0,mr=null,Ia=!1,da=U(c,h),Fi=!1,Ps=ma=th=bo=pa=Hn=0,ui=iu=null,Yd=!1,(h&8)!==0&&(h|=h&32);var M=c.entangledLanes;if(M!==0)for(c=c.entanglements,M&=h;0<M;){var R=31-wr(M),P=1<<R;h|=c[R],M&=~P}return gr=h,Z(),x}function na(c,h){an=null,Ht.H=oi,h===_c?(h=ut(),zn=3):h===Jf?(h=ut(),zn=4):zn=h===Wd?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,mr=h,zt===null&&(Hn=1,qu(c,ue(h,c.current)))}function Xo(){var c=ua.current;return c===null?!0:(pn&4194176)===pn?Fn===null:(pn&62914560)===pn||(pn&536870912)!==0?c===Fn:!1}function bs(){var c=Ht.H;return Ht.H=oi,c===null?oi:c}function _s(){var c=Ht.A;return Ht.A=Mc,c}function so(){Hn=4,Ia||(pn&4194176)!==pn&&ua.current!==null||(da=!0),(pa&134217727)===0&&(bo&134217727)===0||Dn===null||Vr(Dn,pn,ma,!1)}function bd(c,h,x){var M=xn;xn|=2;var R=bs(),P=_s();(Dn!==c||pn!==h)&&(nh=null,ar(c,h)),h=!1;var q=Hn;e:do try{if(zn!==0&&zt!==null){var ae=zt,ve=mr;switch(zn){case 8:ic(),q=6;break e;case 3:case 2:case 6:ua.current===null&&(h=!0);var Ue=zn;if(zn=0,mr=null,wa(c,ae,ve,Ue),x&&da){q=0;break e}break;default:Ue=zn,zn=0,mr=null,wa(c,ae,ve,Ue)}}Gm(),q=Hn;break}catch(tt){na(c,tt)}while(!0);return h&&c.shellSuspendCounter++,fa=us=null,xn=M,Ht.H=R,Ht.A=P,zt===null&&(Dn=null,pn=0,Z()),q}function Gm(){for(;zt!==null;)ri(zt)}function $m(c,h){var x=xn;xn|=2;var M=bs(),R=_s();Dn!==c||pn!==h?(nh=null,Ac=Na()+500,ar(c,h)):da=U(c,h);e:do try{if(zn!==0&&zt!==null){h=zt;var P=mr;t:switch(zn){case 1:zn=0,mr=null,wa(c,h,P,1);break;case 2:if(lt(P)){zn=0,mr=null,_n(h);break}h=function(){zn===2&&Dn===c&&(zn=7),He(c)},P.then(h,h);break e;case 3:zn=7;break e;case 4:zn=5;break e;case 7:lt(P)?(zn=0,mr=null,_n(h)):(zn=0,mr=null,wa(c,h,P,7));break;case 5:var q=null;switch(zt.tag){case 26:q=zt.memoizedState;case 5:case 27:var ae=zt,ve=ae.type,Ue=ae.pendingProps;if(q?Gl(q):Dd(ve,Ue)){zn=0,mr=null;var tt=ae.sibling;if(tt!==null)zt=tt;else{var ct=ae.return;ct!==null?(zt=ct,ia(ct)):zt=null}break t}}zn=0,mr=null,wa(c,h,P,5);break;case 6:zn=0,mr=null,wa(c,h,P,6);break;case 8:ic(),Hn=6;break e;default:throw Error(r(462))}}Mr();break}catch(mt){na(c,mt)}while(!0);return fa=us=null,Ht.H=M,Ht.A=R,xn=x,zt!==null?0:(Dn=null,pn=0,Z(),Hn)}function Mr(){for(;zt!==null&&!By();)ri(zt)}function ri(c){var h=$v(c.alternate,c,gr);c.memoizedProps=c.pendingProps,h===null?ia(c):zt=h}function _n(c){var h=c,x=h.alternate;switch(h.tag){case 15:case 0:h=Iv(x,h,h.pendingProps,h.type,void 0,pn);break;case 11:h=Iv(x,h,h.pendingProps,h.type.render,h.ref,pn);break;case 5:Ja(h);default:Wv(x,h),h=zt=zf(h,gr),h=$v(x,h,gr)}c.memoizedProps=c.pendingProps,h===null?ia(c):zt=h}function wa(c,h,x,M){fa=us=null,Ja(h),al=null,sl=0;var R=h.return;try{if(kS(c,R,h,x,pn)){Hn=1,qu(c,ue(x,c.current)),zt=null;return}}catch(P){if(R!==null)throw zt=R,P;Hn=1,qu(c,ue(x,c.current)),zt=null;return}h.flags&32768?(vn||M===1?c=!0:da||(pn&536870912)!==0?c=!1:(Ia=c=!0,(M===2||M===3||M===6)&&(M=ua.current,M!==null&&M.tag===13&&(M.flags|=16384))),_d(h,c)):ia(h)}function ia(c){var h=c;do{if((h.flags&32768)!==0){_d(h,Ia);return}c=h.return;var x=Xv(h.alternate,h,gr);if(x!==null){zt=x;return}if(h=h.sibling,h!==null){zt=h;return}zt=h=c}while(h!==null);Hn===0&&(Hn=5)}function _d(c,h){do{var x=$S(c.alternate,c);if(x!==null){x.flags&=32767,zt=x;return}if(x=c.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!h&&(c=c.sibling,c!==null)){zt=c;return}zt=c=x}while(c!==null);Hn=6,zt=null}function Wo(c,h,x,M,R,P,q,ae,ve,Ue){var tt=Ht.T,ct=ho();try{pr(2),Ht.T=null,Zv(c,h,x,M,ct,R,P,q,ae,ve,Ue)}finally{Ht.T=tt,pr(ct)}}function Zv(c,h,x,M,R,P,q,ae){do ts();while(Ls!==null);if((xn&6)!==0)throw Error(r(327));var ve=c.finishedWork;if(M=c.finishedLanes,ve===null)return null;if(c.finishedWork=null,c.finishedLanes=0,ve===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0,c.cancelPendingCommit=null;var Ue=ve.lanes|ve.childLanes;if(Ue|=os,oe(c,M,Ue,P,q,ae),c===Dn&&(zt=Dn=null,pn=0),(ve.subtreeFlags&10256)===0&&(ve.flags&10256)===0||fs||(fs=!0,fl=Ue,Kd=x,lo(Gd,function(){return ts(),null})),x=(ve.flags&15990)!==0,(ve.subtreeFlags&15990)!==0||x?(x=Ht.T,Ht.T=null,P=ho(),pr(2),q=xn,xn|=4,Rf(c,ve),Im(ve,c),ty(c.containerInfo),c.current=ve,pd(c,ve.alternate,ve),Hd(),xn=q,pr(P),Ht.T=x):c.current=ve,fs?(fs=!1,Ls=c,ru=M):jm(c,Ue),Ue=c.pendingLanes,Ue===0&&(cl=null),k(ve.stateNode),He(c),h!==null)for(R=c.onRecoverableError,ve=0;ve<h.length;ve++)Ue=h[ve],R(Ue.value,{componentStack:Ue.stack});return(ru&3)!==0&&ts(),Ue=c.pendingLanes,(M&4194218)!==0&&(Ue&42)!==0?c===Zd?wc++:(wc=0,Zd=c):wc=0,at(0),null}function jm(c,h){(c.pooledCacheLanes&=h)===0&&(h=c.pooledCache,h!=null&&(c.pooledCache=null,Tf(h)))}function ts(){if(Ls!==null){var c=Ls,h=fl;fl=0;var x=de(ru),M=32>x?32:x;x=Ht.T;var R=ho();try{if(pr(M),Ht.T=null,Ls===null)var P=!1;else{M=Kd,Kd=null;var q=Ls,ae=ru;if(Ls=null,ru=0,(xn&6)!==0)throw Error(r(331));var ve=xn;if(xn|=4,yd(q.current),Fm(q,q.current,ae,M),xn=ve,at(0,!1),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(pi,q)}catch{}P=!0}return P}finally{pr(R),Ht.T=x,jm(c,h)}}return!1}function rc(c,h,x){h=ue(x,h),h=Ku(c.stateNode,h,2),c=it(c,h,2),c!==null&&(W(c,2),He(c))}function Cn(c,h,x){if(c.tag===3)rc(c,c,x);else for(;h!==null;){if(h.tag===3){rc(h,c,x);break}else if(h.tag===1){var M=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(cl===null||!cl.has(M))){c=ue(x,c),x=Mm(2),M=it(h,x,2),M!==null&&(Pv(x,M,h,c),W(M,2),He(M));break}}h=h.return}}function Vl(c,h,x){var M=c.pingCache;if(M===null){M=c.pingCache=new Ba;var R=new Set;M.set(h,R)}else R=M.get(h),R===void 0&&(R=new Set,M.set(h,R));R.has(x)||(Fi=!0,R.add(x),c=Xm.bind(null,c,h,x),h.then(c,c))}function Xm(c,h,x){var M=c.pingCache;M!==null&&M.delete(h),c.pingedLanes|=c.suspendedLanes&x,c.warmLanes&=~x,Dn===c&&(pn&x)===x&&(Hn===4||Hn===3&&(pn&62914560)===pn&&300>Na()-Rr?(xn&2)===0&&ar(c,0):th|=x,Ps===pn&&(Ps=0)),He(c)}function qo(c,h){h===0&&(h=B()),c=We(c,h),c!==null&&(W(c,h),He(c))}function oo(c){var h=c.memoizedState,x=0;h!==null&&(x=h.retryLane),qo(c,x)}function Yo(c,h){var x=0;switch(c.tag){case 13:var M=c.stateNode,R=c.memoizedState;R!==null&&(x=R.retryLane);break;case 19:M=c.stateNode;break;case 22:M=c.stateNode._retryCache;break;default:throw Error(r(314))}M!==null&&M.delete(h),qo(c,x)}function lo(c,h){return Kf(c,h)}function Wm(c,h,x,M){this.tag=c,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Uf(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Ca(c,h){var x=c.alternate;return x===null?(x=t(c.tag,h,c.key,c.mode),x.elementType=c.elementType,x.type=c.type,x.stateNode=c.stateNode,x.alternate=c,c.alternate=x):(x.pendingProps=h,x.type=c.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=c.flags&31457280,x.childLanes=c.childLanes,x.lanes=c.lanes,x.child=c.child,x.memoizedProps=c.memoizedProps,x.memoizedState=c.memoizedState,x.updateQueue=c.updateQueue,h=c.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=c.sibling,x.index=c.index,x.ref=c.ref,x.refCleanup=c.refCleanup,x}function zf(c,h){c.flags&=31457282;var x=c.alternate;return x===null?(c.childLanes=0,c.lanes=h,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=x.childLanes,c.lanes=x.lanes,c.child=x.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=x.memoizedProps,c.memoizedState=x.memoizedState,c.updateQueue=x.updateQueue,c.type=x.type,h=x.dependencies,c.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),c}function Ss(c,h,x,M,R,P){var q=0;if(M=c,typeof c=="function")Uf(c)&&(q=1);else if(typeof c=="string")q=aa&&In?Wf(c,x,Bi.current)?26:Ms(c)?27:5:aa?Wf(c,x,Bi.current)?26:5:In&&Ms(c)?27:5;else e:switch(c){case Ko:return si(x.children,R,P,h);case Vf:q=8,R|=24;break;case Td:return c=t(12,x,h,R|2),c.elementType=Td,c.lanes=P,c;case Ad:return c=t(13,x,h,R),c.elementType=Ad,c.lanes=P,c;case lc:return c=t(19,x,h,R),c.elementType=lc,c.lanes=P,c;case Km:return Bf(x,R,P,h);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case Hf:case ns:q=10;break e;case Ym:q=9;break e;case kf:q=11;break e;case wd:q=14;break e;case Da:q=16,M=null;break e}q=29,x=Error(r(130,c===null?"null":typeof c,"")),M=null}return h=t(q,x,h,R),h.elementType=c,h.type=M,h.lanes=P,h}function si(c,h,x,M){return c=t(7,c,M,h),c.lanes=x,c}function Bf(c,h,x,M){c=t(22,c,M,h),c.elementType=Km,c.lanes=x;var R={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var P=R._current;if(P===null)throw Error(r(456));if((R._pendingVisibility&2)===0){var q=We(P,2);q!==null&&(R._pendingVisibility|=2,Xi(q,P,2))}},attach:function(){var P=R._current;if(P===null)throw Error(r(456));if((R._pendingVisibility&2)!==0){var q=We(P,2);q!==null&&(R._pendingVisibility&=-3,Xi(q,P,2))}}};return c.stateNode=R,c}function Sd(c,h,x){return c=t(6,c,null,h),c.lanes=x,c}function qm(c,h,x){return h=t(4,c.children!==null?c.children:[],c.key,h),h.lanes=x,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}function jS(c,h,x,M,R,P,q,ae){this.tag=1,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Zo,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=L(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L(0),this.hiddenUpdates=L(null),this.identifierPrefix=M,this.onUncaughtError=R,this.onCaughtError=P,this.onRecoverableError=q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ae,this.incompleteTransitions=new Map}function Qv(c,h,x,M,R,P,q,ae,ve,Ue,tt,ct){return c=new jS(c,h,x,q,ae,ve,Ue,ct),h=1,P===!0&&(h|=24),P=t(3,null,null,h),c.current=P,P.stateNode=c,h=Vo(),h.refCount++,c.pooledCache=h,h.refCount++,P.memoizedState={element:M,isDehydrated:x,cache:h},dt(P),c}function wi(c){return c?(c=nl,c):nl}function Ed(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=b(h),c=c!==null?_(c):null,c===null?null:fc(c.stateNode)}function ac(c,h,x,M,R,P){R=wi(R),M.context===null?M.context=R:M.pendingContext=R,M=Le(h),M.payload={element:x},P=P===void 0?null:P,P!==null&&(M.callback=P),x=it(c,M,h),x!==null&&(Xi(x,c,h),yt(x,c,h))}function sc(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var x=c.retryLane;c.retryLane=x!==0&&x<h?x:h}}function If(c,h){sc(c,h),(c=c.alternate)&&sc(c,h)}var qt={},oc=Yh(),ra=m7(),Md=Object.assign,XS=Symbol.for("react.element"),Ff=Symbol.for("react.transitional.element"),Ra=Symbol.for("react.portal"),Ko=Symbol.for("react.fragment"),Vf=Symbol.for("react.strict_mode"),Td=Symbol.for("react.profiler"),Hf=Symbol.for("react.provider"),Ym=Symbol.for("react.consumer"),ns=Symbol.for("react.context"),kf=Symbol.for("react.forward_ref"),Ad=Symbol.for("react.suspense"),lc=Symbol.for("react.suspense_list"),wd=Symbol.for("react.memo"),Da=Symbol.for("react.lazy"),Km=Symbol.for("react.offscreen"),Jv=Symbol.for("react.memo_cache_sentinel"),uo=Symbol.iterator,Zm=Symbol.for("react.client.reference"),Ht=oc.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Es,co,Hl=!1,uc=Array.isArray,Qm=e.rendererVersion,Gf=e.rendererPackageName,cc=e.extraDevToolsConfig,fc=e.getPublicInstance,ey=e.getRootHostContext,hc=e.getChildHostContext,Cd=e.prepareForCommit,ty=e.resetAfterCommit,Jm=e.createInstance,$f=e.appendInitialChild,fo=e.finalizeInitialChildren,Yt=e.shouldSetTextContent,Pn=e.createTextInstance,Ci=e.scheduleTimeout,Rd=e.cancelTimeout,Zo=e.noTimeout,Tr=e.isPrimaryRenderer;e.warnsIfNotActing;var zi=e.supportsMutation,Oa=e.supportsPersistence,sr=e.supportsHydration,ny=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var hi=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var pr=e.setCurrentUpdatePriority,ho=e.getCurrentUpdatePriority,iy=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var ry=e.shouldAttemptEagerTransition,WS=e.detachDeletedInstance;e.requestPostPaintCallback;var eg=e.maySuspendCommit,Dd=e.preloadInstance,tg=e.startSuspendingCommit,Ar=e.suspendInstance,Ri=e.waitForCommitToBeReady,Qo=e.NotPendingTransition,is=e.HostTransitionContext,Od=e.resetFormInstance;e.bindToConsole;var ng=e.supportsMicrotasks,po=e.scheduleMicrotask,Jo=e.supportsTestSelectors,ig=e.findFiberRoot,rg=e.getBoundingRect,ay=e.getTextContent,dc=e.isHiddenSubtree,sy=e.matchAccessibilityRole,oy=e.setFocusIfFocusable,ly=e.setupIntersectionObserver,uy=e.appendChild,ag=e.appendChildToContainer,cy=e.commitTextUpdate,qS=e.commitMount,fy=e.commitUpdate,hy=e.insertBefore,dy=e.insertInContainerBefore,sg=e.removeChild,py=e.removeChildFromContainer,og=e.resetTextContent,my=e.hideInstance,gy=e.hideTextInstance,vy=e.unhideInstance,YS=e.unhideTextInstance,yy=e.clearContainer,pc=e.cloneInstance,jf=e.createContainerChildSet,lg=e.appendChildToContainerChildSet,Nd=e.finalizeContainerChildren,mc=e.replaceContainerChildren,ug=e.cloneHiddenInstance,cg=e.cloneHiddenTextInstance,Pd=e.isSuspenseInstancePending,Ld=e.isSuspenseInstanceFallback,xy=e.getSuspenseInstanceFallbackErrorDetails,by=e.registerSuspenseInstanceRetry,fg=e.canHydrateFormStateMarker,_y=e.isFormStateMarkerMatching,hg=e.getNextHydratableSibling,Ud=e.getFirstHydratableChild,Sy=e.getFirstHydratableChildWithinContainer,Ey=e.getFirstHydratableChildWithinSuspenseInstance,KS=e.canHydrateInstance,dg=e.canHydrateTextInstance,My=e.canHydrateSuspenseInstance,Ty=e.hydrateInstance,pg=e.hydrateTextInstance,Ay=e.hydrateSuspenseInstance,wy=e.getNextHydratableInstanceAfterSuspenseInstance,ZS=e.commitHydratedContainer,QS=e.commitHydratedSuspenseInstance,Cy=e.clearSuspenseBoundary,Xf=e.clearSuspenseBoundaryFromContainer,zd=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var Bd=e.validateHydratableInstance,Ry=e.validateHydratableTextInstance,aa=e.supportsResources,Wf=e.isHostHoistableType,Id=e.getHoistableRoot,mg=e.getResource,Dy=e.acquireResource,kl=e.releaseResource,qf=e.hydrateHoistable,Yf=e.mountHoistable,gc=e.unmountHoistable,Fd=e.createHoistableInstance,Oy=e.prepareToCommitHoistables,Ny=e.mayResourceSuspendCommit,Gl=e.preloadResource,Py=e.suspendResource,In=e.supportsSingletons,rs=e.resolveSingletonInstance,el=e.clearSingleton,Ly=e.acquireSingletonInstance,tl=e.releaseSingletonInstance,Ms=e.isHostSingletonType,di=[],mo=-1,nl={},wr=Math.clz32?Math.clz32:D,Uy=Math.log,zy=Math.LN2,Ts=128,$l=4194304,Kf=ra.unstable_scheduleCallback,Vd=ra.unstable_cancelCallback,By=ra.unstable_shouldYield,Hd=ra.unstable_requestPaint,Na=ra.unstable_now,kd=ra.unstable_ImmediatePriority,Iy=ra.unstable_UserBlockingPriority,Gd=ra.unstable_NormalPriority,JS=ra.unstable_IdlePriority,Fy=ra.log,Wi=ra.unstable_setDisableYieldValue,pi=null,Hr=null,kr=typeof Object.is=="function"?Object.is:K,gg=new WeakMap,jl=[],Xl=0,Wl=null,vc=0,sa=[],oa=0,il=null,as=1,ss="",Bi=T(null),yc=T(null),As=T(null),ql=T(null),or=null,lr=null,vn=!1,Pa=null,qi=!1,Zf=Error(r(519)),La=[],Yl=0,os=0,Qf=null,go=null,Kl=!1,$n=!1,vg=!1,xc=0,bc=null,Zl=0,la=0,Ql=null,vo=!1,Jl=!1,ws=Object.prototype.hasOwnProperty,_c=Error(r(460)),Jf=Error(r(474)),eh={then:function(){}},rl=null,al=null,sl=0,ol=ei(!0),Cs=ei(!1),jn=T(null),Sc=T(0),ua=T(null),Fn=null,Ii=T(0),yo=0,an=null,Lt=null,yn=null,Ua=!1,eu=!1,ll=!1,$d=0,tu=0,Yi=null,ls=0,jd=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},oi={readContext:nr,use:Ce,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useLayoutEffect:Ln,useInsertionEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useSyncExternalStore:Ln,useId:Ln};oi.useCacheRefresh=Ln,oi.useMemoCache=Ln,oi.useHostTransitionStatus=Ln,oi.useFormState=Ln,oi.useActionState=Ln,oi.useOptimistic=Ln;var ul={readContext:nr,use:Ce,useCallback:function(c,h){return X().memoizedState=[c,h===void 0?null:h],c},useContext:nr,useEffect:nd,useImperativeHandle:function(c,h,x){x=x!=null?x.concat([c]):null,df(4194308,4,id.bind(null,h,c),x)},useLayoutEffect:function(c,h){return df(4194308,4,c,h)},useInsertionEffect:function(c,h){df(4,2,c,h)},useMemo:function(c,h){var x=X();h=h===void 0?null:h;var M=c();if(ll){Y(!0);try{c()}finally{Y(!1)}}return x.memoizedState=[M,h],M},useReducer:function(c,h,x){var M=X();if(x!==void 0){var R=x(h);if(ll){Y(!0);try{x(h)}finally{Y(!1)}}}else R=h;return M.memoizedState=M.baseState=R,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:R},M.queue=c,c=c.dispatch=ad.bind(null,an,c),[M.memoizedState,c]},useRef:function(c){var h=X();return c={current:c},h.memoizedState=c},useState:function(c){c=rn(c);var h=c.queue,x=Em.bind(null,an,h);return h.dispatch=x,[c.memoizedState,x]},useDebugValue:Uo,useDeferredValue:function(c,h){var x=X();return gf(x,c,h)},useTransition:function(){var c=rn(!1);return c=Gu.bind(null,an,c.queue,!0,!1),X().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,h,x){var M=an,R=X();if(vn){if(x===void 0)throw Error(r(407));x=x()}else{if(x=h(),Dn===null)throw Error(r(349));(pn&60)!==0||Dt(M,h,x)}R.memoizedState=x;var P={value:x,getSnapshot:h};return R.queue=P,nd(Jt.bind(null,M,P,c),[c]),M.flags|=2048,_r(9,At.bind(null,M,P,x,h),{destroy:void 0},null),x},useId:function(){var c=X(),h=Dn.identifierPrefix;if(vn){var x=ss,M=as;x=(M&~(1<<32-wr(M)-1)).toString(32)+x,h=":"+h+"R"+x,x=$d++,0<x&&(h+="H"+x.toString(32)),h+=":"}else x=ls++,h=":"+h+"r"+x.toString(32)+":";return c.memoizedState=h},useCacheRefresh:function(){return X().memoizedState=Sm.bind(null,an)}};ul.useMemoCache=ge,ul.useHostTransitionStatus=vf,ul.useFormState=Un,ul.useActionState=Un,ul.useOptimistic=function(c){var h=X();h.memoizedState=h.baseState=c;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=x,h=ju.bind(null,an,!0,x),x.dispatch=h,[c,h]};var Cr={readContext:nr,use:Ce,useCallback:Bl,useContext:nr,useEffect:xm,useImperativeHandle:rd,useInsertionEffect:Ov,useLayoutEffect:mf,useMemo:bm,useReducer:ot,useRef:ys,useState:function(){return ot(qe)},useDebugValue:Uo,useDeferredValue:function(c,h){var x=fe();return _m(x,Lt.memoizedState,c,h)},useTransition:function(){var c=ot(qe)[0],h=fe().memoizedState;return[typeof c=="boolean"?c:Ae(c),h]},useSyncExternalStore:Ut,useId:$u};Cr.useCacheRefresh=Zs,Cr.useMemoCache=ge,Cr.useHostTransitionStatus=vf,Cr.useFormState=er,Cr.useActionState=er,Cr.useOptimistic=function(c,h){var x=fe();return Mn(x,Lt,c,h)};var ca={readContext:nr,use:Ce,useCallback:Bl,useContext:nr,useEffect:xm,useImperativeHandle:rd,useInsertionEffect:Ov,useLayoutEffect:mf,useMemo:bm,useReducer:pt,useRef:ys,useState:function(){return pt(qe)},useDebugValue:Uo,useDeferredValue:function(c,h){var x=fe();return Lt===null?gf(x,c,h):_m(x,Lt.memoizedState,c,h)},useTransition:function(){var c=pt(qe)[0],h=fe().memoizedState;return[typeof c=="boolean"?c:Ae(c),h]},useSyncExternalStore:Ut,useId:$u};ca.useCacheRefresh=Zs,ca.useMemoCache=ge,ca.useHostTransitionStatus=vf,ca.useFormState=$i,ca.useActionState=$i,ca.useOptimistic=function(c,h){var x=fe();return Lt!==null?Mn(x,Lt,c,h):(x.baseState=c,[c,x.queue.dispatch])};var Rs={isMounted:function(c){return(c=c._reactInternals)?g(c)===c:!1},enqueueSetState:function(c,h,x){c=c._reactInternals;var M=fi(),R=Le(M);R.payload=h,x!=null&&(R.callback=x),h=it(c,R,M),h!==null&&(Xi(h,c,M),yt(h,c,M))},enqueueReplaceState:function(c,h,x){c=c._reactInternals;var M=fi(),R=Le(M);R.tag=1,R.payload=h,x!=null&&(R.callback=x),h=it(c,R,M),h!==null&&(Xi(h,c,M),yt(h,c,M))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var x=fi(),M=Le(x);M.tag=2,h!=null&&(M.callback=h),h=it(c,M,x),h!==null&&(Xi(h,c,x),yt(h,c,x))}},Xd=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},Wd=Error(r(461)),Vn=!1,qd={dehydrated:null,treeContext:null,retryLane:0},xo=T(null),us=null,fa=null,Ec=typeof AbortController<"u"?AbortController:function(){var c=[],h=this.signal={aborted:!1,addEventListener:function(x,M){c.push(M)}};this.abort=function(){h.aborted=!0,c.forEach(function(x){return x()})}},Vy=ra.unstable_scheduleCallback,Hy=ra.unstable_NormalPriority,Xn={$$typeof:ns,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},yg=Ht.S;Ht.S=function(c,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&Oe(c,h),yg!==null&&yg(c,h)};var Ds=T(null),Os=!1,li=!1,xg=!1,Rn=typeof WeakSet=="function"?WeakSet:Set,Xt=null,fn=!1,Nt=null,en=!1,ai=null,ha=8192,Mc={getCacheForType:function(c){var h=nr(Xn),x=h.data.get(c);return x===void 0&&(x=c(),h.data.set(c,x)),x}},Tc=0,za=1,Zn=2,cs=3,Ns=4;if(typeof Symbol=="function"&&Symbol.for){var nu=Symbol.for;Tc=nu("selector.component"),za=nu("selector.has_pseudo_class"),Zn=nu("selector.role"),cs=nu("selector.test_id"),Ns=nu("selector.text")}var Ba=typeof WeakMap=="function"?WeakMap:Map,xn=0,Dn=null,zt=null,pn=0,zn=0,mr=null,Ia=!1,da=!1,Fi=!1,gr=0,Hn=0,pa=0,bo=0,th=0,ma=0,Ps=0,iu=null,ui=null,Yd=!1,Rr=0,Ac=1/0,nh=null,cl=null,fs=!1,Ls=null,ru=0,fl=0,Kd=null,wc=0,Zd=null;return qt.attemptContinuousHydration=function(c){if(c.tag===13){var h=We(c,67108864);h!==null&&Xi(h,c,67108864),If(c,67108864)}},qt.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var h=fi(),x=We(c,h);x!==null&&Xi(x,c,h),If(c,h)}},qt.attemptSynchronousHydration=function(c){switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var h=N(c.pendingLanes);if(h!==0){for(c.pendingLanes|=2,c.entangledLanes|=2;h;){var x=1<<31-wr(h);c.entanglements[1]|=x,h&=~x}He(c),(xn&6)===0&&(Ac=Na()+500,at(0))}}break;case 13:h=We(c,2),h!==null&&Xi(h,c,2),Lf(),If(c,2)}},qt.batchedUpdates=function(c,h){return c(h)},qt.createComponentSelector=function(c){return{$$typeof:Tc,value:c}},qt.createContainer=function(c,h,x,M,R,P,q,ae,ve,Ue){return Qv(c,h,!1,null,x,M,P,q,ae,ve,Ue,null)},qt.createHasPseudoClassSelector=function(c){return{$$typeof:za,value:c}},qt.createHydrationContainer=function(c,h,x,M,R,P,q,ae,ve,Ue,tt,ct,mt){return c=Qv(x,M,!0,c,R,P,ae,ve,Ue,tt,ct,mt),c.context=wi(null),x=c.current,M=fi(),R=Le(M),R.callback=h??null,it(x,R,M),c.current.lanes=M,W(c,M),He(c),c},qt.createPortal=function(c,h,x){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ra,key:M==null?null:""+M,children:c,containerInfo:h,implementation:x}},qt.createRoleSelector=function(c){return{$$typeof:Zn,value:c}},qt.createTestNameSelector=function(c){return{$$typeof:cs,value:c}},qt.createTextSelector=function(c){return{$$typeof:Ns,value:c}},qt.defaultOnCaughtError=function(c){console.error(c)},qt.defaultOnRecoverableError=function(c){Xd(c)},qt.defaultOnUncaughtError=function(c){Xd(c)},qt.deferredUpdates=function(c){var h=Ht.T,x=ho();try{return pr(32),Ht.T=null,c()}finally{pr(x),Ht.T=h}},qt.discreteUpdates=function(c,h,x,M,R){var P=Ht.T,q=ho();try{return pr(2),Ht.T=null,c(h,x,M,R)}finally{pr(q),Ht.T=P,xn===0&&(Ac=Na()+500)}},qt.findAllNodes=Nf,qt.findBoundingRects=function(c,h){if(!Jo)throw Error(r(363));h=Nf(c,h),c=[];for(var x=0;x<h.length;x++)c.push(rg(h[x]));for(h=c.length-1;0<h;h--){x=c[h];for(var M=x.x,R=M+x.width,P=x.y,q=P+x.height,ae=h-1;0<=ae;ae--)if(h!==ae){var ve=c[ae],Ue=ve.x,tt=Ue+ve.width,ct=ve.y,mt=ct+ve.height;if(M>=Ue&&P>=ct&&R<=tt&&q<=mt){c.splice(h,1);break}else if(M!==Ue||x.width!==ve.width||mt<P||ct>q){if(!(P!==ct||x.height!==ve.height||tt<M||Ue>R)){Ue>M&&(ve.width+=Ue-M,ve.x=M),tt<R&&(ve.width=R-Ue),c.splice(h,1);break}}else{ct>P&&(ve.height+=ct-P,ve.y=P),mt<q&&(ve.height=q-ct),c.splice(h,1);break}}}return c},qt.findHostInstance=Ed,qt.findHostInstanceWithNoPortals=function(c){return c=b(c),c=c!==null?A(c):null,c===null?null:fc(c.stateNode)},qt.findHostInstanceWithWarning=function(c){return Ed(c)},qt.flushPassiveEffects=ts,qt.flushSyncFromReconciler=function(c){var h=xn;xn|=1;var x=Ht.T,M=ho();try{if(pr(2),Ht.T=null,c)return c()}finally{pr(M),Ht.T=x,xn=h,(xn&6)===0&&at(0)}},qt.flushSyncWork=Lf,qt.focusWithin=function(c,h){if(!Jo)throw Error(r(363));for(c=tc(c),h=Fr(c,h),h=Array.from(h),c=0;c<h.length;){var x=h[c++],M=x.tag;if(!dc(x)){if((M===5||M===26||M===27)&&oy(x.stateNode))return!0;for(x=x.child;x!==null;)h.push(x),x=x.sibling}}return!1},qt.getFindAllNodesFailureDescription=function(c,h){if(!Jo)throw Error(r(363));var x=0,M=[];c=[tc(c),0];for(var R=0;R<c.length;){var P=c[R++],q=P.tag,ae=c[R++],ve=h[ae];if((q!==5&&q!==26&&q!==27||!dc(P))&&($o(P,ve)&&(M.push(Hm(ve)),ae++,ae>x&&(x=ae)),ae<h.length))for(P=P.child;P!==null;)c.push(P,ae),P=P.sibling}if(x<h.length){for(c=[];x<h.length;x++)c.push(Hm(h[x]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},qt.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 27:case 5:return fc(c.child.stateNode);default:return c.child.stateNode}},qt.injectIntoDevTools=function(){var c={bundleType:0,version:Qm,rendererPackageName:Gf,currentDispatcherRef:Ht,findFiberByHostInstance:ny,reconcilerVersion:"19.0.0"};if(cc!==null&&(c.rendererConfig=cc),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)c=!0;else{try{pi=h.inject(c),Hr=h}catch{}c=!!h.checkDCE}}return c},qt.isAlreadyRendering=function(){return!1},qt.observeVisibleRects=function(c,h,x,M){if(!Jo)throw Error(r(363));c=Nf(c,h);var R=ly(c,x,M).disconnect;return{disconnect:function(){R()}}},qt.shouldError=function(){return null},qt.shouldSuspend=function(){return!1},qt.startHostTransition=function(c,h,x,M){if(c.tag!==5)throw Error(r(476));var R=xs(c).queue;Gu(c,R,h,Qo,x===null?i:function(){var P=xs(c).next.queue;return zo(c,P,{},fi()),x(M)})},qt.updateContainer=function(c,h,x,M){var R=h.current,P=fi();return ac(R,P,c,h,x,M),P},qt.updateContainerSync=function(c,h,x,M){return h.tag===0&&ts(),ac(h.current,2,c,h,x,M),2},qt},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(TE)),TE.exports}var V2;function v7(){return V2||(V2=1,ME.exports=g7()),ME.exports}var y7=v7();const x7=qh(y7);var CE={exports:{}},RE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H2;function b7(){return H2||(H2=1,function(n){function e(k,Y){var K=k.length;k.push(Y);e:for(;0<K;){var ue=K-1>>>1,G=k[ue];if(0<r(G,Y))k[ue]=Y,k[K]=G,K=ue;else break e}}function t(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var Y=k[0],K=k.pop();if(K!==Y){k[0]=K;e:for(var ue=0,G=k.length,te=G>>>1;ue<te;){var Se=2*(ue+1)-1,ye=k[Se],se=Se+1,we=k[se];if(0>r(ye,K))se<G&&0>r(we,ye)?(k[ue]=we,k[se]=K,ue=se):(k[ue]=ye,k[Se]=K,ue=Se);else if(se<G&&0>r(we,K))k[ue]=we,k[se]=K,ue=se;else break e}}return Y}function r(k,Y){var K=k.sortIndex-Y.sortIndex;return K!==0?K:k.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();n.unstable_now=function(){return o.now()-u}}var f=[],d=[],m=1,g=null,y=3,b=!1,_=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function D(k){for(var Y=t(d);Y!==null;){if(Y.callback===null)i(d);else if(Y.startTime<=k)i(d),Y.sortIndex=Y.expirationTime,e(f,Y);else break;Y=t(d)}}function N(k){if(A=!1,D(k),!_)if(t(f)!==null)_=!0,he();else{var Y=t(d);Y!==null&&de(N,Y.startTime-k)}}var z=!1,U=-1,I=5,V=-1;function B(){return!(n.unstable_now()-V<I)}function L(){if(z){var k=n.unstable_now();V=k;var Y=!0;try{e:{_=!1,A&&(A=!1,S(U),U=-1),b=!0;var K=y;try{t:{for(D(k),g=t(f);g!==null&&!(g.expirationTime>k&&B());){var ue=g.callback;if(typeof ue=="function"){g.callback=null,y=g.priorityLevel;var G=ue(g.expirationTime<=k);if(k=n.unstable_now(),typeof G=="function"){g.callback=G,D(k),Y=!0;break t}g===t(f)&&i(f),D(k)}else i(f);g=t(f)}if(g!==null)Y=!0;else{var te=t(d);te!==null&&de(N,te.startTime-k),Y=!1}}break e}finally{g=null,y=K,b=!1}Y=void 0}}finally{Y?W():z=!1}}}var W;if(typeof C=="function")W=function(){C(L)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ee=oe.port2;oe.port1.onmessage=L,W=function(){ee.postMessage(null)}}else W=function(){T(L,0)};function he(){z||(z=!0,W())}function de(k,Y){U=T(function(){k(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){_||b||(_=!0,he())},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(k){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var K=y;y=Y;try{return k()}finally{y=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,Y){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var K=y;y=k;try{return Y()}finally{y=K}},n.unstable_scheduleCallback=function(k,Y,K){var ue=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ue+K:ue):K=ue,k){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=K+G,k={id:m++,callback:Y,priorityLevel:k,startTime:K,expirationTime:G,sortIndex:-1},K>ue?(k.sortIndex=K,e(d,k),t(f)===null&&k===t(d)&&(A?(S(U),U=-1):A=!0,de(N,K-ue))):(k.sortIndex=G,e(f,k),_||b||(_=!0,he())),k},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(k){var Y=y;return function(){var K=y;y=Y;try{return k.apply(this,arguments)}finally{y=K}}}}(RE)),RE}var k2;function _7(){return k2||(k2=1,CE.exports=b7()),CE.exports}var G2=_7();function WA(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=WA(i,e,t);if(r)return r;i=e?null:i.sibling}}function yL(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const qA=yL(O.createContext(null));let xL=class extends O.Component{render(){return O.createElement(qA.Provider,{value:this._reactInternals},this.props.children)}};function bL(){const n=O.useContext(qA);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=O.useId();return O.useMemo(()=>{for(const t of[n,n?.alternate]){if(!t)continue;const i=WA(t,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[n,e])}const S7=Symbol.for("react.context"),E7=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===S7;function M7(){const n=bL(),[e]=O.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;E7(i)&&i!==qA&&!e.has(i)&&e.set(i,O.use(yL(i))),t=t.return}return e}function T7(){const n=M7();return O.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>O.createElement(e,null,O.createElement(t.Provider,{...i,value:n.get(t)})),e=>O.createElement(xL,{...e})),[n])}function _L(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const SL=n=>n&&n.isOrthographicCamera,A7=n=>n&&n.hasOwnProperty("current"),w7=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),hv=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?O.useLayoutEffect:O.useEffect;function EL(n){const e=O.useRef(n);return hv(()=>void(e.current=n),[n]),e}function C7(){const n=bL(),e=T7();return O.useMemo(()=>({children:t})=>{const r=!!WA(n,!0,a=>a.type===O.StrictMode)?O.StrictMode:O.Fragment;return Ye.jsx(r,{children:Ye.jsx(e,{children:t})})},[n,e])}function R7({set:n}){return hv(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const D7=(n=>(n=class extends O.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function ML(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function Sp(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const yi={obj:n=>n===Object(n)&&!yi.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(yi.str(n)||yi.num(n)||yi.boo(n))return n===e;const a=yi.obj(n);if(a&&i==="reference")return n===e;const o=yi.arr(n);if(o&&t==="reference")return n===e;if((o||a)&&n===e)return!0;let u;for(u in n)if(!(u in e))return!1;if(a&&t==="shallow"&&i==="shallow"){for(u in r?e:n)if(!yi.equ(n[u],e[u],{strict:r,objects:"reference"}))return!1}else for(u in r?e:n)if(n[u]!==e[u])return!1;if(yi.und(u)){if(o&&n.length===0&&e.length===0||a&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function O7(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const TL=["children","key","ref"];function N7(n){const e={};for(const t in n)TL.includes(t)||(e[t]=n[t]);return e}function c_(n,e,t,i){const r=n;let a=r?.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:N7(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function X0(n,e){let t=n[e];if(!e.includes("-"))return{root:n,key:e,target:t};t=n;for(const r of e.split("-")){var i;e=r,n=t,t=(i=t)==null?void 0:i[e]}return{root:n,key:e,target:t}}const $2=/-\d+$/;function f_(n,e){if(yi.str(e.props.attach)){if($2.test(e.props.attach)){const r=e.props.attach.replace($2,""),{root:a,key:o}=X0(n.object,r);Array.isArray(a[o])||(a[o]=[])}const{root:t,key:i}=X0(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else yi.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function h_(n,e){if(yi.str(e.props.attach)){const{root:t,key:i}=X0(n.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[i]:t[i]=r}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const ZM=[...TL,"args","dispose","attach","object","onUpdate","dispose"],j2=new Map;function P7(n){let e=j2.get(n.constructor);try{e||(e=new n.constructor,j2.set(n.constructor,e))}catch{}return e}function L7(n,e){const t={};for(const i in e)if(!ZM.includes(i)&&!yi.equ(e[i],n.props[i])){t[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(t[r]=e[r])}for(const i in n.props){if(ZM.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:a}=X0(n.object,i);if(r.constructor&&r.constructor.length===0){const o=P7(r);yi.und(o)||(t[a]=o[a])}else t[a]=0}return t}const U7=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],z7=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function $c(n,e){var t;const i=n.__r3f,r=i&&_L(i).getState(),a=i?.eventCount;for(const u in e){let f=e[u];if(ZM.includes(u))continue;if(i&&z7.test(u)){typeof f=="function"?i.handlers[u]=f:delete i.handlers[u],i.eventCount=Object.keys(i.handlers).length;continue}if(f===void 0)continue;let{root:d,key:m,target:g}=X0(n,u);if(g instanceof qp&&f instanceof qp)g.mask=f.mask;else if(g instanceof xt&&w7(f))g.set(f);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&f!=null&&f.constructor&&g.constructor===f.constructor)g.copy(f);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(f))typeof g.fromArray=="function"?g.fromArray(f):g.set(...f);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof f=="number")typeof g.setScalar=="function"?g.setScalar(f):g.set(f);else{var o;d[m]=f,r&&!r.linear&&U7.includes(m)&&(o=d[m])!=null&&o.isTexture&&d[m].format===qr&&d[m].type===Xs&&(d[m].colorSpace=Wr)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(t=i.object)!=null&&t.isObject3D&&a!==i.eventCount){const u=i.object,f=r.internal.interaction.indexOf(u);f>-1&&r.internal.interaction.splice(f,1),i.eventCount&&u.raycast!==null&&r.internal.interaction.push(u)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&om(i),n}function om(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function B7(n,e){n.manual||(SL(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const ka=n=>n?.isObject3D;function Yx(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function AL(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function I7(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{AL(t.capturedMap,e,i,r)})}function F7(n){function e(f){const{internal:d}=n.getState(),m=f.offsetX-d.initialClick[0],g=f.offsetY-d.initialClick[1];return Math.round(Math.sqrt(m*m+g*g))}function t(f){return f.filter(d=>["Move","Over","Enter","Out","Leave"].some(m=>{var g;return(g=d.__r3f)==null?void 0:g.handlers["onPointer"+m]}))}function i(f,d){const m=n.getState(),g=new Set,y=[],b=d?d(m.internal.interaction):m.internal.interaction;for(let S=0;S<b.length;S++){const C=Sp(b[S]);C&&(C.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(f,m);function _(S){const C=Sp(S);if(!C||!C.events.enabled||C.raycaster.camera===null)return[];if(C.raycaster.camera===void 0){var D;C.events.compute==null||C.events.compute(f,C,(D=C.previousRoot)==null?void 0:D.getState()),C.raycaster.camera===void 0&&(C.raycaster.camera=null)}return C.raycaster.camera?C.raycaster.intersectObject(S,!0):[]}let A=b.flatMap(_).sort((S,C)=>{const D=Sp(S.object),N=Sp(C.object);return!D||!N?S.distance-C.distance:N.events.priority-D.events.priority||S.distance-C.distance}).filter(S=>{const C=Yx(S);return g.has(C)?!1:(g.add(C),!0)});m.events.filter&&(A=m.events.filter(A,m));for(const S of A){let C=S.object;for(;C;){var T;(T=C.__r3f)!=null&&T.eventCount&&y.push({...S,eventObject:C}),C=C.parent}}if("pointerId"in f&&m.internal.capturedMap.has(f.pointerId))for(let S of m.internal.capturedMap.get(f.pointerId).values())g.has(Yx(S.intersection))||y.push(S.intersection);return y}function r(f,d,m,g){if(f.length){const y={stopped:!1};for(const b of f){let _=Sp(b.object);if(_||b.object.traverseAncestors(A=>{const T=Sp(A);if(T)return _=T,!1}),_){const{raycaster:A,pointer:T,camera:S,internal:C}=_,D=new Q(T.x,T.y,0).unproject(S),N=B=>{var L,W;return(L=(W=C.capturedMap.get(B))==null?void 0:W.has(b.eventObject))!=null?L:!1},z=B=>{const L={intersection:b,target:d.target};C.capturedMap.has(B)?C.capturedMap.get(B).set(b.eventObject,L):C.capturedMap.set(B,new Map([[b.eventObject,L]])),d.target.setPointerCapture(B)},U=B=>{const L=C.capturedMap.get(B);L&&AL(C.capturedMap,b.eventObject,L,B)};let I={};for(let B in d){let L=d[B];typeof L!="function"&&(I[B]=L)}let V={...b,...I,pointer:T,intersections:f,stopped:y.stopped,delta:m,unprojectedPoint:D,ray:A.ray,camera:S,stopPropagation(){const B="pointerId"in d&&C.capturedMap.get(d.pointerId);if((!B||B.has(b.eventObject))&&(V.stopped=y.stopped=!0,C.hovered.size&&Array.from(C.hovered.values()).find(L=>L.eventObject===b.eventObject))){const L=f.slice(0,f.indexOf(b));a([...L,b])}},target:{hasPointerCapture:N,setPointerCapture:z,releasePointerCapture:U},currentTarget:{hasPointerCapture:N,setPointerCapture:z,releasePointerCapture:U},nativeEvent:d};if(g(V),y.stopped===!0)break}}}return f}function a(f){const{internal:d}=n.getState();for(const m of d.hovered.values())if(!f.length||!f.find(g=>g.object===m.object&&g.index===m.index&&g.instanceId===m.instanceId)){const y=m.eventObject.__r3f;if(d.hovered.delete(Yx(m)),y!=null&&y.eventCount){const b=y.handlers,_={...m,intersections:f};b.onPointerOut==null||b.onPointerOut(_),b.onPointerLeave==null||b.onPointerLeave(_)}}}function o(f,d){for(let m=0;m<d.length;m++){const g=d[m].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(f)}}function u(f){switch(f){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return d=>{const{internal:m}=n.getState();"pointerId"in d&&m.capturedMap.has(d.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(d.pointerId)&&(m.capturedMap.delete(d.pointerId),a([]))})}}return function(m){const{onPointerMissed:g,internal:y}=n.getState();y.lastEvent.current=m;const b=f==="onPointerMove",_=f==="onClick"||f==="onContextMenu"||f==="onDoubleClick",T=i(m,b?t:void 0),S=_?e(m):0;f==="onPointerDown"&&(y.initialClick=[m.offsetX,m.offsetY],y.initialHits=T.map(D=>D.eventObject)),_&&!T.length&&S<=2&&(o(m,y.interaction),g&&g(m)),b&&a(T);function C(D){const N=D.eventObject,z=N.__r3f;if(!(z!=null&&z.eventCount))return;const U=z.handlers;if(b){if(U.onPointerOver||U.onPointerEnter||U.onPointerOut||U.onPointerLeave){const I=Yx(D),V=y.hovered.get(I);V?V.stopped&&D.stopPropagation():(y.hovered.set(I,D),U.onPointerOver==null||U.onPointerOver(D),U.onPointerEnter==null||U.onPointerEnter(D))}U.onPointerMove==null||U.onPointerMove(D)}else{const I=U[f];I?(!_||y.initialHits.includes(N))&&(o(m,y.interaction.filter(V=>!y.initialHits.includes(V))),I(D)):_&&y.initialHits.includes(N)&&o(m,y.interaction.filter(V=>!y.initialHits.includes(V)))}}r(T,m,S,C)}}return{handlePointer:u}}const X2=n=>!!(n!=null&&n.render),wL=O.createContext(null),V7=(n,e)=>{const t=d7((u,f)=>{const d=new Q,m=new Q,g=new Q;function y(S=f().camera,C=m,D=f().size){const{width:N,height:z,top:U,left:I}=D,V=N/z;C.isVector3?g.copy(C):g.set(...C);const B=S.getWorldPosition(d).distanceTo(g);if(SL(S))return{width:N/S.zoom,height:z/S.zoom,top:U,left:I,factor:1,distance:B,aspect:V};{const L=S.fov*Math.PI/180,W=2*Math.tan(L/2)*B,oe=W*(N/z);return{width:oe,height:W,top:U,left:I,factor:N/oe,distance:B,aspect:V}}}let b;const _=S=>u(C=>({performance:{...C.performance,current:S}})),A=new Ie;return{set:u,get:f,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(S=1)=>n(f(),S),advance:(S,C)=>e(S,C,f()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new HA,pointer:A,mouse:A,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const S=f();b&&clearTimeout(b),S.performance.current!==S.performance.min&&_(S.performance.min),b=setTimeout(()=>_(f().performance.max),S.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:S=>u(C=>({...C,events:{...C.events,...S}})),setSize:(S,C,D=0,N=0)=>{const z=f().camera,U={width:S,height:C,top:D,left:N};u(I=>({size:U,viewport:{...I.viewport,...y(z,m,U)}}))},setDpr:S=>u(C=>{const D=ML(S);return{viewport:{...C.viewport,dpr:D,initialDpr:C.viewport.initialDpr||D}}}),setFrameloop:(S="always")=>{const C=f().clock;C.stop(),C.elapsedTime=0,S!=="never"&&(C.start(),C.elapsedTime=0),u(()=>({frameloop:S}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:O.createRef(),active:!1,frames:0,priority:0,subscribe:(S,C,D)=>{const N=f().internal;return N.priority=N.priority+(C>0?1:0),N.subscribers.push({ref:S,priority:C,store:D}),N.subscribers=N.subscribers.sort((z,U)=>z.priority-U.priority),()=>{const z=f().internal;z!=null&&z.subscribers&&(z.priority=z.priority-(C>0?1:0),z.subscribers=z.subscribers.filter(U=>U.ref!==S))}}}}}),i=t.getState();let r=i.size,a=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:u,size:f,viewport:d,gl:m,set:g}=t.getState();if(f.width!==r.width||f.height!==r.height||d.dpr!==a){r=f,a=d.dpr,B7(u,f),d.dpr>0&&m.setPixelRatio(d.dpr);const y=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(f.width,f.height,y)}u!==o&&(o=u,g(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(u)}})))}),t.subscribe(u=>n(u)),t};function CL(){const n=O.useContext(wL);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function pu(n=t=>t,e){return CL()(n,e)}function RL(n,e=0){const t=CL(),i=t.getState().internal.subscribe,r=EL(n);return hv(()=>i(r,e,t),[e,i,t]),null}function H7(n){const e=x7(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:O.version}),e}const DL=0,Qp={},k7=/^three(?=[A-Z])/,xS=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let G7=0;const $7=n=>typeof n=="function";function j7(n){if($7(n)){const e=`${G7++}`;return Qp[e]=n,e}else Object.assign(Qp,n)}function OL(n,e){const t=xS(n),i=Qp[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function X7(n,e,t){var i;return n=xS(n)in Qp?n:n.replace(k7,""),OL(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,c_(e.object,t,n,e)}function W7(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?h_(n.parent,n):ka(n.object)&&(n.object.visible=!1),n.isHidden=!0,om(n)}}function NL(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?f_(n.parent,n):ka(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,om(n)}}function YA(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var r,a;const o=Qp[xS(e.type)];e.object=(r=e.props.object)!=null?r:new o(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if($c(e.object,e.props),e.props.attach)f_(n,e);else if(ka(e.object)&&ka(n.object)){const o=n.object.children.indexOf(t?.object);if(t&&o!==-1){const u=n.object.children.indexOf(e.object);if(u!==-1){n.object.children.splice(u,1);const f=u<o?o-1:o;n.object.children.splice(f,0,e.object)}else e.object.parent=n.object,n.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const o of e.children)YA(e,o);om(e)}}function DE(n,e){e&&(e.parent=n,n.children.push(e),YA(n,e))}function W2(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),YA(n,e,t)}function PL(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():G2.unstable_scheduleCallback(G2.unstable_IdlePriority,e)}}function QM(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?h_(n,e):ka(e.object)&&ka(n.object)&&(n.object.remove(e.object),I7(_L(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const o=e.children[a];QM(e,o,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&PL(e.object),t===void 0&&om(e)}function q7(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const mb=[];function Y7(){for(const[t]of mb){const i=t.parent;if(i){t.props.attach?h_(i,t):ka(t.object)&&ka(i.object)&&i.object.remove(t.object);for(const r of t.children)r.props.attach?h_(t,r):ka(r.object)&&ka(t.object)&&t.object.remove(r.object)}t.isHidden&&NL(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&PL(t.object)}for(const[t,i,r]of mb){t.props=i;const a=t.parent;if(a){var n,e;const o=Qp[xS(t.type)];t.object=(n=t.props.object)!=null?n:new o(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,q7(r,t.object),$c(t.object,t.props),t.props.attach?f_(a,t):ka(t.object)&&ka(a.object)&&a.object.add(t.object);for(const u of t.children)u.props.attach?f_(t,u):ka(u.object)&&ka(t.object)&&t.object.add(u.object);om(t)}}mb.length=0}const OE=()=>{},q2={};let Kx=DL;const K7=0,Z7=4,JM=H7({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:X7,removeChild:QM,appendChild:DE,appendInitialChild:DE,insertBefore:W2,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||DE(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||QM(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||W2(i,e,t)},getRootHostContext:()=>q2,getChildHostContext:()=>q2,commitUpdate(n,e,t,i,r){var a,o,u;OL(e,i);let f=!1;if((n.type==="primitive"&&t.object!==i.object||((a=i.args)==null?void 0:a.length)!==((o=t.args)==null?void 0:o.length)||(u=i.args)!=null&&u.some((m,g)=>{var y;return m!==((y=t.args)==null?void 0:y[g])}))&&(f=!0),f)mb.push([n,{...i},r]);else{const m=L7(n,i);Object.keys(m).length&&(Object.assign(n.props,m),$c(n.object,m))}(r.sibling===null||(r.flags&Z7)===K7)&&Y7()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n?.object,prepareForCommit:()=>null,preparePortalMount:n=>c_(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:W7,unhideInstance:NL,createTextInstance:OE,hideTextInstance:OE,unhideTextInstance:OE,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:O.createContext(null),setCurrentUpdatePriority(n){Kx=n},getCurrentUpdatePriority(){return Kx},resolveUpdatePriority(){var n;if(Kx!==DL)return Kx;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return pb.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return pb.ContinuousEventPriority;default:return pb.DefaultEventPriority}},resetFormInstance(){}}),$h=new Map,Ep={objects:"shallow",strict:!1};function Q7(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:a}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function J7(n){const e=$h.get(n),t=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=i||V7(nT,K2),o=t||JM.createContainer(a,pb.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||$h.set(n,{fiber:o,store:a});let u,f,d=!1,m=null;return{async configure(g={}){let y;m=new Promise(te=>y=te);let{gl:b,size:_,scene:A,events:T,onCreated:S,shadows:C=!1,linear:D=!1,flat:N=!1,legacy:z=!1,orthographic:U=!1,frameloop:I="always",dpr:V=[1,2],performance:B,raycaster:L,camera:W,onPointerMissed:oe}=g,ee=a.getState(),he=ee.gl;if(!ee.gl){const te={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},Se=typeof b=="function"?await b(te):b;X2(Se)?he=Se:he=new vL({...te,...b}),ee.set({gl:he})}let de=ee.raycaster;de||ee.set({raycaster:de=new uL});const{params:k,...Y}=L||{};if(yi.equ(Y,de,Ep)||$c(de,{...Y}),yi.equ(k,de.params,Ep)||$c(de,{params:{...de.params,...k}}),!ee.camera||ee.camera===f&&!yi.equ(f,W,Ep)){f=W;const te=W?.isCamera,Se=te?W:U?new Yc(0,0,0,0,.1,1e3):new ki(75,0,.1,1e3);te||(Se.position.z=5,W&&($c(Se,W),Se.manual||("aspect"in W||"left"in W||"right"in W||"bottom"in W||"top"in W)&&(Se.manual=!0,Se.updateProjectionMatrix())),!ee.camera&&!(W!=null&&W.rotation)&&Se.lookAt(0,0,0)),ee.set({camera:Se}),de.camera=Se}if(!ee.scene){let te;A!=null&&A.isScene?(te=A,c_(te,a,"",{})):(te=new _A,c_(te,a,"",{}),A&&$c(te,A)),ee.set({scene:te})}T&&!ee.events.handlers&&ee.set({events:T(a)});const K=Q7(n,_);if(yi.equ(K,ee.size,Ep)||ee.setSize(K.width,K.height,K.top,K.left),V&&ee.viewport.dpr!==ML(V)&&ee.setDpr(V),ee.frameloop!==I&&ee.setFrameloop(I),ee.onPointerMissed||ee.set({onPointerMissed:oe}),B&&!yi.equ(B,ee.performance,Ep)&&ee.set(te=>({performance:{...te.performance,...B}})),!ee.xr){var ue;const te=(se,we)=>{const Be=a.getState();Be.frameloop!=="never"&&K2(se,!0,Be,we)},Se=()=>{const se=a.getState();se.gl.xr.enabled=se.gl.xr.isPresenting,se.gl.xr.setAnimationLoop(se.gl.xr.isPresenting?te:null),se.gl.xr.isPresenting||nT(se)},ye={connect(){const se=a.getState().gl;se.xr.addEventListener("sessionstart",Se),se.xr.addEventListener("sessionend",Se)},disconnect(){const se=a.getState().gl;se.xr.removeEventListener("sessionstart",Se),se.xr.removeEventListener("sessionend",Se)}};typeof((ue=he.xr)==null?void 0:ue.addEventListener)=="function"&&ye.connect(),ee.set({xr:ye})}if(he.shadowMap){const te=he.shadowMap.enabled,Se=he.shadowMap.type;if(he.shadowMap.enabled=!!C,yi.boo(C))he.shadowMap.type=o0;else if(yi.str(C)){var G;const ye={basic:xN,percentage:V_,soft:o0,variance:Ao};he.shadowMap.type=(G=ye[C])!=null?G:o0}else yi.obj(C)&&Object.assign(he.shadowMap,C);(te!==he.shadowMap.enabled||Se!==he.shadowMap.type)&&(he.shadowMap.needsUpdate=!0)}return bn.enabled=!z,d||(he.outputColorSpace=D?Jc:Wr,he.toneMapping=N?Sl:sA),ee.legacy!==z&&ee.set(()=>({legacy:z})),ee.linear!==D&&ee.set(()=>({linear:D})),ee.flat!==N&&ee.set(()=>({flat:N})),b&&!yi.fun(b)&&!X2(b)&&!yi.equ(b,he,Ep)&&$c(he,b),u=S,d=!0,y(),this},render(g){return!d&&!m&&this.configure(),m.then(()=>{JM.updateContainer(Ye.jsx(e9,{store:a,children:g,onCreated:u,rootElement:n}),o,null,()=>{})}),a},unmount(){LL(n)}}}function e9({store:n,children:e,onCreated:t,rootElement:i}){return hv(()=>{const r=n.getState();r.set(a=>({internal:{...a.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),Ye.jsx(wL.Provider,{value:n,children:e})}function LL(n,e){const t=$h.get(n),i=t?.fiber;if(i){const r=t?.store.getState();r&&(r.internal.active=!1),JM.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var a,o,u,f;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(u=r.gl)==null||u.forceContextLoss==null||u.forceContextLoss(),(f=r.gl)!=null&&f.xr&&r.xr.disconnect(),O7(r.scene),$h.delete(n)}catch{}},500)})}}const t9=new Set,n9=new Set,i9=new Set;function NE(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function v0(n,e){switch(n){case"before":return NE(t9,e);case"after":return NE(n9,e);case"tail":return NE(i9,e)}}let PE,LE;function eT(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),PE=e.internal.subscribers;for(let r=0;r<PE.length;r++)LE=PE[r],LE.ref.current(LE.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let d_=!1,tT=!1,UE,Y2,Mp;function UL(n){Y2=requestAnimationFrame(UL),d_=!0,UE=0,v0("before",n),tT=!0;for(const t of $h.values()){var e;Mp=t.store.getState(),Mp.internal.active&&(Mp.frameloop==="always"||Mp.internal.frames>0)&&!((e=Mp.gl.xr)!=null&&e.isPresenting)&&(UE+=eT(n,Mp))}if(tT=!1,v0("after",n),UE===0)return v0("tail",n),d_=!1,cancelAnimationFrame(Y2)}function nT(n,e=1){var t;if(!n)return $h.forEach(i=>nT(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):tT?n.internal.frames=2:n.internal.frames=1,d_||(d_=!0,requestAnimationFrame(UL)))}function K2(n,e=!0,t,i){if(e&&v0("before",n),t)eT(n,t,i);else for(const r of $h.values())eT(n,r.store.getState());e&&v0("after",n)}const zE={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function r9(n){const{handlePointer:e}=F7(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(zE).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(a=>({events:{...a.events,connected:t}})),r.handlers)for(const a in r.handlers){const o=r.handlers[a],[u,f]=zE[a];t.addEventListener(u,o,{passive:f})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const a=i.handlers[r],[o]=zE[r];i.connected.removeEventListener(o,a)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function Z2(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function a9({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=O.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=O.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),f=n?typeof n=="number"?n:n.scroll:null,d=n?typeof n=="number"?n:n.resize:null,m=O.useRef(!1);O.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[g,y,b]=O.useMemo(()=>{const S=()=>{if(!u.current.element)return;const{left:C,top:D,width:N,height:z,bottom:U,right:I,x:V,y:B}=u.current.element.getBoundingClientRect(),L={left:C,top:D,width:N,height:z,bottom:U,right:I,x:V,y:B};u.current.element instanceof HTMLElement&&i&&(L.height=u.current.element.offsetHeight,L.width=u.current.element.offsetWidth),Object.freeze(L),m.current&&!u9(u.current.lastBounds,L)&&o(u.current.lastBounds=L)};return[S,d?Z2(S,d):S,f?Z2(S,f):S]},[o,i,f,d]);function _(){u.current.scrollContainers&&(u.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",b,!0)),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null),u.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",u.current.orientationHandler))}function A(){u.current.element&&(u.current.resizeObserver=new r(b),u.current.resizeObserver.observe(u.current.element),e&&u.current.scrollContainers&&u.current.scrollContainers.forEach(S=>S.addEventListener("scroll",b,{capture:!0,passive:!0})),u.current.orientationHandler=()=>{b()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",u.current.orientationHandler))}const T=S=>{!S||S===u.current.element||(_(),u.current.element=S,u.current.scrollContainers=zL(S),A())};return o9(b,!!e),s9(y),O.useEffect(()=>{_(),A()},[e,b,y]),O.useEffect(()=>_,[]),[T,a,g]}function s9(n){O.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function o9(n,e){O.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function zL(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,...zL(n.parentElement)]}const l9=["x","y","top","bottom","left","right","width","height"],u9=(n,e)=>l9.every(t=>n[t]===e[t]);function c9({ref:n,children:e,fallback:t,resize:i,style:r,gl:a,events:o=r9,eventSource:u,eventPrefix:f,shadows:d,linear:m,flat:g,legacy:y,orthographic:b,frameloop:_,dpr:A,performance:T,raycaster:S,camera:C,scene:D,onPointerMissed:N,onCreated:z,...U}){O.useMemo(()=>j7(e7),[]);const I=C7(),[V,B]=a9({scroll:!0,debounce:{scroll:50,resize:0},...i}),L=O.useRef(null),W=O.useRef(null);O.useImperativeHandle(n,()=>L.current);const oe=EL(N),[ee,he]=O.useState(!1),[de,k]=O.useState(!1);if(ee)throw ee;if(de)throw de;const Y=O.useRef(null);hv(()=>{const ue=L.current;if(B.width>0&&B.height>0&&ue){Y.current||(Y.current=J7(ue));async function G(){await Y.current.configure({gl:a,scene:D,events:o,shadows:d,linear:m,flat:g,legacy:y,orthographic:b,frameloop:_,dpr:A,performance:T,raycaster:S,camera:C,size:B,onPointerMissed:(...te)=>oe.current==null?void 0:oe.current(...te),onCreated:te=>{te.events.connect==null||te.events.connect(u?A7(u)?u.current:u:W.current),f&&te.setEvents({compute:(Se,ye)=>{const se=Se[f+"X"],we=Se[f+"Y"];ye.pointer.set(se/ye.size.width*2-1,-(we/ye.size.height)*2+1),ye.raycaster.setFromCamera(ye.pointer,ye.camera)}}),z?.(te)}}),Y.current.render(Ye.jsx(I,{children:Ye.jsx(D7,{set:k,children:Ye.jsx(O.Suspense,{fallback:Ye.jsx(R7,{set:he}),children:e??null})})}))}G()}}),O.useEffect(()=>{const ue=L.current;if(ue)return()=>LL(ue)},[]);const K=u?"none":"auto";return Ye.jsx("div",{ref:W,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:K,...r},...U,children:Ye.jsx("div",{ref:V,style:{width:"100%",height:"100%"},children:Ye.jsx("canvas",{ref:L,style:{display:"block"},children:t})})})}function f9(n){return Ye.jsx(xL,{children:Ye.jsx(c9,{...n})})}const BE=({title:n="no title",cardImg:e,date:t="No Date",listItems:i,content:r})=>{const a=i.map((d,m)=>Ye.jsx("li",{className:"px-2 py-0.5 m-1 border-1 rounded-2xl",children:d},m)),[o,u]=O.useState(!1);function f(){u(!o)}return Ye.jsx("div",{className:"relative flex flex-col w-full items-center max-w-3xl mx-auto",children:Ye.jsx("button",{onClick:f,className:`${o?"w-screen max-w-3xl px-4":"w-screen sm:max-w-md md:max-w-2xl px-8"} transition-all duration-1000 ease-in-out mx-auto`,children:Ye.jsx("div",{className:"transition delay-50 duration-300 m-2 ease-in-out flex flex-col items-center bg-gray-50 p-5 rounded-2xl drop-shadow-xl hover:drop-shadow-2xl",children:Ye.jsxs("div",{className:"relative",children:[Ye.jsx("img",{src:e,className:"max-w-full h-auto z-0 "}),Ye.jsxs("div",{className:"sm:hidden md:flex absolute border-2 border-red-500  flex-col bottom-1/3 left-1/2 -translate-x-1/2 items-center z-500",children:[Ye.jsx("h2",{className:"py-1 text-2xl font-medium",children:n}),Ye.jsx("h3",{className:"",children:t}),Ye.jsx("div",{className:"flex flex-row p-2 text-xs",children:Ye.jsx("ul",{className:"flex flex-row flex-wrap justify-center",children:a})})]})]})})})})},h9="/assets/telechairster_250x500px-fVr_ToWZ.png",Q2="/assets/preview-500x250px-BpurXuu9.png";/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var J2="popstate";function d9(n={}){function e(i,r){let{pathname:a,search:o,hash:u}=i.location;return iT("",{pathname:a,search:o,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:W0(r)}return m9(e,t,null,n)}function Si(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Dl(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function p9(){return Math.random().toString(36).substring(2,10)}function e3(n,e){return{usr:n.state,key:n.key,idx:e}}function iT(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?lm(e):e,state:t,key:e&&e.key||i||p9()}}function W0({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function lm(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function m9(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,o=r.history,u="POP",f=null,d=m();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function m(){return(o.state||{idx:null}).idx}function g(){u="POP";let T=m(),S=T==null?null:T-d;d=T,f&&f({action:u,location:A.location,delta:S})}function y(T,S){u="PUSH";let C=iT(A.location,T,S);d=m()+1;let D=e3(C,d),N=A.createHref(C);try{o.pushState(D,"",N)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;r.location.assign(N)}a&&f&&f({action:u,location:A.location,delta:1})}function b(T,S){u="REPLACE";let C=iT(A.location,T,S);d=m();let D=e3(C,d),N=A.createHref(C);o.replaceState(D,"",N),a&&f&&f({action:u,location:A.location,delta:0})}function _(T){return g9(T)}let A={get action(){return u},get location(){return n(r,o)},listen(T){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(J2,g),f=T,()=>{r.removeEventListener(J2,g),f=null}},createHref(T){return e(r,T)},createURL:_,encodeLocation(T){let S=_(T);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:b,go(T){return o.go(T)}};return A}function g9(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Si(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:W0(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function BL(n,e,t="/"){return v9(n,e,t,!1)}function v9(n,e,t,i){let r=typeof e=="string"?lm(e):e,a=Nu(r.pathname||"/",t);if(a==null)return null;let o=IL(n);y9(o);let u=null;for(let f=0;u==null&&f<o.length;++f){let d=R9(a);u=w9(o[f],d,i)}return u}function IL(n,e=[],t=[],i=""){let r=(a,o,u)=>{let f={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};f.relativePath.startsWith("/")&&(Si(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let d=Eu([i,f.relativePath]),m=t.concat(f);a.children&&a.children.length>0&&(Si(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),IL(a.children,e,m,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:T9(d,a.index),routesMeta:m})};return n.forEach((a,o)=>{if(a.path===""||!a.path?.includes("?"))r(a,o);else for(let u of FL(a.path))r(a,o,u)}),e}function FL(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let o=FL(i.join("/")),u=[];return u.push(...o.map(f=>f===""?a:[a,f].join("/"))),r&&u.push(...o),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function y9(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:A9(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var x9=/^:[\w-]+$/,b9=3,_9=2,S9=1,E9=10,M9=-2,t3=n=>n==="*";function T9(n,e){let t=n.split("/"),i=t.length;return t.some(t3)&&(i+=M9),e&&(i+=_9),t.filter(r=>!t3(r)).reduce((r,a)=>r+(x9.test(a)?b9:a===""?S9:E9),i)}function A9(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function w9(n,e,t=!1){let{routesMeta:i}=n,r={},a="/",o=[];for(let u=0;u<i.length;++u){let f=i[u],d=u===i.length-1,m=a==="/"?e:e.slice(a.length)||"/",g=p_({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},m),y=f.route;if(!g&&d&&t&&!i[i.length-1].route.index&&(g=p_({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!g)return null;Object.assign(r,g.params),o.push({params:r,pathname:Eu([a,g.pathname]),pathnameBase:P9(Eu([a,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(a=Eu([a,g.pathnameBase]))}return o}function p_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=C9(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((d,{paramName:m,isOptional:g},y)=>{if(m==="*"){let _=u[y]||"";o=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const b=u[y];return g&&!b?d[m]=void 0:d[m]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:n}}function C9(n,e=!1,t=!0){Dl(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,f)=>(i.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function R9(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dl(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Nu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function D9(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?lm(n):n;return{pathname:t?t.startsWith("/")?t:O9(t,e):e,search:L9(i),hash:U9(r)}}function O9(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function IE(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N9(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function VL(n){let e=N9(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function HL(n,e,t,i=!1){let r;typeof n=="string"?r=lm(n):(r={...n},Si(!r.pathname||!r.pathname.includes("?"),IE("?","pathname","search",r)),Si(!r.pathname||!r.pathname.includes("#"),IE("#","pathname","hash",r)),Si(!r.search||!r.search.includes("#"),IE("#","search","hash",r)));let a=n===""||r.pathname==="",o=a?"/":r.pathname,u;if(o==null)u=t;else{let g=e.length-1;if(!i&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),g-=1;r.pathname=y.join("/")}u=g>=0?e[g]:"/"}let f=D9(r,u),d=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||m)&&(f.pathname+="/"),f}var Eu=n=>n.join("/").replace(/\/\/+/g,"/"),P9=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),L9=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,U9=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function z9(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var kL=["POST","PUT","PATCH","DELETE"];new Set(kL);var B9=["GET",...kL];new Set(B9);var um=O.createContext(null);um.displayName="DataRouter";var bS=O.createContext(null);bS.displayName="DataRouterState";O.createContext(!1);var GL=O.createContext({isTransitioning:!1});GL.displayName="ViewTransition";var I9=O.createContext(new Map);I9.displayName="Fetchers";var F9=O.createContext(null);F9.displayName="Await";var Ul=O.createContext(null);Ul.displayName="Navigation";var dv=O.createContext(null);dv.displayName="Location";var Bu=O.createContext({outlet:null,matches:[],isDataRoute:!1});Bu.displayName="Route";var KA=O.createContext(null);KA.displayName="RouteError";function V9(n,{relative:e}={}){Si(pv(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=O.useContext(Ul),{hash:r,pathname:a,search:o}=mv(n,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:Eu([t,a])),i.createHref({pathname:u,search:o,hash:r})}function pv(){return O.useContext(dv)!=null}function cf(){return Si(pv(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(dv).location}var $L="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jL(n){O.useContext(Ul).static||O.useLayoutEffect(n)}function H9(){let{isDataRoute:n}=O.useContext(Bu);return n?e$():k9()}function k9(){Si(pv(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(um),{basename:e,navigator:t}=O.useContext(Ul),{matches:i}=O.useContext(Bu),{pathname:r}=cf(),a=JSON.stringify(VL(i)),o=O.useRef(!1);return jL(()=>{o.current=!0}),O.useCallback((f,d={})=>{if(Dl(o.current,$L),!o.current)return;if(typeof f=="number"){t.go(f);return}let m=HL(f,JSON.parse(a),r,d.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Eu([e,m.pathname])),(d.replace?t.replace:t.push)(m,d.state,d)},[e,t,a,r,n])}O.createContext(null);function mv(n,{relative:e}={}){let{matches:t}=O.useContext(Bu),{pathname:i}=cf(),r=JSON.stringify(VL(t));return O.useMemo(()=>HL(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function G9(n,e){return XL(n,e)}function XL(n,e,t,i){Si(pv(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=O.useContext(Ul),{matches:a}=O.useContext(Bu),o=a[a.length-1],u=o?o.params:{},f=o?o.pathname:"/",d=o?o.pathnameBase:"/",m=o&&o.route;{let S=m&&m.path||"";WL(f,!m||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let g=cf(),y;if(e){let S=typeof e=="string"?lm(e):e;Si(d==="/"||S.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${S.pathname}" was given in the \`location\` prop.`),y=S}else y=g;let b=y.pathname||"/",_=b;if(d!=="/"){let S=d.replace(/^\//,"").split("/");_="/"+b.replace(/^\//,"").split("/").slice(S.length).join("/")}let A=BL(n,{pathname:_});Dl(m||A!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Dl(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=q9(A&&A.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:Eu([d,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:Eu([d,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,t,i);return e&&T?O.createElement(dv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},T):T}function $9(){let n=J9(),e=z9(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:r},t):null,o)}var j9=O.createElement($9,null),X9=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?O.createElement(Bu.Provider,{value:this.props.routeContext},O.createElement(KA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function W9({routeContext:n,match:e,children:t}){let i=O.useContext(um);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Bu.Provider,{value:n},t)}function q9(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,a=t?.errors;if(a!=null){let f=r.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);Si(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let o=!1,u=-1;if(t)for(let f=0;f<r.length;f++){let d=r[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:m,errors:g}=t,y=d.route.loader&&!m.hasOwnProperty(d.route.id)&&(!g||g[d.route.id]===void 0);if(d.route.lazy||y){o=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((f,d,m)=>{let g,y=!1,b=null,_=null;t&&(g=a&&d.route.id?a[d.route.id]:void 0,b=d.route.errorElement||j9,o&&(u<0&&m===0?(WL("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,_=null):u===m&&(y=!0,_=d.route.hydrateFallbackElement||null)));let A=e.concat(r.slice(0,m+1)),T=()=>{let S;return g?S=b:y?S=_:d.route.Component?S=O.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=f,O.createElement(W9,{match:d,routeContext:{outlet:f,matches:A,isDataRoute:t!=null},children:S})};return t&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?O.createElement(X9,{location:t.location,revalidation:t.revalidation,component:b,error:g,children:T(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):T()},null)}function ZA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y9(n){let e=O.useContext(um);return Si(e,ZA(n)),e}function K9(n){let e=O.useContext(bS);return Si(e,ZA(n)),e}function Z9(n){let e=O.useContext(Bu);return Si(e,ZA(n)),e}function QA(n){let e=Z9(n),t=e.matches[e.matches.length-1];return Si(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Q9(){return QA("useRouteId")}function J9(){let n=O.useContext(KA),e=K9("useRouteError"),t=QA("useRouteError");return n!==void 0?n:e.errors?.[t]}function e$(){let{router:n}=Y9("useNavigate"),e=QA("useNavigate"),t=O.useRef(!1);return jL(()=>{t.current=!0}),O.useCallback(async(r,a={})=>{Dl(t.current,$L),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...a}))},[n,e])}var n3={};function WL(n,e,t){!e&&!n3[n]&&(n3[n]=!0,Dl(!1,t))}O.memo(t$);function t$({routes:n,future:e,state:t}){return XL(n,void 0,t,e)}function e0(n){Si(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function n$({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:a=!1}){Si(!pv(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:o,navigator:r,static:a,future:{}}),[o,r,a]);typeof t=="string"&&(t=lm(t));let{pathname:f="/",search:d="",hash:m="",state:g=null,key:y="default"}=t,b=O.useMemo(()=>{let _=Nu(f,o);return _==null?null:{location:{pathname:_,search:d,hash:m,state:g,key:y},navigationType:i}},[o,f,d,m,g,y,i]);return Dl(b!=null,`<Router basename="${o}"> is not able to match the URL "${f}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:O.createElement(Ul.Provider,{value:u},O.createElement(dv.Provider,{children:e,value:b}))}function i$({children:n,location:e}){return G9(rT(n),e)}function rT(n,e=[]){let t=[];return O.Children.forEach(n,(i,r)=>{if(!O.isValidElement(i))return;let a=[...e,r];if(i.type===O.Fragment){t.push.apply(t,rT(i.props.children,a));return}Si(i.type===e0,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Si(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=rT(i.props.children,a)),t.push(o)}),t}var gb="get",vb="application/x-www-form-urlencoded";function _S(n){return n!=null&&typeof n.tagName=="string"}function r$(n){return _S(n)&&n.tagName.toLowerCase()==="button"}function a$(n){return _S(n)&&n.tagName.toLowerCase()==="form"}function s$(n){return _S(n)&&n.tagName.toLowerCase()==="input"}function o$(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function l$(n,e){return n.button===0&&(!e||e==="_self")&&!o$(n)}var Zx=null;function u$(){if(Zx===null)try{new FormData(document.createElement("form"),0),Zx=!1}catch{Zx=!0}return Zx}var c$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function FE(n){return n!=null&&!c$.has(n)?(Dl(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vb}"`),null):n}function f$(n,e){let t,i,r,a,o;if(a$(n)){let u=n.getAttribute("action");i=u?Nu(u,e):null,t=n.getAttribute("method")||gb,r=FE(n.getAttribute("enctype"))||vb,a=new FormData(n)}else if(r$(n)||s$(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||u.getAttribute("action");if(i=f?Nu(f,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||gb,r=FE(n.getAttribute("formenctype"))||FE(u.getAttribute("enctype"))||vb,a=new FormData(u,n),!u$()){let{name:d,type:m,value:g}=n;if(m==="image"){let y=d?`${d}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else d&&a.append(d,g)}}else{if(_S(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=gb,i=null,r=vb,o=n}return a&&r==="text/plain"&&(o=a,a=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function JA(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function h$(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Nu(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function d$(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function p$(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function m$(n,e,t){let i=await Promise.all(n.map(async r=>{let a=e.routes[r.route.id];if(a){let o=await d$(a,t);return o.links?o.links():[]}return[]}));return x$(i.flat(1).filter(p$).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function i3(n,e,t,i,r,a){let o=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,u=(f,d)=>t[d].pathname!==f.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,d)=>o(f,d)||u(f,d)):a==="data"?e.filter((f,d)=>{let m=i.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(o(f,d)||u(f,d))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function g$(n,e,{includeHydrateFallback:t}={}){return v$(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function v$(n){return[...new Set(n)]}function y$(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function x$(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let a=JSON.stringify(y$(r));return t.has(a)||(t.add(a),i.push({key:a,link:r})),i},[])}function qL(){let n=O.useContext(um);return JA(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function b$(){let n=O.useContext(bS);return JA(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ew=O.createContext(void 0);ew.displayName="FrameworkContext";function YL(){let n=O.useContext(ew);return JA(n,"You must render this element inside a <HydratedRouter> element"),n}function _$(n,e){let t=O.useContext(ew),[i,r]=O.useState(!1),[a,o]=O.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:d,onMouseLeave:m,onTouchStart:g}=e,y=O.useRef(null);O.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let A=S=>{S.forEach(C=>{o(C.isIntersecting)})},T=new IntersectionObserver(A,{threshold:.5});return y.current&&T.observe(y.current),()=>{T.disconnect()}}},[n]),O.useEffect(()=>{if(i){let A=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(A)}}},[i]);let b=()=>{r(!0)},_=()=>{r(!1),o(!1)};return t?n!=="intent"?[a,y,{}]:[a,y,{onFocus:Xg(u,b),onBlur:Xg(f,_),onMouseEnter:Xg(d,b),onMouseLeave:Xg(m,_),onTouchStart:Xg(g,b)}]:[!1,y,{}]}function Xg(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function S$({page:n,...e}){let{router:t}=qL(),i=O.useMemo(()=>BL(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?O.createElement(M$,{page:n,matches:i,...e}):null}function E$(n){let{manifest:e,routeModules:t}=YL(),[i,r]=O.useState([]);return O.useEffect(()=>{let a=!1;return m$(n,e,t).then(o=>{a||r(o)}),()=>{a=!0}},[n,e,t]),i}function M$({page:n,matches:e,...t}){let i=cf(),{manifest:r,routeModules:a}=YL(),{basename:o}=qL(),{loaderData:u,matches:f}=b$(),d=O.useMemo(()=>i3(n,e,f,r,i,"data"),[n,e,f,r,i]),m=O.useMemo(()=>i3(n,e,f,r,i,"assets"),[n,e,f,r,i]),g=O.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let _=new Set,A=!1;if(e.forEach(S=>{let C=r.routes[S.route.id];!C||!C.hasLoader||(!d.some(D=>D.route.id===S.route.id)&&S.route.id in u&&a[S.route.id]?.shouldRevalidate||C.hasClientLoader?A=!0:_.add(S.route.id))}),_.size===0)return[];let T=h$(n,o,"data");return A&&_.size>0&&T.searchParams.set("_routes",e.filter(S=>_.has(S.route.id)).map(S=>S.route.id).join(",")),[T.pathname+T.search]},[o,u,i,r,d,e,n,a]),y=O.useMemo(()=>g$(m,r),[m,r]),b=E$(m);return O.createElement(O.Fragment,null,g.map(_=>O.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),y.map(_=>O.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),b.map(({key:_,link:A})=>O.createElement("link",{key:_,...A})))}function T$(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var KL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KL&&(window.__reactRouterVersion="7.7.1")}catch{}function A$({basename:n,children:e,window:t}){let i=O.useRef();i.current==null&&(i.current=d9({window:t,v5Compat:!0}));let r=i.current,[a,o]=O.useState({action:r.action,location:r.location}),u=O.useCallback(f=>{O.startTransition(()=>o(f))},[o]);return O.useLayoutEffect(()=>r.listen(u),[r,u]),O.createElement(n$,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:r})}var ZL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vp=O.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:a,replace:o,state:u,target:f,to:d,preventScrollReset:m,viewTransition:g,...y},b){let{basename:_}=O.useContext(Ul),A=typeof d=="string"&&ZL.test(d),T,S=!1;if(typeof d=="string"&&A&&(T=d,KL))try{let B=new URL(window.location.href),L=d.startsWith("//")?new URL(B.protocol+d):new URL(d),W=Nu(L.pathname,_);L.origin===B.origin&&W!=null?d=W+L.search+L.hash:S=!0}catch{Dl(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=V9(d,{relative:r}),[D,N,z]=_$(i,y),U=D$(d,{replace:o,state:u,target:f,preventScrollReset:m,relative:r,viewTransition:g});function I(B){e&&e(B),B.defaultPrevented||U(B)}let V=O.createElement("a",{...y,...z,href:T||C,onClick:S||a?e:I,ref:T$(b,N),target:f,"data-discover":!A&&t==="render"?"true":void 0});return D&&!A?O.createElement(O.Fragment,null,V,O.createElement(S$,{page:C})):V});Vp.displayName="Link";var w$=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:a,to:o,viewTransition:u,children:f,...d},m){let g=mv(o,{relative:d.relative}),y=cf(),b=O.useContext(bS),{navigator:_,basename:A}=O.useContext(Ul),T=b!=null&&U$(g)&&u===!0,S=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,C=y.pathname,D=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(C=C.toLowerCase(),D=D?D.toLowerCase():null,S=S.toLowerCase()),D&&A&&(D=Nu(D,A)||D);const N=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let z=C===S||!r&&C.startsWith(S)&&C.charAt(N)==="/",U=D!=null&&(D===S||!r&&D.startsWith(S)&&D.charAt(S.length)==="/"),I={isActive:z,isPending:U,isTransitioning:T},V=z?e:void 0,B;typeof i=="function"?B=i(I):B=[i,z?"active":null,U?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(I):a;return O.createElement(Vp,{...d,"aria-current":V,className:B,ref:m,style:L,to:o,viewTransition:u},typeof f=="function"?f(I):f)});w$.displayName="NavLink";var C$=O.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:a,method:o=gb,action:u,onSubmit:f,relative:d,preventScrollReset:m,viewTransition:g,...y},b)=>{let _=P$(),A=L$(u,{relative:d}),T=o.toLowerCase()==="get"?"get":"post",S=typeof u=="string"&&ZL.test(u),C=D=>{if(f&&f(D),D.defaultPrevented)return;D.preventDefault();let N=D.nativeEvent.submitter,z=N?.getAttribute("formmethod")||o;_(N||D.currentTarget,{fetcherKey:e,method:z,navigate:t,replace:r,state:a,relative:d,preventScrollReset:m,viewTransition:g})};return O.createElement("form",{ref:b,method:T,action:A,onSubmit:i?f:C,...y,"data-discover":!S&&n==="render"?"true":void 0})});C$.displayName="Form";function R$(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QL(n){let e=O.useContext(um);return Si(e,R$(n)),e}function D$(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:a,viewTransition:o}={}){let u=H9(),f=cf(),d=mv(n,{relative:a});return O.useCallback(m=>{if(l$(m,e)){m.preventDefault();let g=t!==void 0?t:W0(f)===W0(d);u(n,{replace:g,state:i,preventScrollReset:r,relative:a,viewTransition:o})}},[f,u,d,t,i,e,n,r,a,o])}var O$=0,N$=()=>`__${String(++O$)}__`;function P$(){let{router:n}=QL("useSubmit"),{basename:e}=O.useContext(Ul),t=Q9();return O.useCallback(async(i,r={})=>{let{action:a,method:o,encType:u,formData:f,body:d}=f$(i,e);if(r.navigate===!1){let m=r.fetcherKey||N$();await n.fetch(m,t,r.action||a,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||o,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||o,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function L$(n,{relative:e}={}){let{basename:t}=O.useContext(Ul),i=O.useContext(Bu);Si(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...mv(n||".",{relative:e})},o=cf();if(n==null){a.search=o.search;let u=new URLSearchParams(a.search),f=u.getAll("index");if(f.some(m=>m==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();a.search=m?`?${m}`:""}}return(!n||n===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Eu([t,a.pathname])),W0(a)}function U$(n,{relative:e}={}){let t=O.useContext(GL);Si(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=QL("useViewTransitionState"),r=mv(n,{relative:e});if(!t.isTransitioning)return!1;let a=Nu(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=Nu(t.nextLocation.pathname,i)||t.nextLocation.pathname;return p_(r.pathname,o)!=null||p_(r.pathname,a)!=null}var gv=gN();const z$=qh(gv),tw=O.createContext({});function nw(n){const e=O.useRef(null);return e.current===null&&(e.current=n()),e.current}const iw=typeof window<"u",JL=iw?O.useLayoutEffect:O.useEffect,SS=O.createContext(null);function rw(n,e){n.indexOf(e)===-1&&n.push(e)}function aw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Pu=(n,e,t)=>t>e?e:t<n?n:t;let sw=()=>{};const Lu={},eU=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function tU(n){return typeof n=="object"&&n!==null}const nU=n=>/^0[^.\s]+$/u.test(n);function ow(n){let e;return()=>(e===void 0&&(e=n()),e)}const js=n=>n,B$=(n,e)=>t=>e(n(t)),vv=(...n)=>n.reduce(B$),q0=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class lw{constructor(){this.subscriptions=[]}add(e){return rw(this.subscriptions,e),()=>aw(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let a=0;a<r;a++){const o=this.subscriptions[a];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ml=n=>n*1e3,Tl=n=>n/1e3;function iU(n,e){return e?n*(1e3/e):0}const rU=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,I$=1e-7,F$=12;function V$(n,e,t,i,r){let a,o,u=0;do o=e+(t-e)/2,a=rU(o,i,r)-n,a>0?t=o:e=o;while(Math.abs(a)>I$&&++u<F$);return o}function yv(n,e,t,i){if(n===e&&t===i)return js;const r=a=>V$(a,0,1,n,t);return a=>a===0||a===1?a:rU(r(a),e,i)}const aU=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,sU=n=>e=>1-n(1-e),oU=yv(.33,1.53,.69,.99),uw=sU(oU),lU=aU(uw),uU=n=>(n*=2)<1?.5*uw(n):.5*(2-Math.pow(2,-10*(n-1))),cw=n=>1-Math.sin(Math.acos(n)),cU=sU(cw),fU=aU(cw),H$=yv(.42,0,1,1),k$=yv(0,0,.58,1),hU=yv(.42,0,.58,1),G$=n=>Array.isArray(n)&&typeof n[0]!="number",dU=n=>Array.isArray(n)&&typeof n[0]=="number",$$={linear:js,easeIn:H$,easeInOut:hU,easeOut:k$,circIn:cw,circInOut:fU,circOut:cU,backIn:uw,backInOut:lU,backOut:oU,anticipate:uU},j$=n=>typeof n=="string",r3=n=>{if(dU(n)){sw(n.length===4);const[e,t,i,r]=n;return yv(e,t,i,r)}else if(j$(n))return $$[n];return n},Qx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function X$(n,e){let t=new Set,i=new Set,r=!1,a=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(m){o.has(m)&&(d.schedule(m),n()),m(u)}const d={schedule:(m,g=!1,y=!1)=>{const _=y&&r?t:i;return g&&o.add(m),_.has(m)||_.add(m),m},cancel:m=>{i.delete(m),o.delete(m)},process:m=>{if(u=m,r){a=!0;return}r=!0,[t,i]=[i,t],t.forEach(f),t.clear(),r=!1,a&&(a=!1,d.process(m))}};return d}const W$=40;function pU(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,o=Qx.reduce((D,N)=>(D[N]=X$(a),D),{}),{setup:u,read:f,resolveKeyframes:d,preUpdate:m,update:g,preRender:y,render:b,postRender:_}=o,A=()=>{const D=Lu.useManualTiming?r.timestamp:performance.now();t=!1,Lu.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(D-r.timestamp,W$),1)),r.timestamp=D,r.isProcessing=!0,u.process(r),f.process(r),d.process(r),m.process(r),g.process(r),y.process(r),b.process(r),_.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(A))},T=()=>{t=!0,i=!0,r.isProcessing||n(A)};return{schedule:Qx.reduce((D,N)=>{const z=o[N];return D[N]=(U,I=!1,V=!1)=>(t||T(),z.schedule(U,I,V)),D},{}),cancel:D=>{for(let N=0;N<Qx.length;N++)o[Qx[N]].cancel(D)},state:r,steps:o}}const{schedule:ci,cancel:tf,state:Or,steps:VE}=pU(typeof requestAnimationFrame<"u"?requestAnimationFrame:js,!0);let yb;function q$(){yb=void 0}const ja={now:()=>(yb===void 0&&ja.set(Or.isProcessing||Lu.useManualTiming?Or.timestamp:performance.now()),yb),set:n=>{yb=n,queueMicrotask(q$)}},mU=n=>e=>typeof e=="string"&&e.startsWith(n),fw=mU("--"),Y$=mU("var(--"),hw=n=>Y$(n)?K$.test(n.split("/*")[0].trim()):!1,K$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,cm={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Y0={...cm,transform:n=>Pu(0,1,n)},Jx={...cm,default:1},y0=n=>Math.round(n*1e5)/1e5,dw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Z$(n){return n==null}const Q$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pw=(n,e)=>t=>!!(typeof t=="string"&&Q$.test(t)&&t.startsWith(n)||e&&!Z$(t)&&Object.prototype.hasOwnProperty.call(t,e)),gU=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,a,o,u]=i.match(dw);return{[n]:parseFloat(r),[e]:parseFloat(a),[t]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},J$=n=>Pu(0,255,n),HE={...cm,transform:n=>Math.round(J$(n))},Oh={test:pw("rgb","red"),parse:gU("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+HE.transform(n)+", "+HE.transform(e)+", "+HE.transform(t)+", "+y0(Y0.transform(i))+")"};function ej(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const aT={test:pw("#"),parse:ej,transform:Oh.transform},xv=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Hc=xv("deg"),Al=xv("%"),jt=xv("px"),tj=xv("vh"),nj=xv("vw"),a3={...Al,parse:n=>Al.parse(n)/100,transform:n=>Al.transform(n*100)},Np={test:pw("hsl","hue"),parse:gU("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Al.transform(y0(e))+", "+Al.transform(y0(t))+", "+y0(Y0.transform(i))+")"},Zi={test:n=>Oh.test(n)||aT.test(n)||Np.test(n),parse:n=>Oh.test(n)?Oh.parse(n):Np.test(n)?Np.parse(n):aT.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Oh.transform(n):Np.transform(n),getAnimatableNone:n=>{const e=Zi.parse(n);return e.alpha=0,Zi.transform(e)}},ij=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function rj(n){return isNaN(n)&&typeof n=="string"&&(n.match(dw)?.length||0)+(n.match(ij)?.length||0)>0}const vU="number",yU="color",aj="var",sj="var(",s3="${}",oj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function K0(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let a=0;const u=e.replace(oj,f=>(Zi.test(f)?(i.color.push(a),r.push(yU),t.push(Zi.parse(f))):f.startsWith(sj)?(i.var.push(a),r.push(aj),t.push(f)):(i.number.push(a),r.push(vU),t.push(parseFloat(f))),++a,s3)).split(s3);return{values:t,split:u,indexes:i,types:r}}function xU(n){return K0(n).values}function bU(n){const{split:e,types:t}=K0(n),i=e.length;return r=>{let a="";for(let o=0;o<i;o++)if(a+=e[o],r[o]!==void 0){const u=t[o];u===vU?a+=y0(r[o]):u===yU?a+=Zi.transform(r[o]):a+=r[o]}return a}}const lj=n=>typeof n=="number"?0:Zi.test(n)?Zi.getAnimatableNone(n):n;function uj(n){const e=xU(n);return bU(n)(e.map(lj))}const nf={test:rj,parse:xU,createTransformer:bU,getAnimatableNone:uj};function kE(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function cj({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,a=0,o=0;if(!e)r=a=o=t;else{const u=t<.5?t*(1+e):t+e-t*e,f=2*t-u;r=kE(f,u,n+1/3),a=kE(f,u,n),o=kE(f,u,n-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:i}}function m_(n,e){return t=>t>0?e:n}const bi=(n,e,t)=>n+(e-n)*t,GE=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},fj=[aT,Oh,Np],hj=n=>fj.find(e=>e.test(n));function o3(n){const e=hj(n);if(!e)return!1;let t=e.parse(n);return e===Np&&(t=cj(t)),t}const l3=(n,e)=>{const t=o3(n),i=o3(e);if(!t||!i)return m_(n,e);const r={...t};return a=>(r.red=GE(t.red,i.red,a),r.green=GE(t.green,i.green,a),r.blue=GE(t.blue,i.blue,a),r.alpha=bi(t.alpha,i.alpha,a),Oh.transform(r))},sT=new Set(["none","hidden"]);function dj(n,e){return sT.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function pj(n,e){return t=>bi(n,e,t)}function mw(n){return typeof n=="number"?pj:typeof n=="string"?hw(n)?m_:Zi.test(n)?l3:vj:Array.isArray(n)?_U:typeof n=="object"?Zi.test(n)?l3:mj:m_}function _U(n,e){const t=[...n],i=t.length,r=n.map((a,o)=>mw(a)(a,e[o]));return a=>{for(let o=0;o<i;o++)t[o]=r[o](a);return t}}function mj(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=mw(n[r])(n[r],e[r]));return r=>{for(const a in i)t[a]=i[a](r);return t}}function gj(n,e){const t=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],o=n.indexes[a][i[a]],u=n.values[o]??0;t[r]=u,i[a]++}return t}const vj=(n,e)=>{const t=nf.createTransformer(e),i=K0(n),r=K0(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?sT.has(n)&&!r.values.length||sT.has(e)&&!i.values.length?dj(n,e):vv(_U(gj(i,r),r.values),t):m_(n,e)};function SU(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?bi(n,e,t):mw(n)(n,e)}const yj=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>ci.update(e,t),stop:()=>tf(e),now:()=>Or.isProcessing?Or.timestamp:ja.now()}},EU=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let a=0;a<r;a++)i+=Math.round(n(a/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},g_=2e4;function gw(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<g_;)e+=t,i=n.next(e);return e>=g_?1/0:e}function xj(n,e=100,t){const i=t({...n,keyframes:[0,e]}),r=Math.min(gw(i),g_);return{type:"keyframes",ease:a=>i.next(r*a).value/e,duration:Tl(r)}}const bj=5;function MU(n,e,t){const i=Math.max(e-bj,0);return iU(t-n(i),e-i)}const Oi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$E=.001;function _j({duration:n=Oi.duration,bounce:e=Oi.bounce,velocity:t=Oi.velocity,mass:i=Oi.mass}){let r,a,o=1-e;o=Pu(Oi.minDamping,Oi.maxDamping,o),n=Pu(Oi.minDuration,Oi.maxDuration,Tl(n)),o<1?(r=d=>{const m=d*o,g=m*n,y=m-t,b=oT(d,o),_=Math.exp(-g);return $E-y/b*_},a=d=>{const g=d*o*n,y=g*t+t,b=Math.pow(o,2)*Math.pow(d,2)*n,_=Math.exp(-g),A=oT(Math.pow(d,2),o);return(-r(d)+$E>0?-1:1)*((y-b)*_)/A}):(r=d=>{const m=Math.exp(-d*n),g=(d-t)*n+1;return-$E+m*g},a=d=>{const m=Math.exp(-d*n),g=(t-d)*(n*n);return m*g});const u=5/n,f=Ej(r,a,u);if(n=Ml(n),isNaN(f))return{stiffness:Oi.stiffness,damping:Oi.damping,duration:n};{const d=Math.pow(f,2)*i;return{stiffness:d,damping:o*2*Math.sqrt(i*d),duration:n}}}const Sj=12;function Ej(n,e,t){let i=t;for(let r=1;r<Sj;r++)i=i-n(i)/e(i);return i}function oT(n,e){return n*Math.sqrt(1-e*e)}const Mj=["duration","bounce"],Tj=["stiffness","damping","mass"];function u3(n,e){return e.some(t=>n[t]!==void 0)}function Aj(n){let e={velocity:Oi.velocity,stiffness:Oi.stiffness,damping:Oi.damping,mass:Oi.mass,isResolvedFromDuration:!1,...n};if(!u3(n,Tj)&&u3(n,Mj))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,a=2*Pu(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:Oi.mass,stiffness:r,damping:a}}else{const t=_j(n);e={...e,...t,mass:Oi.mass},e.isResolvedFromDuration=!0}return e}function v_(n=Oi.visualDuration,e=Oi.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const a=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],u={done:!1,value:a},{stiffness:f,damping:d,mass:m,duration:g,velocity:y,isResolvedFromDuration:b}=Aj({...t,velocity:-Tl(t.velocity||0)}),_=y||0,A=d/(2*Math.sqrt(f*m)),T=o-a,S=Tl(Math.sqrt(f/m)),C=Math.abs(T)<5;i||(i=C?Oi.restSpeed.granular:Oi.restSpeed.default),r||(r=C?Oi.restDelta.granular:Oi.restDelta.default);let D;if(A<1){const z=oT(S,A);D=U=>{const I=Math.exp(-A*S*U);return o-I*((_+A*S*T)/z*Math.sin(z*U)+T*Math.cos(z*U))}}else if(A===1)D=z=>o-Math.exp(-S*z)*(T+(_+S*T)*z);else{const z=S*Math.sqrt(A*A-1);D=U=>{const I=Math.exp(-A*S*U),V=Math.min(z*U,300);return o-I*((_+A*S*T)*Math.sinh(V)+z*T*Math.cosh(V))/z}}const N={calculatedDuration:b&&g||null,next:z=>{const U=D(z);if(b)u.done=z>=g;else{let I=z===0?_:0;A<1&&(I=z===0?Ml(_):MU(D,z,U));const V=Math.abs(I)<=i,B=Math.abs(o-U)<=r;u.done=V&&B}return u.value=u.done?o:U,u},toString:()=>{const z=Math.min(gw(N),g_),U=EU(I=>N.next(z*I).value,z,30);return z+"ms "+U},toTransition:()=>{}};return N}v_.applyToOptions=n=>{const e=xj(n,100,v_);return n.ease=e.ease,n.duration=Ml(e.duration),n.type="keyframes",n};function lT({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:o,min:u,max:f,restDelta:d=.5,restSpeed:m}){const g=n[0],y={done:!1,value:g},b=V=>u!==void 0&&V<u||f!==void 0&&V>f,_=V=>u===void 0?f:f===void 0||Math.abs(u-V)<Math.abs(f-V)?u:f;let A=t*e;const T=g+A,S=o===void 0?T:o(T);S!==T&&(A=S-g);const C=V=>-A*Math.exp(-V/i),D=V=>S+C(V),N=V=>{const B=C(V),L=D(V);y.done=Math.abs(B)<=d,y.value=y.done?S:L};let z,U;const I=V=>{b(y.value)&&(z=V,U=v_({keyframes:[y.value,_(y.value)],velocity:MU(D,V,y.value),damping:r,stiffness:a,restDelta:d,restSpeed:m}))};return I(0),{calculatedDuration:null,next:V=>{let B=!1;return!U&&z===void 0&&(B=!0,N(V),I(V)),z!==void 0&&V>=z?U.next(V-z):(!B&&N(V),y)}}}function wj(n,e,t){const i=[],r=t||Lu.mix||SU,a=n.length-1;for(let o=0;o<a;o++){let u=r(n[o],n[o+1]);if(e){const f=Array.isArray(e)?e[o]||js:e;u=vv(f,u)}i.push(u)}return i}function Cj(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const a=n.length;if(sw(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=wj(e,i,r),f=u.length,d=m=>{if(o&&m<n[0])return e[0];let g=0;if(f>1)for(;g<n.length-2&&!(m<n[g+1]);g++);const y=q0(n[g],n[g+1],m);return u[g](y)};return t?m=>d(Pu(n[0],n[a-1],m)):d}function Rj(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=q0(0,e,i);n.push(bi(t,1,r))}}function Dj(n){const e=[0];return Rj(e,n.length-1),e}function Oj(n,e){return n.map(t=>t*e)}function Nj(n,e){return n.map(()=>e||hU).splice(0,n.length-1)}function x0({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=G$(i)?i.map(r3):r3(i),a={done:!1,value:e[0]},o=Oj(t&&t.length===e.length?t:Dj(e),n),u=Cj(o,e,{ease:Array.isArray(r)?r:Nj(e,r)});return{calculatedDuration:n,next:f=>(a.value=u(f),a.done=f>=n,a)}}const Pj=n=>n!==null;function vw(n,{repeat:e,repeatType:t="loop"},i,r=1){const a=n.filter(Pj),u=r<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!u||i===void 0?a[u]:i}const Lj={decay:lT,inertia:lT,tween:x0,keyframes:x0,spring:v_};function TU(n){typeof n.type=="string"&&(n.type=Lj[n.type])}class yw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Uj=n=>n/100;class xw extends yw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==ja.now()&&this.tick(ja.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;TU(e);const{type:t=x0,repeat:i=0,repeatDelay:r=0,repeatType:a,velocity:o=0}=e;let{keyframes:u}=e;const f=t||x0;f!==x0&&typeof u[0]!="number"&&(this.mixKeyframes=vv(Uj,SU(u[0],u[1])),u=[0,100]);const d=f({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...u].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=gw(d));const{calculatedDuration:m}=d;this.calculatedDuration=m,this.resolvedDuration=m+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=d}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:r,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:m,repeat:g,repeatType:y,repeatDelay:b,type:_,onUpdate:A,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const S=this.currentTime-d*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?S<0:S>r;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let D=this.currentTime,N=i;if(g){const V=Math.min(this.currentTime,r)/u;let B=Math.floor(V),L=V%1;!L&&V>=1&&(L=1),L===1&&B--,B=Math.min(B,g+1),!!(B%2)&&(y==="reverse"?(L=1-L,b&&(L-=b/u)):y==="mirror"&&(N=o)),D=Pu(0,1,L)*u}const z=C?{done:!1,value:m[0]}:N.next(D);a&&(z.value=a(z.value));let{done:U}=z;!C&&f!==null&&(U=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return I&&_!==lT&&(z.value=vw(m,this.options,T,this.speed)),A&&A(z.value),I&&this.finish(),z}then(e,t){return this.finished.then(e,t)}get duration(){return Tl(this.calculatedDuration)}get time(){return Tl(this.currentTime)}set time(e){e=Ml(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ja.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Tl(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=yj,startTime:t}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ja.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function zj(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Nh=n=>n*180/Math.PI,uT=n=>{const e=Nh(Math.atan2(n[1],n[0]));return cT(e)},Bj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:uT,rotateZ:uT,skewX:n=>Nh(Math.atan(n[1])),skewY:n=>Nh(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},cT=n=>(n=n%360,n<0&&(n+=360),n),c3=uT,f3=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),h3=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),Ij={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:f3,scaleY:h3,scale:n=>(f3(n)+h3(n))/2,rotateX:n=>cT(Nh(Math.atan2(n[6],n[5]))),rotateY:n=>cT(Nh(Math.atan2(-n[2],n[0]))),rotateZ:c3,rotate:c3,skewX:n=>Nh(Math.atan(n[4])),skewY:n=>Nh(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function fT(n){return n.includes("scale")?1:0}function hT(n,e){if(!n||n==="none")return fT(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(t)i=Ij,r=t;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Bj,r=u}if(!r)return fT(e);const a=i[e],o=r[1].split(",").map(Vj);return typeof a=="function"?a(o):o[a]}const Fj=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return hT(t,e)};function Vj(n){return parseFloat(n.trim())}const fm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hm=new Set(fm),d3=n=>n===cm||n===jt,Hj=new Set(["x","y","z"]),kj=fm.filter(n=>!Hj.has(n));function Gj(n){const e=[];return kj.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Bh={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>hT(e,"x"),y:(n,{transform:e})=>hT(e,"y")};Bh.translateX=Bh.x;Bh.translateY=Bh.y;const Ih=new Set;let dT=!1,pT=!1,mT=!1;function AU(){if(pT){const n=Array.from(Ih).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=Gj(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([a,o])=>{i.getValue(a)?.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}pT=!1,dT=!1,Ih.forEach(n=>n.complete(mT)),Ih.clear()}function wU(){Ih.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(pT=!0)})}function $j(){mT=!0,wU(),AU(),mT=!1}class bw{constructor(e,t,i,r,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ih.add(this),dT||(dT=!0,ci.read(wU),ci.resolveKeyframes(AU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;if(e[0]===null){const a=r?.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&t){const u=i.readValue(t,o);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=o),r&&a===void 0&&r.set(e[0])}zj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ih.delete(this)}cancel(){this.state==="scheduled"&&(Ih.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const jj=n=>n.startsWith("--");function Xj(n,e,t){jj(e)?n.style.setProperty(e,t):n.style[e]=t}const Wj=ow(()=>window.ScrollTimeline!==void 0),qj={};function Yj(n,e){const t=ow(n);return()=>qj[e]??t()}const CU=Yj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),t0=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,p3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:t0([0,.65,.55,1]),circOut:t0([.55,0,1,.45]),backIn:t0([.31,.01,.66,-.59]),backOut:t0([.33,1.53,.69,.99])};function RU(n,e){if(n)return typeof n=="function"?CU()?EU(n,e):"ease-out":dU(n)?t0(n):Array.isArray(n)?n.map(t=>RU(t,e)||p3.easeOut):p3[n]}function Kj(n,e,t,{delay:i=0,duration:r=300,repeat:a=0,repeatType:o="loop",ease:u="easeOut",times:f}={},d=void 0){const m={[e]:t};f&&(m.offset=f);const g=RU(u,r);Array.isArray(g)&&(m.easing=g);const y={delay:i,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return d&&(y.pseudoElement=d),n.animate(m,y)}function DU(n){return typeof n=="function"&&"applyToOptions"in n}function Zj({type:n,...e}){return DU(n)&&CU()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Qj extends yw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:r,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:u,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,sw(typeof e.type!="string");const d=Zj(e);this.animation=Kj(t,i,r,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=vw(r,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):Xj(t,i,m),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Tl(Number(e))}get time(){return Tl(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ml(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Wj()?(this.animation.timeline=e,js):t(this)}}const OU={anticipate:uU,backInOut:lU,circInOut:fU};function Jj(n){return n in OU}function eX(n){typeof n.ease=="string"&&Jj(n.ease)&&(n.ease=OU[n.ease])}const m3=10;class tX extends Qj{constructor(e){eX(e),TU(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:r,element:a,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const u=new xw({...o,autoplay:!1}),f=Ml(this.finishedTime??this.time);t.setWithVelocity(u.sample(f-m3).value,u.sample(f).value,m3),u.stop()}}const g3=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(nf.test(n)||n==="0")&&!n.startsWith("url("));function nX(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function iX(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],o=g3(r,e),u=g3(a,e);return!o||!u?!1:nX(n)||(t==="spring"||DU(t))&&i}function gT(n){n.duration=0,n.type}const rX=new Set(["opacity","clipPath","filter","transform"]),aX=ow(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function sX(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:r,damping:a,type:o}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:d}=e.owner.getProps();return aX()&&t&&rX.has(t)&&(t!=="transform"||!d)&&!f&&!i&&r!=="mirror"&&a!==0&&o!=="inertia"}const oX=40;class lX extends yw{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:o="loop",keyframes:u,name:f,motionValue:d,element:m,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ja.now();const y={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:a,repeatType:o,name:f,motionValue:d,element:m,...g},b=m?.KeyframeResolver||bw;this.keyframeResolver=new b(u,(_,A,T)=>this.onKeyframesResolved(_,A,y,!T),f,d,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,r){this.keyframeResolver=void 0;const{name:a,type:o,velocity:u,delay:f,isHandoff:d,onUpdate:m}=i;this.resolvedAt=ja.now(),iX(e,a,o,u)||((Lu.instantAnimations||!f)&&m?.(vw(e,i,t)),e[0]=e[e.length-1],gT(i),i.repeat=0);const y={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>oX?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},b=!d&&sX(y)?new tX({...y,element:y.motionValue.owner.current}):new xw(y);b.finished.then(()=>this.notifyFinished()).catch(js),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),$j()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const uX=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cX(n){const e=uX.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function NU(n,e,t=1){const[i,r]=cX(n);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const o=a.trim();return eU(o)?parseFloat(o):o}return hw(r)?NU(r,e,t+1):r}function _w(n,e){return n?.[e]??n?.default??n}const PU=new Set(["width","height","top","left","right","bottom",...fm]),fX={test:n=>n==="auto",parse:n=>n},LU=n=>e=>e.test(n),UU=[cm,jt,Al,Hc,nj,tj,fX],v3=n=>UU.find(LU(n));function hX(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||nU(n):!0}const dX=new Set(["brightness","contrast","saturate","opacity"]);function pX(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(dw)||[];if(!i)return n;const r=t.replace(i,"");let a=dX.has(e)?1:0;return i!==t&&(a*=100),e+"("+a+r+")"}const mX=/\b([a-z-]*)\(.*?\)/gu,vT={...nf,getAnimatableNone:n=>{const e=n.match(mX);return e?e.map(pX).join(" "):n}},y3={...cm,transform:Math.round},gX={rotate:Hc,rotateX:Hc,rotateY:Hc,rotateZ:Hc,scale:Jx,scaleX:Jx,scaleY:Jx,scaleZ:Jx,skew:Hc,skewX:Hc,skewY:Hc,distance:jt,translateX:jt,translateY:jt,translateZ:jt,x:jt,y:jt,z:jt,perspective:jt,transformPerspective:jt,opacity:Y0,originX:a3,originY:a3,originZ:jt},Sw={borderWidth:jt,borderTopWidth:jt,borderRightWidth:jt,borderBottomWidth:jt,borderLeftWidth:jt,borderRadius:jt,radius:jt,borderTopLeftRadius:jt,borderTopRightRadius:jt,borderBottomRightRadius:jt,borderBottomLeftRadius:jt,width:jt,maxWidth:jt,height:jt,maxHeight:jt,top:jt,right:jt,bottom:jt,left:jt,padding:jt,paddingTop:jt,paddingRight:jt,paddingBottom:jt,paddingLeft:jt,margin:jt,marginTop:jt,marginRight:jt,marginBottom:jt,marginLeft:jt,backgroundPositionX:jt,backgroundPositionY:jt,...gX,zIndex:y3,fillOpacity:Y0,strokeOpacity:Y0,numOctaves:y3},vX={...Sw,color:Zi,backgroundColor:Zi,outlineColor:Zi,fill:Zi,stroke:Zi,borderColor:Zi,borderTopColor:Zi,borderRightColor:Zi,borderBottomColor:Zi,borderLeftColor:Zi,filter:vT,WebkitFilter:vT},zU=n=>vX[n];function BU(n,e){let t=zU(n);return t!==vT&&(t=nf),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const yX=new Set(["auto","none","0"]);function xX(n,e,t){let i=0,r;for(;i<n.length&&!r;){const a=n[i];typeof a=="string"&&!yX.has(a)&&K0(a).values.length&&(r=n[i]),i++}if(r&&t)for(const a of e)n[a]=BU(t,r)}class bX extends bw{constructor(e,t,i,r,a){super(e,t,i,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let d=e[f];if(typeof d=="string"&&(d=d.trim(),hw(d))){const m=NU(d,t.current);m!==void 0&&(e[f]=m),f===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!PU.has(i)||e.length!==2)return;const[r,a]=e,o=v3(r),u=v3(a);if(o!==u)if(d3(o)&&d3(u))for(let f=0;f<e.length;f++){const d=e[f];typeof d=="string"&&(e[f]=parseFloat(d))}else Bh[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||hX(e[r]))&&i.push(r);i.length&&xX(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bh[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=Bh[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,f])=>{e.getValue(u).set(f)}),this.resolveNoneKeyframes()}}function _X(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const r=t?.[n]??i.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}const IU=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function FU(n){return tU(n)&&"offsetHeight"in n}const x3=30,SX=n=>!isNaN(parseFloat(n));class EX{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const r=ja.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ja.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=SX(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new lw);const i=this.events[e].add(t);return e==="change"?()=>{i(),ci.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ja.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>x3)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,x3);return iU(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jp(n,e){return new EX(n,e)}const{schedule:Ew}=pU(queueMicrotask,!1),To={x:!1,y:!1};function VU(){return To.x||To.y}function MX(n){return n==="x"||n==="y"?To[n]?null:(To[n]=!0,()=>{To[n]=!1}):To.x||To.y?null:(To.x=To.y=!0,()=>{To.x=To.y=!1})}function HU(n,e){const t=_X(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function b3(n){return!(n.pointerType==="touch"||VU())}function TX(n,e,t={}){const[i,r,a]=HU(n,t),o=u=>{if(!b3(u))return;const{target:f}=u,d=e(f,u);if(typeof d!="function"||!f)return;const m=g=>{b3(g)&&(d(g),f.removeEventListener("pointerleave",m))};f.addEventListener("pointerleave",m,r)};return i.forEach(u=>{u.addEventListener("pointerenter",o,r)}),a}const kU=(n,e)=>e?n===e?!0:kU(n,e.parentElement):!1,Mw=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,AX=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function wX(n){return AX.has(n.tagName)||n.tabIndex!==-1}const xb=new WeakSet;function _3(n){return e=>{e.key==="Enter"&&n(e)}}function jE(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const CX=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=_3(()=>{if(xb.has(t))return;jE(t,"down");const r=_3(()=>{jE(t,"up")}),a=()=>jE(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function S3(n){return Mw(n)&&!VU()}function RX(n,e,t={}){const[i,r,a]=HU(n,t),o=u=>{const f=u.currentTarget;if(!S3(u))return;xb.add(f);const d=e(f,u),m=(b,_)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),xb.has(f)&&xb.delete(f),S3(b)&&typeof d=="function"&&d(b,{success:_})},g=b=>{m(b,f===window||f===document||t.useGlobalTarget||kU(f,b.target))},y=b=>{m(b,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",y,r)};return i.forEach(u=>{(t.useGlobalTarget?window:u).addEventListener("pointerdown",o,r),FU(u)&&(u.addEventListener("focus",d=>CX(d,r)),!wX(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function GU(n){return tU(n)&&"ownerSVGElement"in n}function DX(n){return GU(n)&&n.tagName==="svg"}const Yr=n=>!!(n&&n.getVelocity),OX=[...UU,Zi,nf],NX=n=>OX.find(LU(n)),Tw=O.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class PX extends O.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,r=FU(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=r-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function LX({children:n,isPresent:e,anchorX:t,root:i}){const r=O.useId(),a=O.useRef(null),o=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=O.useContext(Tw);return O.useInsertionEffect(()=>{const{width:f,height:d,top:m,left:g,right:y}=o.current;if(e||!a.current||!f||!d)return;const b=t==="left"?`left: ${g}`:`right: ${y}`;a.current.dataset.motionPopId=r;const _=document.createElement("style");u&&(_.nonce=u);const A=i??document.head;return A.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${d}px !important;
            ${b}px !important;
            top: ${m}px !important;
          }
        `),()=>{A.contains(_)&&A.removeChild(_)}},[e]),Ye.jsx(PX,{isPresent:e,childRef:a,sizeRef:o,children:O.cloneElement(n,{ref:a})})}const UX=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:r,presenceAffectsLayout:a,mode:o,anchorX:u,root:f})=>{const d=nw(zX),m=O.useId();let g=!0,y=O.useMemo(()=>(g=!1,{id:m,initial:e,isPresent:t,custom:r,onExitComplete:b=>{d.set(b,!0);for(const _ of d.values())if(!_)return;i&&i()},register:b=>(d.set(b,!1),()=>d.delete(b))}),[t,d,i]);return a&&g&&(y={...y}),O.useMemo(()=>{d.forEach((b,_)=>d.set(_,!1))},[t]),O.useEffect(()=>{!t&&!d.size&&i&&i()},[t]),o==="popLayout"&&(n=Ye.jsx(LX,{isPresent:t,anchorX:u,root:f,children:n})),Ye.jsx(SS.Provider,{value:y,children:n})};function zX(){return new Map}function $U(n=!0){const e=O.useContext(SS);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,a=O.useId();O.useEffect(()=>{if(n)return r(a)},[n]);const o=O.useCallback(()=>n&&i&&i(a),[a,i,n]);return!t&&i?[!1,o]:[!0]}const eb=n=>n.key||"";function E3(n){const e=[];return O.Children.forEach(n,t=>{O.isValidElement(t)&&e.push(t)}),e}const BX=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:a="sync",propagate:o=!1,anchorX:u="left",root:f})=>{const[d,m]=$U(o),g=O.useMemo(()=>E3(n),[n]),y=o&&!d?[]:g.map(eb),b=O.useRef(!0),_=O.useRef(g),A=nw(()=>new Map),[T,S]=O.useState(g),[C,D]=O.useState(g);JL(()=>{b.current=!1,_.current=g;for(let U=0;U<C.length;U++){const I=eb(C[U]);y.includes(I)?A.delete(I):A.get(I)!==!0&&A.set(I,!1)}},[C,y.length,y.join("-")]);const N=[];if(g!==T){let U=[...g];for(let I=0;I<C.length;I++){const V=C[I],B=eb(V);y.includes(B)||(U.splice(I,0,V),N.push(V))}return a==="wait"&&N.length&&(U=N),D(E3(U)),S(g),null}const{forceRender:z}=O.useContext(tw);return Ye.jsx(Ye.Fragment,{children:C.map(U=>{const I=eb(U),V=o&&!d?!1:g===C||y.includes(I),B=()=>{if(A.has(I))A.set(I,!0);else return;let L=!0;A.forEach(W=>{W||(L=!1)}),L&&(z?.(),D(_.current),o&&m?.(),i&&i())};return Ye.jsx(UX,{isPresent:V,initial:!b.current||t?void 0:!1,custom:e,presenceAffectsLayout:r,mode:a,root:f,onExitComplete:V?void 0:B,anchorX:u,children:U},I)})})},jU=O.createContext({strict:!1}),M3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},em={};for(const n in M3)em[n]={isEnabled:e=>M3[n].some(t=>!!e[t])};function IX(n){for(const e in n)em[e]={...em[e],...n[e]}}const FX=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function y_(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||FX.has(n)}let XU=n=>!y_(n);function VX(n){typeof n=="function"&&(XU=e=>e.startsWith("on")?!y_(e):n(e))}try{VX(require("@emotion/is-prop-valid").default)}catch{}function HX(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(XU(r)||t===!0&&y_(r)||!e&&!y_(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}const ES=O.createContext({});function MS(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Z0(n){return typeof n=="string"||Array.isArray(n)}const Aw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ww=["initial",...Aw];function TS(n){return MS(n.animate)||ww.some(e=>Z0(n[e]))}function WU(n){return!!(TS(n)||n.variants)}function kX(n,e){if(TS(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Z0(t)?t:void 0,animate:Z0(i)?i:void 0}}return n.inherit!==!1?e:{}}function GX(n){const{initial:e,animate:t}=kX(n,O.useContext(ES));return O.useMemo(()=>({initial:e,animate:t}),[T3(e),T3(t)])}function T3(n){return Array.isArray(n)?n.join(" "):n}const Q0={};function $X(n){for(const e in n)Q0[e]=n[e],fw(e)&&(Q0[e].isCSSVariable=!0)}function qU(n,{layout:e,layoutId:t}){return hm.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Q0[n]||n==="opacity")}const jX={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},XX=fm.length;function WX(n,e,t){let i="",r=!0;for(let a=0;a<XX;a++){const o=fm[a],u=n[o];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(o.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||t){const d=IU(u,Sw[o]);if(!f){r=!1;const m=jX[o]||o;i+=`${m}(${d}) `}t&&(e[o]=d)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function Cw(n,e,t){const{style:i,vars:r,transformOrigin:a}=n;let o=!1,u=!1;for(const f in e){const d=e[f];if(hm.has(f)){o=!0;continue}else if(fw(f)){r[f]=d;continue}else{const m=IU(d,Sw[f]);f.startsWith("origin")?(u=!0,a[f]=m):i[f]=m}}if(e.transform||(o||t?i.transform=WX(e,n.transform,t):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:d="50%",originZ:m=0}=a;i.transformOrigin=`${f} ${d} ${m}`}}const Rw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function YU(n,e,t){for(const i in e)!Yr(e[i])&&!qU(i,t)&&(n[i]=e[i])}function qX({transformTemplate:n},e){return O.useMemo(()=>{const t=Rw();return Cw(t,e,n),Object.assign({},t.vars,t.style)},[e])}function YX(n,e){const t=n.style||{},i={};return YU(i,t,n),Object.assign(i,qX(n,e)),i}function KX(n,e){const t={},i=YX(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const ZX={offset:"stroke-dashoffset",array:"stroke-dasharray"},QX={offset:"strokeDashoffset",array:"strokeDasharray"};function JX(n,e,t=1,i=0,r=!0){n.pathLength=1;const a=r?ZX:QX;n[a.offset]=jt.transform(-i);const o=jt.transform(e),u=jt.transform(t);n[a.array]=`${o} ${u}`}function KU(n,{attrX:e,attrY:t,attrScale:i,pathLength:r,pathSpacing:a=1,pathOffset:o=0,...u},f,d,m){if(Cw(n,u,d),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:g,style:y}=n;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=m?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),t!==void 0&&(g.y=t),i!==void 0&&(g.scale=i),r!==void 0&&JX(g,r,a,o,!1)}const ZU=()=>({...Rw(),attrs:{}}),QU=n=>typeof n=="string"&&n.toLowerCase()==="svg";function eW(n,e,t,i){const r=O.useMemo(()=>{const a=ZU();return KU(a,e,QU(i),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};YU(a,n.style,n),r.style={...a,...r.style}}return r}const tW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dw(n){return typeof n!="string"||n.includes("-")?!1:!!(tW.indexOf(n)>-1||/[A-Z]/u.test(n))}function nW(n,e,t,{latestValues:i},r,a=!1){const u=(Dw(n)?eW:KX)(e,i,r,n),f=HX(e,typeof n=="string",a),d=n!==O.Fragment?{...f,...u,ref:t}:{},{children:m}=e,g=O.useMemo(()=>Yr(m)?m.get():m,[m]);return O.createElement(n,{...d,children:g})}function A3(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function Ow(n,e,t,i){if(typeof e=="function"){const[r,a]=A3(i);e=e(t!==void 0?t:n.custom,r,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,a]=A3(i);e=e(t!==void 0?t:n.custom,r,a)}return e}function bb(n){return Yr(n)?n.get():n}function iW({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,r){return{latestValues:rW(t,i,r,n),renderState:e()}}function rW(n,e,t,i){const r={},a=i(n,{});for(const y in a)r[y]=bb(a[y]);let{initial:o,animate:u}=n;const f=TS(n),d=WU(n);e&&d&&!f&&n.inherit!==!1&&(o===void 0&&(o=e.initial),u===void 0&&(u=e.animate));let m=t?t.initial===!1:!1;m=m||o===!1;const g=m?u:o;if(g&&typeof g!="boolean"&&!MS(g)){const y=Array.isArray(g)?g:[g];for(let b=0;b<y.length;b++){const _=Ow(n,y[b]);if(_){const{transitionEnd:A,transition:T,...S}=_;for(const C in S){let D=S[C];if(Array.isArray(D)){const N=m?D.length-1:0;D=D[N]}D!==null&&(r[C]=D)}for(const C in A)r[C]=A[C]}}}return r}const JU=n=>(e,t)=>{const i=O.useContext(ES),r=O.useContext(SS),a=()=>iW(n,e,i,r);return t?a():nw(a)};function Nw(n,e,t){const{style:i}=n,r={};for(const a in i)(Yr(i[a])||e.style&&Yr(e.style[a])||qU(a,n)||t?.getValue(a)?.liveStyle!==void 0)&&(r[a]=i[a]);return r}const aW=JU({scrapeMotionValuesFromProps:Nw,createRenderState:Rw});function ez(n,e,t){const i=Nw(n,e,t);for(const r in n)if(Yr(n[r])||Yr(e[r])){const a=fm.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[a]=n[r]}return i}const sW=JU({scrapeMotionValuesFromProps:ez,createRenderState:ZU}),oW=Symbol.for("motionComponentSymbol");function Pp(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function lW(n,e,t){return O.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Pp(t)&&(t.current=i))},[e])}const Pw=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uW="framerAppearId",tz="data-"+Pw(uW),nz=O.createContext({});function cW(n,e,t,i,r){const{visualElement:a}=O.useContext(ES),o=O.useContext(jU),u=O.useContext(SS),f=O.useContext(Tw).reducedMotion,d=O.useRef(null);i=i||o.renderer,!d.current&&i&&(d.current=i(n,{visualState:e,parent:a,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const m=d.current,g=O.useContext(nz);m&&!m.projection&&r&&(m.type==="html"||m.type==="svg")&&fW(d.current,t,r,g);const y=O.useRef(!1);O.useInsertionEffect(()=>{m&&y.current&&m.update(t,u)});const b=t[tz],_=O.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return JL(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),_.current&&m.animationState&&m.animationState.animateChanges())}),O.useEffect(()=>{m&&(!_.current&&m.animationState&&m.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),_.current=!1),m.enteringChildren=void 0)}),m}function fW(n,e,t,i){const{layoutId:r,layout:a,drag:o,dragConstraints:u,layoutScroll:f,layoutRoot:d,layoutCrossfade:m}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:iz(n.parent)),n.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!o||u&&Pp(u),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:f,layoutRoot:d})}function iz(n){if(n)return n.options.allowProjection!==!1?n.projection:iz(n.parent)}function XE(n,{forwardMotionProps:e=!1}={},t,i){t&&IX(t);const r=Dw(n)?sW:aW;function a(u,f){let d;const m={...O.useContext(Tw),...u,layoutId:hW(u)},{isStatic:g}=m,y=GX(u),b=r(u,g);if(!g&&iw){dW();const _=pW(m);d=_.MeasureLayout,y.visualElement=cW(n,b,m,i,_.ProjectionNode)}return Ye.jsxs(ES.Provider,{value:y,children:[d&&y.visualElement?Ye.jsx(d,{visualElement:y.visualElement,...m}):null,nW(n,u,lW(b,y.visualElement,f),b,g,e)]})}a.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const o=O.forwardRef(a);return o[oW]=n,o}function hW({layoutId:n}){const e=O.useContext(tw).id;return e&&n!==void 0?e+"-"+n:n}function dW(n,e){O.useContext(jU).strict}function pW(n){const{drag:e,layout:t}=em;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function mW(n,e){if(typeof Proxy>"u")return XE;const t=new Map,i=(a,o)=>XE(a,o,n,e),r=(a,o)=>i(a,o);return new Proxy(r,{get:(a,o)=>o==="create"?i:(t.has(o)||t.set(o,XE(o,void 0,n,e)),t.get(o))})}function rz({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function gW({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function vW(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function WE(n){return n===void 0||n===1}function yT({scale:n,scaleX:e,scaleY:t}){return!WE(n)||!WE(e)||!WE(t)}function Eh(n){return yT(n)||az(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function az(n){return w3(n.x)||w3(n.y)}function w3(n){return n&&n!=="0%"}function x_(n,e,t){const i=n-t,r=e*i;return t+r}function C3(n,e,t,i,r){return r!==void 0&&(n=x_(n,r,i)),x_(n,t,i)+e}function xT(n,e=0,t=1,i,r){n.min=C3(n.min,e,t,i,r),n.max=C3(n.max,e,t,i,r)}function sz(n,{x:e,y:t}){xT(n.x,e.translate,e.scale,e.originPoint),xT(n.y,t.translate,t.scale,t.originPoint)}const R3=.999999999999,D3=1.0000000000001;function yW(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let a,o;for(let u=0;u<r;u++){a=t[u],o=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Up(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,sz(n,o)),i&&Eh(a.latestValues)&&Up(n,a.latestValues))}e.x<D3&&e.x>R3&&(e.x=1),e.y<D3&&e.y>R3&&(e.y=1)}function Lp(n,e){n.min=n.min+e,n.max=n.max+e}function O3(n,e,t,i,r=.5){const a=bi(n.min,n.max,r);xT(n,e,t,a,i)}function Up(n,e){O3(n.x,e.x,e.scaleX,e.scale,e.originX),O3(n.y,e.y,e.scaleY,e.scale,e.originY)}function oz(n,e){return rz(vW(n.getBoundingClientRect(),e))}function xW(n,e,t){const i=oz(n,t),{scroll:r}=e;return r&&(Lp(i.x,r.offset.x),Lp(i.y,r.offset.y)),i}const N3=()=>({translate:0,scale:1,origin:0,originPoint:0}),zp=()=>({x:N3(),y:N3()}),P3=()=>({min:0,max:0}),Hi=()=>({x:P3(),y:P3()}),bT={current:null},lz={current:!1};function bW(){if(lz.current=!0,!!iw)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>bT.current=n.matches;n.addEventListener("change",e),e()}else bT.current=!1}const _W=new WeakMap;function SW(n,e,t){for(const i in e){const r=e[i],a=t[i];if(Yr(r))n.addValue(i,r);else if(Yr(a))n.addValue(i,Jp(r,{owner:n}));else if(a!==r)if(n.hasValue(i)){const o=n.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=n.getStaticValue(i);n.addValue(i,Jp(o!==void 0?o:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const L3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class EW{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:a,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=ja.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,ci.render(this.render,!1,!0))};const{latestValues:f,renderState:d}=o;this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=TS(t),this.isVariantNode=WU(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(t,{},this);for(const y in g){const b=g[y];f[y]!==void 0&&Yr(b)&&b.set(f[y])}}mount(e){this.current=e,_W.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),lz.current||bW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bT.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),tf(this.notifyUpdate),tf(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=hm.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ci.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in em){const t=em[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<L3.length;i++){const r=L3[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,o=e[a];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=SW(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Jp(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(eU(i)||nU(i))?i=parseFloat(i):!NX(i)&&nf.test(t)&&(i=BU(e,t)),this.setBaseTarget(e,Yr(i)?i.get():i)),Yr(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const a=Ow(this.props,t,this.presenceContext?.custom);a&&(i=a[e])}if(t&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Yr(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new lw),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Ew.render(this.render)}}class uz extends EW{constructor(){super(...arguments),this.KeyframeResolver=bX}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yr(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function cz(n,{style:e,vars:t},i,r){const a=n.style;let o;for(o in e)a[o]=e[o];r?.applyProjectionStyles(a,i);for(o in t)a.setProperty(o,t[o])}function MW(n){return window.getComputedStyle(n)}class TW extends uz{constructor(){super(...arguments),this.type="html",this.renderInstance=cz}readValueFromInstance(e,t){if(hm.has(t))return this.projection?.isProjecting?fT(t):Fj(e,t);{const i=MW(e),r=(fw(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return oz(e,t)}build(e,t,i){Cw(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Nw(e,t,i)}}const fz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function AW(n,e,t,i){cz(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(fz.has(r)?r:Pw(r),e.attrs[r])}class wW extends uz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hi}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(hm.has(t)){const i=zU(t);return i&&i.default||0}return t=fz.has(t)?t:Pw(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return ez(e,t,i)}build(e,t,i){KU(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,r){AW(e,t,i,r)}mount(e){this.isSVGTag=QU(e.tagName),super.mount(e)}}const CW=(n,e)=>Dw(n)?new wW(e):new TW(e,{allowProjection:n!==O.Fragment});function Hp(n,e,t){const i=n.getProps();return Ow(i,e,t!==void 0?t:i.custom,n)}const _T=n=>Array.isArray(n);function RW(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Jp(t))}function DW(n){return _T(n)?n[n.length-1]||0:n}function OW(n,e){const t=Hp(n,e);let{transitionEnd:i={},transition:r={},...a}=t||{};a={...a,...i};for(const o in a){const u=DW(a[o]);RW(n,o,u)}}function NW(n){return!!(Yr(n)&&n.add)}function ST(n,e){const t=n.getValue("willChange");if(NW(t))return t.add(e);if(!t&&Lu.WillChange){const i=new Lu.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function hz(n){return n.props[tz]}const PW=n=>n!==null;function LW(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(PW),a=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[a]}const UW={type:"spring",stiffness:500,damping:25,restSpeed:10},zW=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),BW={type:"keyframes",duration:.8},IW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},FW=(n,{keyframes:e})=>e.length>2?BW:hm.has(n)?n.startsWith("scale")?zW(e[1]):UW:IW;function VW({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:o,repeatDelay:u,from:f,elapsed:d,...m}){return!!Object.keys(m).length}const Lw=(n,e,t,i={},r,a)=>o=>{const u=_w(i,n)||{},f=u.delay||i.delay||0;let{elapsed:d=0}=i;d=d-Ml(f);const m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-d,onUpdate:y=>{e.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:a?void 0:r};VW(u)||Object.assign(m,FW(n,m)),m.duration&&(m.duration=Ml(m.duration)),m.repeatDelay&&(m.repeatDelay=Ml(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(gT(m),m.delay===0&&(g=!0)),(Lu.instantAnimations||Lu.skipAnimations)&&(g=!0,gT(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,g&&!a&&e.get()!==void 0){const y=LW(m.keyframes,u);if(y!==void 0){ci.update(()=>{m.onUpdate(y),m.onComplete()});return}}return u.isSync?new xw(m):new lX(m)};function HW({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function dz(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:o,...u}=e;i&&(a=i);const f=[],d=r&&n.animationState&&n.animationState.getState()[r];for(const m in u){const g=n.getValue(m,n.latestValues[m]??null),y=u[m];if(y===void 0||d&&HW(d,m))continue;const b={delay:t,..._w(a||{},m)},_=g.get();if(_!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===_&&!b.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const S=hz(n);if(S){const C=window.MotionHandoffAnimation(S,m,ci);C!==null&&(b.startTime=C,A=!0)}}ST(n,m),g.start(Lw(m,g,y,n.shouldReduceMotion&&PU.has(m)?{type:!1}:b,n,A));const T=g.animation;T&&f.push(T)}return o&&Promise.all(f).then(()=>{ci.update(()=>{o&&OW(n,o)})}),f}function pz(n,e,t,i=0,r=1){const a=Array.from(n).sort((d,m)=>d.sortNodePosition(m)).indexOf(e),o=n.size,u=(o-1)*i;return typeof t=="function"?t(a,o):r===1?a*i:u-a*i}function ET(n,e,t={}){const i=Hp(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const a=i?()=>Promise.all(dz(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:d=0,staggerChildren:m,staggerDirection:g}=r;return kW(n,e,f,d,m,g,t)}:()=>Promise.resolve(),{when:u}=r;if(u){const[f,d]=u==="beforeChildren"?[a,o]:[o,a];return f().then(()=>d())}else return Promise.all([a(),o(t.delay)])}function kW(n,e,t=0,i=0,r=0,a=1,o){const u=[];for(const f of n.variantChildren)f.notify("AnimationStart",e),u.push(ET(f,e,{...o,delay:t+(typeof i=="function"?0:i)+pz(n.variantChildren,f,i,r,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(u)}function GW(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(a=>ET(n,a,t));i=Promise.all(r)}else if(typeof e=="string")i=ET(n,e,t);else{const r=typeof e=="function"?Hp(n,e,t.custom):e;i=Promise.all(dz(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function mz(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const $W=ww.length;function gz(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?gz(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<$W;t++){const i=ww[t],r=n.props[i];(Z0(r)||r===!1)&&(e[i]=r)}return e}const jW=[...Aw].reverse(),XW=Aw.length;function WW(n){return e=>Promise.all(e.map(({animation:t,options:i})=>GW(n,t,i)))}function qW(n){let e=WW(n),t=U3(),i=!0;const r=f=>(d,m)=>{const g=Hp(n,m,f==="exit"?n.presenceContext?.custom:void 0);if(g){const{transition:y,transitionEnd:b,..._}=g;d={...d,..._,...b}}return d};function a(f){e=f(n)}function o(f){const{props:d}=n,m=gz(n.parent)||{},g=[],y=new Set;let b={},_=1/0;for(let T=0;T<XW;T++){const S=jW[T],C=t[S],D=d[S]!==void 0?d[S]:m[S],N=Z0(D),z=S===f?C.isActive:null;z===!1&&(_=T);let U=D===m[S]&&D!==d[S]&&N;if(U&&i&&n.manuallyAnimateOnMount&&(U=!1),C.protectedKeys={...b},!C.isActive&&z===null||!D&&!C.prevProp||MS(D)||typeof D=="boolean")continue;const I=YW(C.prevProp,D);let V=I||S===f&&C.isActive&&!U&&N||T>_&&N,B=!1;const L=Array.isArray(D)?D:[D];let W=L.reduce(r(S),{});z===!1&&(W={});const{prevResolvedValues:oe={}}=C,ee={...oe,...W},he=Y=>{V=!0,y.has(Y)&&(B=!0,y.delete(Y)),C.needsAnimating[Y]=!0;const K=n.getValue(Y);K&&(K.liveStyle=!1)};for(const Y in ee){const K=W[Y],ue=oe[Y];if(b.hasOwnProperty(Y))continue;let G=!1;_T(K)&&_T(ue)?G=!mz(K,ue):G=K!==ue,G?K!=null?he(Y):y.add(Y):K!==void 0&&y.has(Y)?he(Y):C.protectedKeys[Y]=!0}C.prevProp=D,C.prevResolvedValues=W,C.isActive&&(b={...b,...W}),i&&n.blockInitialAnimation&&(V=!1);const de=U&&I;V&&(!de||B)&&g.push(...L.map(Y=>{const K={type:S};if(typeof Y=="string"&&i&&!de&&n.manuallyAnimateOnMount&&n.parent){const{parent:ue}=n,G=Hp(ue,Y);if(ue.enteringChildren&&G){const{delayChildren:te}=G.transition||{};K.delay=pz(ue.enteringChildren,n,te)}}return{animation:Y,options:K}}))}if(y.size){const T={};if(typeof d.initial!="boolean"){const S=Hp(n,Array.isArray(d.initial)?d.initial[0]:d.initial);S&&S.transition&&(T.transition=S.transition)}y.forEach(S=>{const C=n.getBaseTarget(S),D=n.getValue(S);D&&(D.liveStyle=!0),T[S]=C??null}),g.push({animation:T})}let A=!!g.length;return i&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(A=!1),i=!1,A?e(g):Promise.resolve()}function u(f,d){if(t[f].isActive===d)return Promise.resolve();n.variantChildren?.forEach(g=>g.animationState?.setActive(f,d)),t[f].isActive=d;const m=o(f);for(const g in t)t[g].protectedKeys={};return m}return{animateChanges:o,setActive:u,setAnimateFunction:a,getState:()=>t,reset:()=>{t=U3(),i=!0}}}function YW(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!mz(e,n):!1}function yh(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function U3(){return{animate:yh(!0),whileInView:yh(),whileHover:yh(),whileTap:yh(),whileDrag:yh(),whileFocus:yh(),exit:yh()}}class ff{constructor(e){this.isMounted=!1,this.node=e}update(){}}class KW extends ff{constructor(e){super(e),e.animationState||(e.animationState=qW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();MS(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let ZW=0;class QW extends ff{constructor(){super(...arguments),this.id=ZW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const JW={animation:{Feature:KW},exit:{Feature:QW}};function J0(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function bv(n){return{point:{x:n.pageX,y:n.pageY}}}const eq=n=>e=>Mw(e)&&n(e,bv(e));function b0(n,e,t,i){return J0(n,e,eq(t),i)}const vz=1e-4,tq=1-vz,nq=1+vz,yz=.01,iq=0-yz,rq=0+yz;function Sa(n){return n.max-n.min}function aq(n,e,t){return Math.abs(n-e)<=t}function z3(n,e,t,i=.5){n.origin=i,n.originPoint=bi(e.min,e.max,n.origin),n.scale=Sa(t)/Sa(e),n.translate=bi(t.min,t.max,n.origin)-n.originPoint,(n.scale>=tq&&n.scale<=nq||isNaN(n.scale))&&(n.scale=1),(n.translate>=iq&&n.translate<=rq||isNaN(n.translate))&&(n.translate=0)}function _0(n,e,t,i){z3(n.x,e.x,t.x,i?i.originX:void 0),z3(n.y,e.y,t.y,i?i.originY:void 0)}function B3(n,e,t){n.min=t.min+e.min,n.max=n.min+Sa(e)}function sq(n,e,t){B3(n.x,e.x,t.x),B3(n.y,e.y,t.y)}function I3(n,e,t){n.min=e.min-t.min,n.max=n.min+Sa(e)}function S0(n,e,t){I3(n.x,e.x,t.x),I3(n.y,e.y,t.y)}function Vs(n){return[n("x"),n("y")]}const xz=({current:n})=>n?n.ownerDocument.defaultView:null,F3=(n,e)=>Math.abs(n-e);function oq(n,e){const t=F3(n.x,e.x),i=F3(n.y,e.y);return Math.sqrt(t**2+i**2)}class bz{constructor(e,t,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=YE(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,_=oq(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!_)return;const{point:A}=y,{timestamp:T}=Or;this.history.push({...A,timestamp:T});const{onStart:S,onMove:C}=this.handlers;b||(S&&S(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=qE(b,this.transformPagePoint),ci.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:_,onSessionEnd:A,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=YE(y.type==="pointercancel"?this.lastMoveEventInfo:qE(b,this.transformPagePoint),this.history);this.startEvent&&_&&_(y,S),A&&A(y,S)},!Mw(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=o,this.contextWindow=r||window;const u=bv(e),f=qE(u,this.transformPagePoint),{point:d}=f,{timestamp:m}=Or;this.history=[{...d,timestamp:m}];const{onSessionStart:g}=t;g&&g(e,YE(f,this.history)),this.removeListeners=vv(b0(this.contextWindow,"pointermove",this.handlePointerMove),b0(this.contextWindow,"pointerup",this.handlePointerUp),b0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),tf(this.updatePoint)}}function qE(n,e){return e?{point:e(n.point)}:n}function V3(n,e){return{x:n.x-e.x,y:n.y-e.y}}function YE({point:n},e){return{point:n,delta:V3(n,_z(e)),offset:V3(n,lq(e)),velocity:uq(e,.1)}}function lq(n){return n[0]}function _z(n){return n[n.length-1]}function uq(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=_z(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>Ml(e)));)t--;if(!i)return{x:0,y:0};const a=Tl(r.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const o={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function cq(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?bi(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?bi(t,n,i.max):Math.min(n,t)),n}function H3(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function fq(n,{top:e,left:t,bottom:i,right:r}){return{x:H3(n.x,t,r),y:H3(n.y,e,i)}}function k3(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function hq(n,e){return{x:k3(n.x,e.x),y:k3(n.y,e.y)}}function dq(n,e){let t=.5;const i=Sa(n),r=Sa(e);return r>i?t=q0(e.min,e.max-i,n.min):i>r&&(t=q0(n.min,n.max-r,e.min)),Pu(0,1,t)}function pq(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const MT=.35;function mq(n=MT){return n===!1?n=0:n===!0&&(n=MT),{x:G3(n,"left","right"),y:G3(n,"top","bottom")}}function G3(n,e,t){return{min:$3(n,e),max:$3(n,t)}}function $3(n,e){return typeof n=="number"?n:n[e]||0}const gq=new WeakMap;class vq{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hi(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(bv(g).point)},o=(g,y)=>{const{drag:b,dragPropagation:_,onDragStart:A}=this.getProps();if(b&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=MX(b),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vs(S=>{let C=this.getAxisMotionValue(S).get()||0;if(Al.test(C)){const{projection:D}=this.visualElement;if(D&&D.layout){const N=D.layout.layoutBox[S];N&&(C=Sa(N)*(parseFloat(C)/100))}}this.originPoint[S]=C}),A&&ci.postRender(()=>A(g,y)),ST(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},u=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y;const{dragPropagation:b,dragDirectionLock:_,onDirectionLock:A,onDrag:T}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:S}=y;if(_&&this.currentDirection===null){this.currentDirection=yq(S),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",y.point,S),this.updateAxis("y",y.point,S),this.visualElement.render(),T&&T(g,y)},f=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y,this.stop(g,y),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Vs(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new bz(e,{onSessionStart:a,onStart:o,onMove:u,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:i,contextWindow:xz(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,r=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!i)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&ci.postRender(()=>u(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!tb(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=cq(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&Pp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=fq(i.layoutBox,e):this.constraints=!1,this.elastic=mq(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Vs(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=pq(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Pp(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=xW(i,r.root,this.visualElement.getTransformPagePoint());let o=hq(r.layout.layoutBox,a);if(t){const u=t(gW(o));this.hasMutatedConstraints=!!u,u&&(o=rz(u))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},d=Vs(m=>{if(!tb(m,t,this.currentDirection))return;let g=f&&f[m]||{};o&&(g={min:0,max:0});const y=r?200:1e6,b=r?40:1e7,_={type:"inertia",velocity:i?e[m]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(m,_)});return Promise.all(d).then(u)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return ST(this.visualElement,e),i.start(Lw(e,i,0,t,this.visualElement,!1))}stopAnimation(){Vs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vs(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Vs(t=>{const{drag:i}=this.getProps();if(!tb(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:u}=r.layout.layoutBox[t];a.set(e[t]-bi(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Pp(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Vs(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const f=u.get();r[o]=dq({min:f,max:f},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Vs(o=>{if(!tb(o,e,null))return;const u=this.getAxisMotionValue(o),{min:f,max:d}=this.constraints[o];u.set(bi(f,d,r[o]))})}addListeners(){if(!this.visualElement.current)return;gq.set(this.visualElement,this);const e=this.visualElement.current,t=b0(e,"pointerdown",f=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Pp(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ci.read(i);const o=J0(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d})=>{this.isDragging&&d&&(Vs(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=f[m].translate,g.set(g.get()+f[m].translate))}),this.visualElement.render())});return()=>{o(),t(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:o=MT,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:a,dragElastic:o,dragMomentum:u}}}function tb(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function yq(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class xq extends ff{constructor(e){super(e),this.removeGroupControls=js,this.removeListeners=js,this.controls=new vq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||js}unmount(){this.removeGroupControls(),this.removeListeners()}}const j3=n=>(e,t)=>{n&&ci.postRender(()=>n(e,t))};class bq extends ff{constructor(){super(...arguments),this.removePointerDownListener=js}onPointerDown(e){this.session=new bz(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xz(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:j3(e),onStart:j3(t),onMove:i,onEnd:(a,o)=>{delete this.session,r&&ci.postRender(()=>r(a,o))}}}mount(){this.removePointerDownListener=b0(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _b={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function X3(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Wg={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(jt.test(n))n=parseFloat(n);else return n;const t=X3(n,e.target.x),i=X3(n,e.target.y);return`${t}% ${i}%`}},_q={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=nf.parse(n);if(r.length>5)return i;const a=nf.createTransformer(n),o=typeof r[0]!="number"?1:0,u=t.x.scale*e.x,f=t.y.scale*e.y;r[0+o]/=u,r[1+o]/=f;const d=bi(u,f,.5);return typeof r[2+o]=="number"&&(r[2+o]/=d),typeof r[3+o]=="number"&&(r[3+o]/=d),a(r)}};let KE=!1;class Sq extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:a}=e;$X(Eq),a&&(t.group&&t.group.add(a),i&&i.register&&r&&i.register(a),KE&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),_b.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:a}=this.props,{projection:o}=i;return o&&(o.isPresent=a,KE=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||ci.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ew.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;KE=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Sz(n){const[e,t]=$U(),i=O.useContext(tw);return Ye.jsx(Sq,{...n,layoutGroup:i,switchLayoutGroup:O.useContext(nz),isPresent:e,safeToRemove:t})}const Eq={borderRadius:{...Wg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wg,borderTopRightRadius:Wg,borderBottomLeftRadius:Wg,borderBottomRightRadius:Wg,boxShadow:_q};function Mq(n,e,t){const i=Yr(n)?n:Jp(n);return i.start(Lw("",i,e,t)),i.animation}const Tq=(n,e)=>n.depth-e.depth;class Aq{constructor(){this.children=[],this.isDirty=!1}add(e){rw(this.children,e),this.isDirty=!0}remove(e){aw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Tq),this.isDirty=!1,this.children.forEach(e)}}function wq(n,e){const t=ja.now(),i=({timestamp:r})=>{const a=r-t;a>=e&&(tf(i),n(a-e))};return ci.setup(i,!0),()=>tf(i)}const Ez=["TopLeft","TopRight","BottomLeft","BottomRight"],Cq=Ez.length,W3=n=>typeof n=="string"?parseFloat(n):n,q3=n=>typeof n=="number"||jt.test(n);function Rq(n,e,t,i,r,a){r?(n.opacity=bi(0,t.opacity??1,Dq(i)),n.opacityExit=bi(e.opacity??1,0,Oq(i))):a&&(n.opacity=bi(e.opacity??1,t.opacity??1,i));for(let o=0;o<Cq;o++){const u=`border${Ez[o]}Radius`;let f=Y3(e,u),d=Y3(t,u);if(f===void 0&&d===void 0)continue;f||(f=0),d||(d=0),f===0||d===0||q3(f)===q3(d)?(n[u]=Math.max(bi(W3(f),W3(d),i),0),(Al.test(d)||Al.test(f))&&(n[u]+="%")):n[u]=d}(e.rotate||t.rotate)&&(n.rotate=bi(e.rotate||0,t.rotate||0,i))}function Y3(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Dq=Mz(0,.5,cU),Oq=Mz(.5,.95,js);function Mz(n,e,t){return i=>i<n?0:i>e?1:t(q0(n,e,i))}function K3(n,e){n.min=e.min,n.max=e.max}function Is(n,e){K3(n.x,e.x),K3(n.y,e.y)}function Z3(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function Q3(n,e,t,i,r){return n-=e,n=x_(n,1/t,i),r!==void 0&&(n=x_(n,1/r,i)),n}function Nq(n,e=0,t=1,i=.5,r,a=n,o=n){if(Al.test(e)&&(e=parseFloat(e),e=bi(o.min,o.max,e/100)-o.min),typeof e!="number")return;let u=bi(a.min,a.max,i);n===a&&(u-=e),n.min=Q3(n.min,e,t,u,r),n.max=Q3(n.max,e,t,u,r)}function J3(n,e,[t,i,r],a,o){Nq(n,e[t],e[i],e[r],e.scale,a,o)}const Pq=["x","scaleX","originX"],Lq=["y","scaleY","originY"];function eD(n,e,t,i){J3(n.x,e,Pq,t?t.x:void 0,i?i.x:void 0),J3(n.y,e,Lq,t?t.y:void 0,i?i.y:void 0)}function tD(n){return n.translate===0&&n.scale===1}function Tz(n){return tD(n.x)&&tD(n.y)}function nD(n,e){return n.min===e.min&&n.max===e.max}function Uq(n,e){return nD(n.x,e.x)&&nD(n.y,e.y)}function iD(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Az(n,e){return iD(n.x,e.x)&&iD(n.y,e.y)}function rD(n){return Sa(n.x)/Sa(n.y)}function aD(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class zq{constructor(){this.members=[]}add(e){rw(this.members,e),e.scheduleRender()}remove(e){if(aw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Bq(n,e,t){let i="";const r=n.x.translate/e.x,a=n.y.translate/e.y,o=t?.z||0;if((r||a||o)&&(i=`translate3d(${r}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:d,rotate:m,rotateX:g,rotateY:y,skewX:b,skewY:_}=t;d&&(i=`perspective(${d}px) ${i}`),m&&(i+=`rotate(${m}deg) `),g&&(i+=`rotateX(${g}deg) `),y&&(i+=`rotateY(${y}deg) `),b&&(i+=`skewX(${b}deg) `),_&&(i+=`skewY(${_}deg) `)}const u=n.x.scale*e.x,f=n.y.scale*e.y;return(u!==1||f!==1)&&(i+=`scale(${u}, ${f})`),i||"none"}const ZE=["","X","Y","Z"],Iq=1e3;let Fq=0;function QE(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function wz(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=hz(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",ci,!(r||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&wz(i)}function Cz({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},u=e?.()){this.id=Fq++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(kq),this.nodes.forEach(Xq),this.nodes.forEach(Wq),this.nodes.forEach(Gq)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new Aq)}addEventListener(o,u){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new lw),this.eventHandlers.get(o).add(u)}notifyListeners(o,...u){const f=this.eventHandlers.get(o);f&&f.notify(...u)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=GU(o)&&!DX(o),this.instance=o;const{layoutId:u,layout:f,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||u)&&(this.isLayoutDirty=!0),n){let m,g=0;const y=()=>this.root.updateBlockedByResize=!1;ci.read(()=>{g=window.innerWidth}),n(o,()=>{const b=window.innerWidth;b!==g&&(g=b,this.root.updateBlockedByResize=!0,m&&m(),m=wq(y,250),_b.hasAnimatedSinceResize&&(_b.hasAnimatedSinceResize=!1,this.nodes.forEach(lD)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||d.getDefaultTransition()||Qq,{onLayoutAnimationStart:A,onLayoutAnimationComplete:T}=d.getProps(),S=!this.targetLayout||!Az(this.targetLayout,b),C=!g&&y;if(this.options.layoutRoot||this.resumeFrom||C||g&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={..._w(_,"layout"),onPlay:A,onComplete:T};(d.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(m,C)}else g||lD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),tf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qq),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wz(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sD);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(oD);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(jq),this.nodes.forEach(Vq),this.nodes.forEach(Hq)):this.nodes.forEach(oD),this.clearAllSnapshots();const u=ja.now();Or.delta=Pu(0,1e3/60,u-Or.timestamp),Or.timestamp=u,Or.isProcessing=!0,VE.update.process(Or),VE.preRender.process(Or),VE.render.process(Or),Or.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ew.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($q),this.sharedNodes.forEach(Yq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ci.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ci.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Sa(this.snapshot.measuredBox.x)&&!Sa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Hi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(u=!1),u&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!Tz(this.projectionDelta),f=this.getTransformTemplate(),d=f?f(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;o&&this.instance&&(u||Eh(this.latestValues)||m)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return o&&(f=this.removeTransform(f)),Jq(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Hi();const u=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(eY))){const{scroll:d}=this.root;d&&(Lp(u.x,d.offset.x),Lp(u.y,d.offset.y))}return u}removeElementScroll(o){const u=Hi();if(Is(u,o),this.scroll?.wasRoot)return u;for(let f=0;f<this.path.length;f++){const d=this.path[f],{scroll:m,options:g}=d;d!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Is(u,o),Lp(u.x,m.offset.x),Lp(u.y,m.offset.y))}return u}applyTransform(o,u=!1){const f=Hi();Is(f,o);for(let d=0;d<this.path.length;d++){const m=this.path[d];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Up(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Eh(m.latestValues)&&Up(f,m.latestValues)}return Eh(this.latestValues)&&Up(f,this.latestValues),f}removeTransform(o){const u=Hi();Is(u,o);for(let f=0;f<this.path.length;f++){const d=this.path[f];if(!d.instance||!Eh(d.latestValues))continue;yT(d.latestValues)&&d.updateSnapshot();const m=Hi(),g=d.measurePageBox();Is(m,g),eD(u,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return Eh(this.latestValues)&&eD(u,this.latestValues),u}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Or.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(o||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=Or.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hi(),this.relativeTargetOrigin=Hi(),S0(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Is(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Hi(),this.targetWithTransforms=Hi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Is(this.target,this.layout.layoutBox),sz(this.target,this.targetDelta)):Is(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hi(),this.relativeTargetOrigin=Hi(),S0(this.relativeTargetOrigin,this.target,y.target),Is(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||yT(this.parent.latestValues)||az(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),u=!!this.resumingFrom||this!==o;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Or.timestamp&&(f=!1),f)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;Is(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;yW(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Hi());const{target:b}=o;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Z3(this.prevProjectionDelta.x,this.projectionDelta.x),Z3(this.prevProjectionDelta.y,this.projectionDelta.y)),_0(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!aD(this.projectionDelta.x,this.prevProjectionDelta.x)||!aD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zp(),this.projectionDelta=zp(),this.projectionDeltaWithTransform=zp()}setAnimationOrigin(o,u=!1){const f=this.snapshot,d=f?f.latestValues:{},m={...this.latestValues},g=zp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=Hi(),b=f?f.source:void 0,_=this.layout?this.layout.source:void 0,A=b!==_,T=this.getStack(),S=!T||T.members.length<=1,C=!!(A&&!S&&this.options.crossfade===!0&&!this.path.some(Zq));this.animationProgress=0;let D;this.mixTargetDelta=N=>{const z=N/1e3;uD(g.x,o.x,z),uD(g.y,o.y,z),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(S0(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Kq(this.relativeTarget,this.relativeTargetOrigin,y,z),D&&Uq(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=Hi()),Is(D,this.relativeTarget)),A&&(this.animationValues=m,Rq(m,d,this.latestValues,z,C,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(tf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ci.update(()=>{_b.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Jp(0)),this.currentAnimation=Mq(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Iq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:u,target:f,layout:d,latestValues:m}=o;if(!(!u||!f||!d)){if(this!==o&&this.layout&&d&&Rz(this.options.animationType,this.layout.layoutBox,d.layoutBox)){f=this.target||Hi();const g=Sa(this.layout.layoutBox.x);f.x.min=o.target.x.min,f.x.max=f.x.min+g;const y=Sa(this.layout.layoutBox.y);f.y.min=o.target.y.min,f.y.max=f.y.min+y}Is(u,f),Up(u,m),_0(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(o,u){this.sharedNodes.has(o)||this.sharedNodes.set(o,new zq),this.sharedNodes.get(o).add(u);const d=u.options.initialPromotionConfig;u.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(u):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:u,preserveFollowOpacity:f}={}){const d=this.getStack();d&&d.promote(this,f),o&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let u=!1;const{latestValues:f}=o;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const d={};f.z&&QE("z",o,d,this.animationValues);for(let m=0;m<ZE.length;m++)QE(`rotate${ZE[m]}`,o,d,this.animationValues),QE(`skew${ZE[m]}`,o,d,this.animationValues);o.render();for(const m in d)o.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);o.scheduleRender()}applyProjectionStyles(o,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=bb(u?.pointerEvents)||"",o.transform=f?f(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=bb(u?.pointerEvents)||""),this.hasProjected&&!Eh(this.latestValues)&&(o.transform=f?f({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=d.animationValues||d.latestValues;this.applyTransformsToTarget();let g=Bq(this.projectionDeltaWithTransform,this.treeScale,m);f&&(g=f(m,g)),o.transform=g;const{x:y,y:b}=this.projectionDelta;o.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,d.animationValues?o.opacity=d===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=d===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in Q0){if(m[_]===void 0)continue;const{correct:A,applyTo:T,isCSSVariable:S}=Q0[_],C=g==="none"?m[_]:A(m[_],d);if(T){const D=T.length;for(let N=0;N<D;N++)o[T[N]]=C}else S?this.options.visualElement.renderState.vars[_]=C:o[_]=C}this.options.layoutId&&(o.pointerEvents=d===this?bb(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(sD),this.root.sharedNodes.clear()}}}function Vq(n){n.updateLayout()}function Hq(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=n.layout,{animationType:r}=n.options,a=e.source!==n.layout.source;r==="size"?Vs(m=>{const g=a?e.measuredBox[m]:e.layoutBox[m],y=Sa(g);g.min=t[m].min,g.max=g.min+y}):Rz(r,e.layoutBox,t)&&Vs(m=>{const g=a?e.measuredBox[m]:e.layoutBox[m],y=Sa(t[m]);g.max=g.min+y,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[m].max=n.relativeTarget[m].min+y)});const o=zp();_0(o,t,e.layoutBox);const u=zp();a?_0(u,n.applyTransform(i,!0),e.measuredBox):_0(u,t,e.layoutBox);const f=!Tz(o);let d=!1;if(!n.resumeFrom){const m=n.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:y}=m;if(g&&y){const b=Hi();S0(b,e.layoutBox,g.layoutBox);const _=Hi();S0(_,t,y.layoutBox),Az(b,_)||(d=!0),m.options.layoutRoot&&(n.relativeTarget=_,n.relativeTargetOrigin=b,n.relativeParent=m)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:u,layoutDelta:o,hasLayoutChanged:f,hasRelativeLayoutChanged:d})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function kq(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Gq(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function $q(n){n.clearSnapshot()}function sD(n){n.clearMeasurements()}function oD(n){n.isLayoutDirty=!1}function jq(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function lD(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Xq(n){n.resolveTargetDelta()}function Wq(n){n.calcProjection()}function qq(n){n.resetSkewAndRotation()}function Yq(n){n.removeLeadSnapshot()}function uD(n,e,t){n.translate=bi(e.translate,0,t),n.scale=bi(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function cD(n,e,t,i){n.min=bi(e.min,t.min,i),n.max=bi(e.max,t.max,i)}function Kq(n,e,t,i){cD(n.x,e.x,t.x,i),cD(n.y,e.y,t.y,i)}function Zq(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Qq={duration:.45,ease:[.4,0,.1,1]},fD=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),hD=fD("applewebkit/")&&!fD("chrome/")?Math.round:js;function dD(n){n.min=hD(n.min),n.max=hD(n.max)}function Jq(n){dD(n.x),dD(n.y)}function Rz(n,e,t){return n==="position"||n==="preserve-aspect"&&!aq(rD(e),rD(t),.2)}function eY(n){return n!==n.root&&n.scroll?.wasRoot}const tY=Cz({attachResizeListener:(n,e)=>J0(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),JE={current:void 0},Dz=Cz({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!JE.current){const n=new tY({});n.mount(window),n.setOptions({layoutScroll:!0}),JE.current=n}return JE.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),nY={pan:{Feature:bq},drag:{Feature:xq,ProjectionNode:Dz,MeasureLayout:Sz}};function pD(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,a=i[r];a&&ci.postRender(()=>a(e,bv(e)))}class iY extends ff{mount(){const{current:e}=this.node;e&&(this.unmount=TX(e,(t,i)=>(pD(this.node,i,"Start"),r=>pD(this.node,r,"End"))))}unmount(){}}class rY extends ff{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vv(J0(this.node.current,"focus",()=>this.onFocus()),J0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mD(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),a=i[r];a&&ci.postRender(()=>a(e,bv(e)))}class aY extends ff{mount(){const{current:e}=this.node;e&&(this.unmount=RX(e,(t,i)=>(mD(this.node,i,"Start"),(r,{success:a})=>mD(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const TT=new WeakMap,eM=new WeakMap,sY=n=>{const e=TT.get(n.target);e&&e(n)},oY=n=>{n.forEach(sY)};function lY({root:n,...e}){const t=n||document;eM.has(t)||eM.set(t,{});const i=eM.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(oY,{root:n,...e})),i[r]}function uY(n,e,t){const i=lY(e);return TT.set(n,t),i.observe(n),()=>{TT.delete(n),i.unobserve(n)}}const cY={some:0,all:1};class fY extends ff{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:a}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:cY[r]},u=f=>{const{isIntersecting:d}=f;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),y=d?m:g;y&&y(f)};return uY(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(hY(e,t))&&this.startObserver()}unmount(){}}function hY({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const dY={inView:{Feature:fY},tap:{Feature:aY},focus:{Feature:rY},hover:{Feature:iY}},pY={layout:{ProjectionNode:Dz,MeasureLayout:Sz}},mY={...JW,...dY,...nY,...pY},Sb=mW(mY,CW),gY=(n,{root:e,rootMargin:t,threshold:i}={},r=[])=>{const a=O.useRef(null),o=O.useRef(null);return O.useCallback(f=>{a.current&&o.current&&(o.current.unobserve(a.current),o.current.disconnect(),o.current=null),f&&(o.current=new IntersectionObserver(n,{root:e,rootMargin:t,threshold:i}),o.current.observe(f),a.current=f)},[a,e,t,JSON.stringify(i),...r])},vY=({root:n,rootMargin:e,threshold:t,unobserveOnEnter:i,target:r,onEnter:a,onLeave:o,defaultInView:u}={},f=[])=>{const[d,m]=O.useState({inView:u||!1,entry:null,observer:null}),g=O.useCallback(([b],_)=>{const T=_.thresholds.some(S=>b.intersectionRatio>=S)&&b.isIntersecting;m({inView:T,entry:b,observer:_}),T&&i&&(_.unobserve(b.target),_.disconnect()),T?a?.(b,_):o?.(b,_)},[a,o,i]),y=gY(g,{root:n,rootMargin:e,threshold:t},[i,...f]);return O.useEffect(()=>{r?.current&&y(r.current)},[r,y]),[y,d.inView,d.entry,d.observer]};function Pi(){return Pi=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Pi.apply(null,arguments)}function yY(n,e,t){return Math.max(e,Math.min(n,t))}const Kr={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function gD(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function vD(n,e,t,i=.15){return i===0?yY(n,e,t):n<e?-gD(e-n,t-e,i)+e:n>t?+gD(n-t,t-e,i)+t:n}function xY(n,[e,t],[i,r]){const[[a,o],[u,f]]=n;return[vD(e,a,o,i),vD(t,u,f,r)]}function bY(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _Y(n){var e=bY(n,"string");return typeof e=="symbol"?e:String(e)}function Ha(n,e,t){return e=_Y(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function _i(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yD(Object(t),!0).forEach(function(i){Ha(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yD(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const Oz={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function xD(n){return n?n[0].toUpperCase()+n.slice(1):""}const SY=["enter","leave"];function EY(n=!1,e){return n&&!SY.includes(e)}function MY(n,e="",t=!1){const i=Oz[n],r=i&&i[e]||e;return"on"+xD(n)+xD(r)+(EY(t,r)?"Capture":"")}const TY=["gotpointercapture","lostpointercapture"];function AY(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const i=TY.includes(e)?"capturecapture":"capture",r=!!~e.indexOf(i);return r&&(e=e.replace("capture","")),{device:e,capture:r,passive:t}}function wY(n,e=""){const t=Oz[n],i=t&&t[e]||e;return n+i}function AS(n){return"touches"in n}function Nz(n){return AS(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function CY(n){return Array.from(n.touches).filter(e=>{var t,i;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(i=t.contains)===null||i===void 0?void 0:i.call(t,e.target))})}function RY(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function Pz(n){return AS(n)?RY(n)[0]:n}function DY(n){return CY(n).map(e=>e.identifier)}function tM(n){const e=Pz(n);return AS(n)?e.identifier:e.pointerId}function bD(n){const e=Pz(n);return[e.clientX,e.clientY]}function OY(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:i,metaKey:r,ctrlKey:a}=n;Object.assign(e,{shiftKey:t,altKey:i,metaKey:r,ctrlKey:a})}return e}function b_(n,...e){return typeof n=="function"?n(...e):n}function NY(){}function PY(...n){return n.length===0?NY:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function _D(n,e){return Object.assign({},e,n||{})}const LY=32;class UY{constructor(e,t,i){this.ctrl=e,this.args=t,this.key=i,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:i,args:r}=this;t[i]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,i=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=i.from?b_(i.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:i,shared:r}=this;t.args=this.args;let a=0;if(e&&(t.event=e,i.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,OY(e)),r.down=r.pressed=r.buttons%2===1||r.touches>0,a=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const U=t._delta.map(Math.abs);Kr.addTo(t._distance,U)}this.axisIntent&&this.axisIntent(e);const[o,u]=t._movement,[f,d]=i.threshold,{_step:m,values:g}=t;if(i.hasCustomTransform?(m[0]===!1&&(m[0]=Math.abs(o)>=f&&g[0]),m[1]===!1&&(m[1]=Math.abs(u)>=d&&g[1])):(m[0]===!1&&(m[0]=Math.abs(o)>=f&&Math.sign(o)*f),m[1]===!1&&(m[1]=Math.abs(u)>=d&&Math.sign(u)*d)),t.intentional=m[0]!==!1||m[1]!==!1,!t.intentional)return;const y=[0,0];if(i.hasCustomTransform){const[U,I]=g;y[0]=m[0]!==!1?U-m[0]:0,y[1]=m[1]!==!1?I-m[1]:0}else y[0]=m[0]!==!1?o-m[0]:0,y[1]=m[1]!==!1?u-m[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(y);const b=t.offset,_=t._active&&!t._blocked||t.active;_&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&("bounds"in i&&(t._bounds=b_(i.bounds,t)),this.setup&&this.setup()),t.movement=y,this.computeOffset()));const[A,T]=t.offset,[[S,C],[D,N]]=t._bounds;t.overflow=[A<S?-1:A>C?1:0,T<D?-1:T>N?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const z=t._active?i.rubberband||[0,0]:[0,0];if(t.offset=xY(t._bounds,t.offset,z),t.delta=Kr.sub(t.offset,b),this.computeMovement(),_&&(!t.last||a>LY)){t.delta=Kr.sub(t.offset,b);const U=t.delta.map(Math.abs);Kr.addTo(t.distance,U),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&a>0&&(t.velocity=[U[0]/a,U[1]/a],t.timeDelta=a)}}emit(){const e=this.state,t=this.shared,i=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!i.triggerAllEvents)return;const r=this.handler(_i(_i(_i({},t),e),{},{[this.aliasKey]:e.values}));r!==void 0&&(e.memo=r)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function zY([n,e],t){const i=Math.abs(n),r=Math.abs(e);if(i>r&&i>t)return"x";if(r>i&&r>t)return"y"}class BY extends UY{constructor(...e){super(...e),Ha(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Kr.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Kr.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,i=this.config;if(!t.axis&&e){const r=typeof i.axisThreshold=="object"?i.axisThreshold[Nz(e)]:i.axisThreshold;t.axis=zY(t._movement,r)}t._blocked=(i.lockDirection||!!i.axis)&&!t.axis||!!i.axis&&i.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const IY=n=>n,SD=.15,Lz={enabled(n=!0){return n},eventOptions(n,e,t){return _i(_i({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[SD,SD];case!1:return[0,0];default:return Kr.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return Kr.toVector(n)},transform(n,e,t){const i=n||t.shared.transform;return this.hasCustomTransform=!!i,i||IY},threshold(n){return Kr.toVector(n,0)}},FY=0,_v=_i(_i({},Lz),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=FY){return n},bounds(n={}){if(typeof n=="function")return a=>_v.bounds(n(a));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:i=-1/0,bottom:r=1/0}=n;return[[e,t],[i,r]]}}),ED={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class VY extends BY{constructor(...e){super(...e),Ha(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),i=e.currentTarget.getBoundingClientRect(),r={left:t.left-i.left+e.offset[0],right:t.right-i.right+e.offset[0],top:t.top-i.top+e.offset[1],bottom:t.bottom-i.bottom+e.offset[1]};e._bounds=_v.bounds(r)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,i=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const r=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(r&&r.size>1&&i._pointerActive)&&(this.start(e),this.setupPointer(e),i._pointerId=tM(e),i._pointerActive=!0,this.computeValues(bD(e)),this.computeInitial(),t.preventScrollAxis&&Nz(e)!=="mouse"?(i._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,i=this.config;if(!t._pointerActive)return;const r=tM(e);if(t._pointerId!==void 0&&r!==t._pointerId)return;const a=bD(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=Kr.sub(a,t._values),this.computeValues(a)),Kr.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(i.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===i.preventScrollAxis||i.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,i=this.config;if(!t._active||!t._pointerActive)return;const r=tM(e);if(t._pointerId!==void 0&&r!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[a,o]=t._distance;if(t.tap=a<=i.tapsThreshold&&o<=i.tapsThreshold,t.tap&&i.filterTaps)t._force=!0;else{const[u,f]=t._delta,[d,m]=t._movement,[g,y]=i.swipe.velocity,[b,_]=i.swipe.distance,A=i.swipe.duration;if(t.elapsedTime<A){const T=Math.abs(u/t.timeDelta),S=Math.abs(f/t.timeDelta);T>g&&Math.abs(d)>b&&(t.swipe[0]=Math.sign(u)),S>y&&Math.abs(m)>_&&(t.swipe[1]=Math.sign(f))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,i=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,i,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,HY(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=ED[e.key];if(t){const i=this.state,r=e.shiftKey?10:e.altKey?.1:1;this.start(e),i._delta=t(this.config.keyboardDisplacement,r),i._keyboardActive=!0,Kr.addTo(i._movement,i._delta),this.compute(e),this.emit()}}keyUp(e){e.key in ED&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function HY(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const Sv=typeof window<"u"&&window.document&&window.document.createElement;function Uz(){return Sv&&"ontouchstart"in window}function kY(){return Uz()||Sv&&window.navigator.maxTouchPoints>1}function GY(){return Sv&&"onpointerdown"in window}function $Y(){return Sv&&"exitPointerLock"in window.document}function jY(){try{return"constructor"in GestureEvent}catch{return!1}}const Hs={isBrowser:Sv,gesture:jY(),touch:Uz(),touchscreen:kY(),pointer:GY(),pointerLock:$Y()},XY=250,WY=180,qY=.5,YY=50,KY=250,ZY=10,MD={mouse:0,touch:0,pen:8},QY=_i(_i({},_v),{},{device(n,e,{pointer:{touch:t=!1,lock:i=!1,mouse:r=!1}={}}){return this.pointerLock=i&&Hs.pointerLock,Hs.touch&&t?"touch":this.pointerLock?"mouse":Hs.pointer&&!r?"pointer":Hs.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?XY:void 0,!(!Hs.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:i=1,keys:r=!0}={}}){return this.pointerButtons=i,this.keys=r,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:i=3,axis:r=void 0}){const a=Kr.toVector(n,t?i:r?1:0);return this.filterTaps=t,this.tapsThreshold=i,a},swipe({velocity:n=qY,distance:e=YY,duration:t=KY}={}){return{velocity:this.transform(Kr.toVector(n)),distance:this.transform(Kr.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return WY;case!1:return 0;default:return n}},axisThreshold(n){return n?_i(_i({},MD),n):MD},keyboardDisplacement(n=ZY){return n}});_i(_i({},Lz),{},{device(n,e,{shared:t,pointer:{touch:i=!1}={}}){if(t.target&&!Hs.touch&&Hs.gesture)return"gesture";if(Hs.touch&&i)return"touch";if(Hs.touchscreen){if(Hs.pointer)return"pointer";if(Hs.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:i={}}){const r=o=>{const u=_D(b_(t,o),{min:-1/0,max:1/0});return[u.min,u.max]},a=o=>{const u=_D(b_(i,o),{min:-1/0,max:1/0});return[u.min,u.max]};return typeof t!="function"&&typeof i!="function"?[r(),a()]:o=>[r(o),a(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",Kr.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});_i(_i({},_v),{},{mouseOnly:(n=!0)=>n});_i(_i({},_v),{},{mouseOnly:(n=!0)=>n});const zz=new Map,AT=new Map;function JY(n){zz.set(n.key,n.engine),AT.set(n.key,n.resolver)}const eK={key:"drag",engine:VY,resolver:QY};function tK(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function nK(n,e){if(n==null)return{};var t=tK(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}const iK={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=Hs.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},rK=["target","eventOptions","window","enabled","transform"];function Eb(n={},e){const t={};for(const[i,r]of Object.entries(e))switch(typeof r){case"function":t[i]=r.call(t,n[i],i,n);break;case"object":t[i]=Eb(n[i],r);break;case"boolean":r&&(t[i]=n[i]);break}return t}function aK(n,e,t={}){const i=n,{target:r,eventOptions:a,window:o,enabled:u,transform:f}=i,d=nK(i,rK);if(t.shared=Eb({target:r,eventOptions:a,window:o,enabled:u,transform:f},iK),e){const m=AT.get(e);t[e]=Eb(_i({shared:t.shared},d),m)}else for(const m in d){const g=AT.get(m);g&&(t[m]=Eb(_i({shared:t.shared},d[m]),g))}return t}class Bz{constructor(e,t){Ha(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,i,r,a){const o=this._listeners,u=wY(t,i),f=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},d=_i(_i({},f),a);e.addEventListener(u,r,d);const m=()=>{e.removeEventListener(u,r,d),o.delete(m)};return o.add(m),m}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class sK{constructor(){Ha(this,"_timeouts",new Map)}add(e,t,i=140,...r){this.remove(e),this._timeouts.set(e,window.setTimeout(t,i,...r))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class oK{constructor(e){Ha(this,"gestures",new Set),Ha(this,"_targetEventStore",new Bz(this)),Ha(this,"gestureEventStores",{}),Ha(this,"gestureTimeoutStores",{}),Ha(this,"handlers",{}),Ha(this,"config",{}),Ha(this,"pointerIds",new Set),Ha(this,"touchIds",new Set),Ha(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),lK(this,e)}setEventIds(e){if(AS(e))return this.touchIds=new Set(DY(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=aK(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,i={};let r;if(!(t.target&&(r=t.target(),!r))){if(t.enabled){for(const o of this.gestures){const u=this.config[o],f=TD(i,u.eventOptions,!!r);if(u.enabled){const d=zz.get(o);new d(this,e,o).bind(f)}}const a=TD(i,t.eventOptions,!!r);for(const o in this.nativeHandlers)a(o,"",u=>this.nativeHandlers[o](_i(_i({},this.state.shared),{},{event:u,args:e})),void 0,!0)}for(const a in i)i[a]=PY(...i[a]);if(!r)return i;for(const a in i){const{device:o,capture:u,passive:f}=AY(a);this._targetEventStore.add(r,o,"",i[a],{capture:u,passive:f})}}}}function Tp(n,e){n.gestures.add(e),n.gestureEventStores[e]=new Bz(n,e),n.gestureTimeoutStores[e]=new sK}function lK(n,e){e.drag&&Tp(n,"drag"),e.wheel&&Tp(n,"wheel"),e.scroll&&Tp(n,"scroll"),e.move&&Tp(n,"move"),e.pinch&&Tp(n,"pinch"),e.hover&&Tp(n,"hover")}const TD=(n,e,t)=>(i,r,a,o={},u=!1)=>{var f,d;const m=(f=o.capture)!==null&&f!==void 0?f:e.capture,g=(d=o.passive)!==null&&d!==void 0?d:e.passive;let y=u?i:MY(i,r,m);t&&g&&(y+="Passive"),n[y]=n[y]||[],n[y].push(a)};function uK(n,e={},t,i){const r=J.useMemo(()=>new oK(n),[]);if(r.applyHandlers(n,i),r.applyConfig(e,t),J.useEffect(r.effect.bind(r)),J.useEffect(()=>r.clean.bind(r),[]),e.target===void 0)return r.bind.bind(r)}function cK(n,e){return JY(eK),uK({drag:n},e||{},"drag")}var fK=Object.defineProperty,hK=(n,e,t)=>e in n?fK(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,dK=(n,e,t)=>(hK(n,e+"",t),t);class pK{constructor(){dK(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,o=r.length;a<o;a++)r[a].call(this,e);e.target=null}}}var mK=Object.defineProperty,gK=(n,e,t)=>e in n?mK(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Bt=(n,e,t)=>(gK(n,typeof e!="symbol"?e+"":e,t),t);const nb=new Kh,AD=new mu,vK=Math.cos(70*(Math.PI/180)),wD=(n,e)=>(n%e+e)%e;let yK=class extends pK{constructor(e,t){super(),Bt(this,"object"),Bt(this,"domElement"),Bt(this,"enabled",!0),Bt(this,"target",new Q),Bt(this,"minDistance",0),Bt(this,"maxDistance",1/0),Bt(this,"minZoom",0),Bt(this,"maxZoom",1/0),Bt(this,"minPolarAngle",0),Bt(this,"maxPolarAngle",Math.PI),Bt(this,"minAzimuthAngle",-1/0),Bt(this,"maxAzimuthAngle",1/0),Bt(this,"enableDamping",!1),Bt(this,"dampingFactor",.05),Bt(this,"enableZoom",!0),Bt(this,"zoomSpeed",1),Bt(this,"enableRotate",!0),Bt(this,"rotateSpeed",1),Bt(this,"enablePan",!0),Bt(this,"panSpeed",1),Bt(this,"screenSpacePanning",!0),Bt(this,"keyPanSpeed",7),Bt(this,"zoomToCursor",!1),Bt(this,"autoRotate",!1),Bt(this,"autoRotateSpeed",2),Bt(this,"reverseOrbit",!1),Bt(this,"reverseHorizontalOrbit",!1),Bt(this,"reverseVerticalOrbit",!1),Bt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Bt(this,"mouseButtons",{LEFT:xh.ROTATE,MIDDLE:xh.DOLLY,RIGHT:xh.PAN}),Bt(this,"touches",{ONE:bh.ROTATE,TWO:bh.DOLLY_PAN}),Bt(this,"target0"),Bt(this,"position0"),Bt(this,"zoom0"),Bt(this,"_domElementKeyEvents",null),Bt(this,"getPolarAngle"),Bt(this,"getAzimuthalAngle"),Bt(this,"setPolarAngle"),Bt(this,"setAzimuthalAngle"),Bt(this,"getDistance"),Bt(this,"getZoomScale"),Bt(this,"listenToKeyEvents"),Bt(this,"stopListenToKeyEvents"),Bt(this,"saveState"),Bt(this,"reset"),Bt(this,"update"),Bt(this,"connect"),Bt(this,"dispose"),Bt(this,"dollyIn"),Bt(this,"dollyOut"),Bt(this,"getScale"),Bt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=ie=>{let xe=wD(ie,2*Math.PI),Ke=m.phi;Ke<0&&(Ke+=2*Math.PI),xe<0&&(xe+=2*Math.PI);let re=Math.abs(xe-Ke);2*Math.PI-re<re&&(xe<Ke?xe+=2*Math.PI:Ke+=2*Math.PI),g.phi=xe-Ke,i.update()},this.setAzimuthalAngle=ie=>{let xe=wD(ie,2*Math.PI),Ke=m.theta;Ke<0&&(Ke+=2*Math.PI),xe<0&&(xe+=2*Math.PI);let re=Math.abs(xe-Ke);2*Math.PI-re<re&&(xe<Ke?xe+=2*Math.PI:Ke+=2*Math.PI),g.theta=xe-Ke,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=ie=>{ie.addEventListener("keydown",Oe),this._domElementKeyEvents=ie},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Oe),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),f=u.NONE},this.update=(()=>{const ie=new Q,xe=new Q(0,1,0),Ke=new Zr().setFromUnitVectors(e.up,xe),re=Ke.clone().invert(),Je=new Q,ke=new Zr,lt=2*Math.PI;return function(){const Fe=i.object.position;Ke.setFromUnitVectors(e.up,xe),re.copy(Ke).invert(),ie.copy(Fe).sub(i.target),ie.applyQuaternion(Ke),m.setFromVector3(ie),i.autoRotate&&f===u.NONE&&he(oe()),i.enableDamping?(m.theta+=g.theta*i.dampingFactor,m.phi+=g.phi*i.dampingFactor):(m.theta+=g.theta,m.phi+=g.phi);let ut=i.minAzimuthAngle,Tt=i.maxAzimuthAngle;isFinite(ut)&&isFinite(Tt)&&(ut<-Math.PI?ut+=lt:ut>Math.PI&&(ut-=lt),Tt<-Math.PI?Tt+=lt:Tt>Math.PI&&(Tt-=lt),ut<=Tt?m.theta=Math.max(ut,Math.min(Tt,m.theta)):m.theta=m.theta>(ut+Tt)/2?Math.max(ut,m.theta):Math.min(Tt,m.theta)),m.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,m.phi)),m.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(b,i.dampingFactor):i.target.add(b),i.zoomToCursor&&B||i.object.isOrthographicCamera?m.radius=ye(m.radius):m.radius=ye(m.radius*y),ie.setFromSpherical(m),ie.applyQuaternion(re),Fe.copy(i.target).add(ie),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(g.theta*=1-i.dampingFactor,g.phi*=1-i.dampingFactor,b.multiplyScalar(1-i.dampingFactor)):(g.set(0,0,0),b.set(0,0,0));let ln=!1;if(i.zoomToCursor&&B){let Qt=null;if(i.object instanceof ki&&i.object.isPerspectiveCamera){const Ei=ie.length();Qt=ye(Ei*y);const ei=Ei-Qt;i.object.position.addScaledVector(I,ei),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Ei=new Q(V.x,V.y,0);Ei.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/y)),i.object.updateProjectionMatrix(),ln=!0;const ei=new Q(V.x,V.y,0);ei.unproject(i.object),i.object.position.sub(ei).add(Ei),i.object.updateMatrixWorld(),Qt=ie.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Qt!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Qt).add(i.object.position):(nb.origin.copy(i.object.position),nb.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(nb.direction))<vK?e.lookAt(i.target):(AD.setFromNormalAndCoplanarPoint(i.object.up,i.target),nb.intersectPlane(AD,i.target))))}else i.object instanceof Yc&&i.object.isOrthographicCamera&&(ln=y!==1,ln&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/y)),i.object.updateProjectionMatrix()));return y=1,B=!1,ln||Je.distanceToSquared(i.object.position)>d||8*(1-ke.dot(i.object.quaternion))>d?(i.dispatchEvent(r),Je.copy(i.object.position),ke.copy(i.object.quaternion),ln=!1,!0):!1}})(),this.connect=ie=>{i.domElement=ie,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",dt),i.domElement.addEventListener("pointerdown",wt),i.domElement.addEventListener("pointercancel",H),i.domElement.addEventListener("wheel",Ne)},this.dispose=()=>{var ie,xe,Ke,re,Je,ke;i.domElement&&(i.domElement.style.touchAction="auto"),(ie=i.domElement)==null||ie.removeEventListener("contextmenu",dt),(xe=i.domElement)==null||xe.removeEventListener("pointerdown",wt),(Ke=i.domElement)==null||Ke.removeEventListener("pointercancel",H),(re=i.domElement)==null||re.removeEventListener("wheel",Ne),(Je=i.domElement)==null||Je.ownerDocument.removeEventListener("pointermove",j),(ke=i.domElement)==null||ke.ownerDocument.removeEventListener("pointerup",H),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Oe)};const i=this,r={type:"change"},a={type:"start"},o={type:"end"},u={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let f=u.NONE;const d=1e-6,m=new WM,g=new WM;let y=1;const b=new Q,_=new Ie,A=new Ie,T=new Ie,S=new Ie,C=new Ie,D=new Ie,N=new Ie,z=new Ie,U=new Ie,I=new Q,V=new Ie;let B=!1;const L=[],W={};function oe(){return 2*Math.PI/60/60*i.autoRotateSpeed}function ee(){return Math.pow(.95,i.zoomSpeed)}function he(ie){i.reverseOrbit||i.reverseHorizontalOrbit?g.theta+=ie:g.theta-=ie}function de(ie){i.reverseOrbit||i.reverseVerticalOrbit?g.phi+=ie:g.phi-=ie}const k=(()=>{const ie=new Q;return function(Ke,re){ie.setFromMatrixColumn(re,0),ie.multiplyScalar(-Ke),b.add(ie)}})(),Y=(()=>{const ie=new Q;return function(Ke,re){i.screenSpacePanning===!0?ie.setFromMatrixColumn(re,1):(ie.setFromMatrixColumn(re,0),ie.crossVectors(i.object.up,ie)),ie.multiplyScalar(Ke),b.add(ie)}})(),K=(()=>{const ie=new Q;return function(Ke,re){const Je=i.domElement;if(Je&&i.object instanceof ki&&i.object.isPerspectiveCamera){const ke=i.object.position;ie.copy(ke).sub(i.target);let lt=ie.length();lt*=Math.tan(i.object.fov/2*Math.PI/180),k(2*Ke*lt/Je.clientHeight,i.object.matrix),Y(2*re*lt/Je.clientHeight,i.object.matrix)}else Je&&i.object instanceof Yc&&i.object.isOrthographicCamera?(k(Ke*(i.object.right-i.object.left)/i.object.zoom/Je.clientWidth,i.object.matrix),Y(re*(i.object.top-i.object.bottom)/i.object.zoom/Je.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function ue(ie){i.object instanceof ki&&i.object.isPerspectiveCamera||i.object instanceof Yc&&i.object.isOrthographicCamera?y=ie:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function G(ie){ue(y/ie)}function te(ie){ue(y*ie)}function Se(ie){if(!i.zoomToCursor||!i.domElement)return;B=!0;const xe=i.domElement.getBoundingClientRect(),Ke=ie.clientX-xe.left,re=ie.clientY-xe.top,Je=xe.width,ke=xe.height;V.x=Ke/Je*2-1,V.y=-(re/ke)*2+1,I.set(V.x,V.y,1).unproject(i.object).sub(i.object.position).normalize()}function ye(ie){return Math.max(i.minDistance,Math.min(i.maxDistance,ie))}function se(ie){_.set(ie.clientX,ie.clientY)}function we(ie){Se(ie),N.set(ie.clientX,ie.clientY)}function Be(ie){S.set(ie.clientX,ie.clientY)}function je(ie){A.set(ie.clientX,ie.clientY),T.subVectors(A,_).multiplyScalar(i.rotateSpeed);const xe=i.domElement;xe&&(he(2*Math.PI*T.x/xe.clientHeight),de(2*Math.PI*T.y/xe.clientHeight)),_.copy(A),i.update()}function Xe(ie){z.set(ie.clientX,ie.clientY),U.subVectors(z,N),U.y>0?G(ee()):U.y<0&&te(ee()),N.copy(z),i.update()}function gt(ie){C.set(ie.clientX,ie.clientY),D.subVectors(C,S).multiplyScalar(i.panSpeed),K(D.x,D.y),S.copy(C),i.update()}function bt(ie){Se(ie),ie.deltaY<0?te(ee()):ie.deltaY>0&&G(ee()),i.update()}function Zt(ie){let xe=!1;switch(ie.code){case i.keys.UP:K(0,i.keyPanSpeed),xe=!0;break;case i.keys.BOTTOM:K(0,-i.keyPanSpeed),xe=!0;break;case i.keys.LEFT:K(i.keyPanSpeed,0),xe=!0;break;case i.keys.RIGHT:K(-i.keyPanSpeed,0),xe=!0;break}xe&&(ie.preventDefault(),i.update())}function Pt(){if(L.length==1)_.set(L[0].pageX,L[0].pageY);else{const ie=.5*(L[0].pageX+L[1].pageX),xe=.5*(L[0].pageY+L[1].pageY);_.set(ie,xe)}}function Mt(){if(L.length==1)S.set(L[0].pageX,L[0].pageY);else{const ie=.5*(L[0].pageX+L[1].pageX),xe=.5*(L[0].pageY+L[1].pageY);S.set(ie,xe)}}function Z(){const ie=L[0].pageX-L[1].pageX,xe=L[0].pageY-L[1].pageY,Ke=Math.sqrt(ie*ie+xe*xe);N.set(0,Ke)}function Qe(){i.enableZoom&&Z(),i.enablePan&&Mt()}function $e(){i.enableZoom&&Z(),i.enableRotate&&Pt()}function We(ie){if(L.length==1)A.set(ie.pageX,ie.pageY);else{const Ke=yt(ie),re=.5*(ie.pageX+Ke.x),Je=.5*(ie.pageY+Ke.y);A.set(re,Je)}T.subVectors(A,_).multiplyScalar(i.rotateSpeed);const xe=i.domElement;xe&&(he(2*Math.PI*T.x/xe.clientHeight),de(2*Math.PI*T.y/xe.clientHeight)),_.copy(A)}function Pe(ie){if(L.length==1)C.set(ie.pageX,ie.pageY);else{const xe=yt(ie),Ke=.5*(ie.pageX+xe.x),re=.5*(ie.pageY+xe.y);C.set(Ke,re)}D.subVectors(C,S).multiplyScalar(i.panSpeed),K(D.x,D.y),S.copy(C)}function rt(ie){const xe=yt(ie),Ke=ie.pageX-xe.x,re=ie.pageY-xe.y,Je=Math.sqrt(Ke*Ke+re*re);z.set(0,Je),U.set(0,Math.pow(z.y/N.y,i.zoomSpeed)),G(U.y),N.copy(z)}function He(ie){i.enableZoom&&rt(ie),i.enablePan&&Pe(ie)}function at(ie){i.enableZoom&&rt(ie),i.enableRotate&&We(ie)}function wt(ie){var xe,Ke;i.enabled!==!1&&(L.length===0&&((xe=i.domElement)==null||xe.ownerDocument.addEventListener("pointermove",j),(Ke=i.domElement)==null||Ke.ownerDocument.addEventListener("pointerup",H)),vt(ie),ie.pointerType==="touch"?st(ie):pe(ie))}function j(ie){i.enabled!==!1&&(ie.pointerType==="touch"?nt(ie):Me(ie))}function H(ie){var xe,Ke,re;Le(ie),L.length===0&&((xe=i.domElement)==null||xe.releasePointerCapture(ie.pointerId),(Ke=i.domElement)==null||Ke.ownerDocument.removeEventListener("pointermove",j),(re=i.domElement)==null||re.ownerDocument.removeEventListener("pointerup",H)),i.dispatchEvent(o),f=u.NONE}function pe(ie){let xe;switch(ie.button){case 0:xe=i.mouseButtons.LEFT;break;case 1:xe=i.mouseButtons.MIDDLE;break;case 2:xe=i.mouseButtons.RIGHT;break;default:xe=-1}switch(xe){case xh.DOLLY:if(i.enableZoom===!1)return;we(ie),f=u.DOLLY;break;case xh.ROTATE:if(ie.ctrlKey||ie.metaKey||ie.shiftKey){if(i.enablePan===!1)return;Be(ie),f=u.PAN}else{if(i.enableRotate===!1)return;se(ie),f=u.ROTATE}break;case xh.PAN:if(ie.ctrlKey||ie.metaKey||ie.shiftKey){if(i.enableRotate===!1)return;se(ie),f=u.ROTATE}else{if(i.enablePan===!1)return;Be(ie),f=u.PAN}break;default:f=u.NONE}f!==u.NONE&&i.dispatchEvent(a)}function Me(ie){if(i.enabled!==!1)switch(f){case u.ROTATE:if(i.enableRotate===!1)return;je(ie);break;case u.DOLLY:if(i.enableZoom===!1)return;Xe(ie);break;case u.PAN:if(i.enablePan===!1)return;gt(ie);break}}function Ne(ie){i.enabled===!1||i.enableZoom===!1||f!==u.NONE&&f!==u.ROTATE||(ie.preventDefault(),i.dispatchEvent(a),bt(ie),i.dispatchEvent(o))}function Oe(ie){i.enabled===!1||i.enablePan===!1||Zt(ie)}function st(ie){switch(it(ie),L.length){case 1:switch(i.touches.ONE){case bh.ROTATE:if(i.enableRotate===!1)return;Pt(),f=u.TOUCH_ROTATE;break;case bh.PAN:if(i.enablePan===!1)return;Mt(),f=u.TOUCH_PAN;break;default:f=u.NONE}break;case 2:switch(i.touches.TWO){case bh.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Qe(),f=u.TOUCH_DOLLY_PAN;break;case bh.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;$e(),f=u.TOUCH_DOLLY_ROTATE;break;default:f=u.NONE}break;default:f=u.NONE}f!==u.NONE&&i.dispatchEvent(a)}function nt(ie){switch(it(ie),f){case u.TOUCH_ROTATE:if(i.enableRotate===!1)return;We(ie),i.update();break;case u.TOUCH_PAN:if(i.enablePan===!1)return;Pe(ie),i.update();break;case u.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;He(ie),i.update();break;case u.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;at(ie),i.update();break;default:f=u.NONE}}function dt(ie){i.enabled!==!1&&ie.preventDefault()}function vt(ie){L.push(ie)}function Le(ie){delete W[ie.pointerId];for(let xe=0;xe<L.length;xe++)if(L[xe].pointerId==ie.pointerId){L.splice(xe,1);return}}function it(ie){let xe=W[ie.pointerId];xe===void 0&&(xe=new Ie,W[ie.pointerId]=xe),xe.set(ie.pageX,ie.pageY)}function yt(ie){const xe=ie.pointerId===L[0].pointerId?L[1]:L[0];return W[xe.pointerId]}this.dollyIn=(ie=ee())=>{te(ie),i.update()},this.dollyOut=(ie=ee())=>{G(ie),i.update()},this.getScale=()=>y,this.setScale=ie=>{ue(ie),i.update()},this.getZoomScale=()=>ee(),t!==void 0&&this.connect(t),this.update()}};const xK=O.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:a=!1,onChange:o,onStart:u,onEnd:f,...d},m)=>{const g=pu(U=>U.invalidate),y=pu(U=>U.camera),b=pu(U=>U.gl),_=pu(U=>U.events),A=pu(U=>U.setEvents),T=pu(U=>U.set),S=pu(U=>U.get),C=pu(U=>U.performance),D=e||y,N=i||_.connected||b.domElement,z=O.useMemo(()=>new yK(D),[D]);return RL(()=>{z.enabled&&z.update()},-1),O.useEffect(()=>(a&&z.connect(a===!0?N:a),z.connect(N),()=>void z.dispose()),[a,N,t,z,g]),O.useEffect(()=>{const U=B=>{g(),t&&C.regress(),o&&o(B)},I=B=>{u&&u(B)},V=B=>{f&&f(B)};return z.addEventListener("change",U),z.addEventListener("start",I),z.addEventListener("end",V),()=>{z.removeEventListener("start",I),z.removeEventListener("end",V),z.removeEventListener("change",U)}},[o,u,f,z,g,A]),O.useEffect(()=>{if(n){const U=S().controls;return T({controls:z}),()=>T({controls:U})}},[n,z]),O.createElement("primitive",Pi({ref:m,object:z,enableDamping:r},d))});function bK(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function _K(...n){return e=>n.forEach(t=>bK(t,e))}const Iz=O.forwardRef((n,e)=>{const{children:t,...i}=n,r=O.Children.toArray(t),a=r.find(EK);if(a){const o=a.props.children,u=r.map(f=>f===a?O.Children.count(o)>1?O.Children.only(null):O.isValidElement(o)?o.props.children:null:f);return O.createElement(wT,Pi({},i,{ref:e}),O.isValidElement(o)?O.cloneElement(o,void 0,u):null)}return O.createElement(wT,Pi({},i,{ref:e}),t)});Iz.displayName="Slot";const wT=O.forwardRef((n,e)=>{const{children:t,...i}=n;return O.isValidElement(t)?O.cloneElement(t,{...MK(i,t.props),ref:_K(e,t.ref)}):O.Children.count(t)>1?O.Children.only(null):null});wT.displayName="SlotClone";const SK=({children:n})=>O.createElement(O.Fragment,null,n);function EK(n){return O.isValidElement(n)&&n.type===SK}function MK(n,e){const t={...e};for(const i in e){const r=n[i],a=e[i];/^on[A-Z]/.test(i)?r&&a?t[i]=(...u)=>{a(...u),r(...u)}:r&&(t[i]=r):i==="style"?t[i]={...r,...a}:i==="className"&&(t[i]=[r,a].filter(Boolean).join(" "))}return{...n,...t}}const TK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],AK=TK.reduce((n,e)=>{const t=O.forwardRef((i,r)=>{const{asChild:a,...o}=i,u=a?Iz:e;return O.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),O.createElement(u,Pi({},o,{ref:r}))});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{}),wK=O.forwardRef((n,e)=>{var t;const{container:i=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...r}=n;return i?z$.createPortal(O.createElement(AK.div,Pi({},r,{ref:e})),i):null}),CK=wK;var CD=Object.prototype.hasOwnProperty;function __(n,e){var t,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((i=n.length)===e.length)for(;i--&&__(n[i],e[i]););return i===-1}if(!t||typeof n=="object"){i=0;for(t in n)if(CD.call(n,t)&&++i&&!CD.call(e,t)||!(t in e)||!__(n[t],e[t]))return!1;return Object.keys(e).length===i}}return n!==n&&e!==e}function Fz(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!Object.is(n[t[i]],e[t[i]]))return!1;return!0}var wS=function(e,t,i,r){this.name=e,this.fn=t,this.args=i,this.modifiers=r};wS.prototype._test=function(e){var t=this.fn;try{kp(this.modifiers.slice(),t,this)(e)}catch{t=function(){return!1}}try{return kp(this.modifiers.slice(),t,this)(e)}catch{return!1}};wS.prototype._check=function(e){try{kp(this.modifiers.slice(),this.fn,this)(e)}catch{if(kp(this.modifiers.slice(),function(i){return i},this)(!1))return}if(!kp(this.modifiers.slice(),this.fn,this)(e))throw null};wS.prototype._testAsync=function(e){var t=this;return new Promise(function(i,r){Hz(t.modifiers.slice(),t.fn,t)(e).then(function(a){a?i(e):r(null)}).catch(function(a){return r(a)})})};function Vz(n,e){return e===void 0&&(e="simple"),typeof n=="object"?n[e]:n}function kp(n,e,t){if(n.length){var i=n.shift(),r=kp(n,e,t);return i.perform(r,t)}else return Vz(e)}function Hz(n,e,t){if(n.length){var i=n.shift(),r=Hz(n,e,t);return i.performAsync(r,t)}else return function(a){return Promise.resolve(Vz(e,"async")(a))}}var RK=function(e,t,i){this.name=e,this.perform=t,this.performAsync=i},Uw=function(n){function e(t,i,r,a){for(var o=[],u=arguments.length-4;u-- >0;)o[u]=arguments[u+4];n.call(this,o),n.captureStackTrace&&n.captureStackTrace(this,e),this.rule=t,this.value=i,this.cause=r,this.target=a}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e}(Error),Ol=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.chain=e,this.nextRuleModifiers=t};Ol.prototype._applyRule=function(e,t){var i=this;return function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return i.chain.push(new wS(t,e.apply(i,r),r,i.nextRuleModifiers)),i.nextRuleModifiers=[],i}};Ol.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new RK(t,e.simple,e.async)),this};Ol.prototype._clone=function(){return new Ol(this.chain.slice(),this.nextRuleModifiers.slice())};Ol.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})};Ol.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(i){try{i._check(e)}catch(r){t.push(new Uw(i,e,r))}}),t};Ol.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(i){throw new Uw(t,e,i)}})};Ol.prototype.testAsync=function(e){var t=this;return new Promise(function(i,r){kz(e,t.chain.slice(),i,r)})};function kz(n,e,t,i){if(e.length){var r=e.shift();r._testAsync(n).then(function(){kz(n,e,t,i)},function(a){i(new Uw(r,n,a))})}else t(n)}var RD=function(n,e){return e&&typeof n=="string"&&n.trim().length===0?!0:n==null};function DK(n,e){return e===void 0&&(e=!1),{simple:function(t){return RD(t,e)||n.check(t)===void 0},async:function(t){return RD(t,e)||n.testAsync(t)}}}function Xa(){return typeof Proxy<"u"?Gz(new Ol):CT(new Ol)}var ev={};Xa.extend=function(n){Object.assign(ev,n)};Xa.clearCustomRules=function(){ev={}};function Gz(n){return new Proxy(n,{get:function(t,i){if(i in t)return t[i];var r=Gz(n._clone());if(i in S_)return r._applyModifier(S_[i],i);if(i in ev)return r._applyRule(ev[i],i);if(i in RT)return r._applyRule(RT[i],i)}})}function CT(n){var e=function(r,a){return Object.keys(r).forEach(function(o){a[o]=function(){for(var u=[],f=arguments.length;f--;)u[f]=arguments[f];var d=CT(a._clone()),m=d._applyRule(r[o],o).apply(void 0,u);return m}}),a},t=e(RT,n),i=e(ev,t);return Object.keys(S_).forEach(function(r){Object.defineProperty(i,r,{get:function(){var a=CT(i._clone());return a._applyModifier(S_[r],r)}})}),i}var S_={not:{simple:function(n){return function(e){return!n(e)}},async:function(n){return function(e){return Promise.resolve(n(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(n){return function(e){return ib(e).some(function(t){try{return n(t)}catch{return!1}})}},async:function(n){return function(e){return Promise.all(ib(e).map(function(t){try{return n(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(n){return function(e){return e!==!1&&ib(e).every(n)}},async:function(n){return function(e){return Promise.all(ib(e).map(n)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(n,e){return function(t){return DD(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n(t):n(t)}},async:function(n,e){return function(t){return Promise.resolve(n(t)).then(function(i){return DD(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&i:i}).catch(function(){return!1})}}}};function DD(n){return n&&n.name==="schema"&&n.args.length>0&&typeof n.args[0]=="object"}function ib(n){return typeof n=="string"?n.split(""):n}var RT={equal:function(n){return function(e){return e==n}},exact:function(n){return function(e){return e===n}},number:function(n){return n===void 0&&(n=!0),function(e){return typeof e=="number"&&(n||isFinite(e))}},integer:function(){return function(n){var e=Number.isInteger||OK;return e(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return Ap("string")},boolean:function(){return Ap("boolean")},undefined:function(){return Ap("undefined")},null:function(){return Ap("null")},array:function(){return Ap("array")},object:function(){return Ap("object")},instanceOf:function(n){return function(e){return e instanceof n}},pattern:function(n){return function(e){return n.test(e)}},lowercase:function(){return function(n){return typeof n=="boolean"||n===n.toLowerCase()&&n.trim()!==""}},uppercase:function(){return function(n){return n===n.toUpperCase()&&n.trim()!==""}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(n){return function(e){return e[0]==n}},last:function(n){return function(e){return e[e.length-1]==n}},empty:function(){return function(n){return n.length===0}},length:function(n,e){return function(t){return t.length>=n&&t.length<=(e||n)}},minLength:function(n){return function(e){return e.length>=n}},maxLength:function(n){return function(e){return e.length<=n}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return n>=0}},between:function(n,e){return function(t){return t>=n&&t<=e}},range:function(n,e){return function(t){return t>=n&&t<=e}},lessThan:function(n){return function(e){return e<n}},lessThanOrEqual:function(n){return function(e){return e<=n}},greaterThan:function(n){return function(e){return e>n}},greaterThanOrEqual:function(n){return function(e){return e>=n}},even:function(){return function(n){return n%2===0}},odd:function(){return function(n){return n%2!==0}},includes:function(n){return function(e){return~e.indexOf(n)}},schema:function(n){return NK(n)},passesAnyOf:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return function(t){return n.some(function(i){return i.test(t)})}},optional:DK};function Ap(n){return function(e){return Array.isArray(e)&&n==="array"||e===null&&n==="null"||typeof e===n}}function OK(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function NK(n){return{simple:function(e){var t=[];if(Object.keys(n).forEach(function(i){var r=n[i];try{r.check((e||{})[i])}catch(a){a.target=i,t.push(a)}}),t.length>0)throw t;return!0},async:function(e){var t=[],i=Object.keys(n).map(function(r){var a=n[r];return a.testAsync((e||{})[r]).catch(function(o){o.target=r,t.push(o)})});return Promise.all(i).then(function(){if(t.length>0)throw t;return!0})}}}var Yn="colors",ya="sizes",_t="space",PK={gap:_t,gridGap:_t,columnGap:_t,gridColumnGap:_t,rowGap:_t,gridRowGap:_t,inset:_t,insetBlock:_t,insetBlockEnd:_t,insetBlockStart:_t,insetInline:_t,insetInlineEnd:_t,insetInlineStart:_t,margin:_t,marginTop:_t,marginRight:_t,marginBottom:_t,marginLeft:_t,marginBlock:_t,marginBlockEnd:_t,marginBlockStart:_t,marginInline:_t,marginInlineEnd:_t,marginInlineStart:_t,padding:_t,paddingTop:_t,paddingRight:_t,paddingBottom:_t,paddingLeft:_t,paddingBlock:_t,paddingBlockEnd:_t,paddingBlockStart:_t,paddingInline:_t,paddingInlineEnd:_t,paddingInlineStart:_t,top:_t,right:_t,bottom:_t,left:_t,scrollMargin:_t,scrollMarginTop:_t,scrollMarginRight:_t,scrollMarginBottom:_t,scrollMarginLeft:_t,scrollMarginX:_t,scrollMarginY:_t,scrollMarginBlock:_t,scrollMarginBlockEnd:_t,scrollMarginBlockStart:_t,scrollMarginInline:_t,scrollMarginInlineEnd:_t,scrollMarginInlineStart:_t,scrollPadding:_t,scrollPaddingTop:_t,scrollPaddingRight:_t,scrollPaddingBottom:_t,scrollPaddingLeft:_t,scrollPaddingX:_t,scrollPaddingY:_t,scrollPaddingBlock:_t,scrollPaddingBlockEnd:_t,scrollPaddingBlockStart:_t,scrollPaddingInline:_t,scrollPaddingInlineEnd:_t,scrollPaddingInlineStart:_t,fontSize:"fontSizes",background:Yn,backgroundColor:Yn,backgroundImage:Yn,borderImage:Yn,border:Yn,borderBlock:Yn,borderBlockEnd:Yn,borderBlockStart:Yn,borderBottom:Yn,borderBottomColor:Yn,borderColor:Yn,borderInline:Yn,borderInlineEnd:Yn,borderInlineStart:Yn,borderLeft:Yn,borderLeftColor:Yn,borderRight:Yn,borderRightColor:Yn,borderTop:Yn,borderTopColor:Yn,caretColor:Yn,color:Yn,columnRuleColor:Yn,fill:Yn,outline:Yn,outlineColor:Yn,stroke:Yn,textDecorationColor:Yn,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:ya,minBlockSize:ya,maxBlockSize:ya,inlineSize:ya,minInlineSize:ya,maxInlineSize:ya,width:ya,minWidth:ya,maxWidth:ya,height:ya,minHeight:ya,maxHeight:ya,flexBasis:ya,gridTemplateColumns:ya,gridTemplateRows:ya,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},LK=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,dm=()=>{const n=Object.create(null);return(e,t,...i)=>{const r=(a=>JSON.stringify(a,LK))(e);return r in n?n[r]:n[r]=t(e,...i)}},Fh=Symbol.for("sxs.internal"),zw=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),OD=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:UK}=Object.prototype,DT=n=>n.includes("-")?n:n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),zK=/\s+(?![^()]*\))/,wp=n=>e=>n(...typeof e=="string"?String(e).split(zK):[e]),ND={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:wp((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n})),marginInline:wp((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n})),maxSize:wp((n,e)=>({maxBlockSize:n,maxInlineSize:e||n})),minSize:wp((n,e)=>({minBlockSize:n,minInlineSize:e||n})),paddingBlock:wp((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n})),paddingInline:wp((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n}))},nM=/([\d.]+)([^]*)/,BK=(n,e)=>n.length?n.reduce((t,i)=>(t.push(...e.map(r=>r.includes("&")?r.replace(/&/g,/[ +>|~]/.test(i)&&/&.*&/.test(r)?`:is(${i})`:i):i+" "+r)),t),[]):e,IK=(n,e)=>n in FK&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,i,r,a)=>i+(r==="stretch"?`-moz-available${a};${DT(n)}:${i}-webkit-fill-available`:`-moz-fit-content${a};${DT(n)}:${i}fit-content`)+a):String(e),FK={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Uu=n=>n?n+"-":"",$z=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(i,r,a,o,u)=>o=="$"==!!a?i:(r||o=="--"?"calc(":"")+"var(--"+(o==="$"?Uu(e)+(u.includes("$")?"":Uu(t))+u.replace(/\$/g,"-"):u)+")"+(r||o=="--"?"*"+(r||"")+(a||"1")+")":"")),VK=/\s*,\s*(?![^()]*\))/,HK=Object.prototype.toString,Bp=(n,e,t,i,r)=>{let a,o,u;const f=(d,m,g)=>{let y,b;const _=A=>{for(y in A){const C=y.charCodeAt(0)===64,D=C&&Array.isArray(A[y])?A[y]:[A[y]];for(b of D){const N=/[A-Z]/.test(S=y)?S:S.replace(/-[^]/g,U=>U[1].toUpperCase()),z=typeof b=="object"&&b&&b.toString===HK&&(!i.utils[N]||!m.length);if(N in i.utils&&!z){const U=i.utils[N];if(U!==o){o=U,_(U(b)),o=null;continue}}else if(N in ND){const U=ND[N];if(U!==u){u=U,_(U(b)),u=null;continue}}if(C&&(T=y.slice(1)in i.media?"@media "+i.media[y.slice(1)]:y,y=T.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(U,I,V,B,L,W)=>{const oe=nM.test(I),ee=.0625*(oe?-1:1),[he,de]=oe?[B,I]:[I,B];return"("+(V[0]==="="?"":V[0]===">"===oe?"max-":"min-")+he+":"+(V[0]!=="="&&V.length===1?de.replace(nM,(k,Y,K)=>Number(Y)+ee*(V===">"?1:-1)+K):de)+(L?") and ("+(L[0]===">"?"min-":"max-")+he+":"+(L.length===1?W.replace(nM,(k,Y,K)=>Number(Y)+ee*(L===">"?-1:1)+K):W):"")+")"})),z){const U=C?g.concat(y):[...g],I=C?[...m]:BK(m,y.split(VK));a!==void 0&&r(PD(...a)),a=void 0,f(b,I,U)}else a===void 0&&(a=[[],m,g]),y=C||y.charCodeAt(0)!==36?y:`--${Uu(i.prefix)}${y.slice(1).replace(/\$/g,"-")}`,b=z?b:typeof b=="number"?b&&N in kK?String(b)+"px":String(b):$z(IK(N,b??""),i.prefix,i.themeMap[N]),a[0].push(`${C?`${y} `:`${DT(y)}:`}${b}`)}}var T,S};_(d),a!==void 0&&r(PD(...a)),a=void 0};f(n,e,t)},PD=(n,e,t)=>`${t.map(i=>`${i}{`).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,kK={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},LD=n=>String.fromCharCode(n+(n>25?39:97)),Vh=n=>(e=>{let t,i="";for(t=Math.abs(e);t>52;t=t/52|0)i=LD(t%52)+i;return LD(t%52)+i})(((e,t)=>{let i=t.length;for(;i;)e=33*e^t.charCodeAt(--i);return e})(5381,JSON.stringify(n))>>>0),n0=["themed","global","styled","onevar","resonevar","allvar","inline"],GK=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},$K=n=>{let e;const t=()=>{const{cssRules:r}=e.sheet;return[].map.call(r,(a,o)=>{const{cssText:u}=a;let f="";if(u.startsWith("--sxs"))return"";if(r[o-1]&&(f=r[o-1].cssText).startsWith("--sxs")){if(!a.cssRules.length)return"";for(const d in e.rules)if(e.rules[d].group===a)return`--sxs{--sxs:${[...e.rules[d].cache].join(" ")}}${u}`;return a.cssRules.length?`${f}${u}`:""}return u}).join("")},i=()=>{if(e){const{rules:u,sheet:f}=e;if(!f.deleteRule){for(;Object(Object(f.cssRules)[0]).type===3;)f.cssRules.splice(0,1);f.cssRules=[]}for(const d in u)delete u[d]}const r=Object(n).styleSheets||[];for(const u of r)if(GK(u)){for(let f=0,d=u.cssRules;d[f];++f){const m=Object(d[f]);if(m.type!==1)continue;const g=Object(d[f+1]);if(g.type!==4)continue;++f;const{cssText:y}=m;if(!y.startsWith("--sxs"))continue;const b=y.slice(14,-3).trim().split(/\s+/),_=n0[b[0]];_&&(e||(e={sheet:u,reset:i,rules:{},toString:t}),e.rules[_]={group:g,index:f,cache:new Set(b)})}if(e)break}if(!e){const u=(f,d)=>({type:d,cssRules:[],insertRule(m,g){this.cssRules.splice(g,0,u(m,{import:3,undefined:1}[(m.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return f==="@media{}"?`@media{${[].map.call(this.cssRules,m=>m.cssText).join("")}}`:f}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:u("","text/css"),rules:{},reset:i,toString:t}}const{sheet:a,rules:o}=e;for(let u=n0.length-1;u>=0;--u){const f=n0[u];if(!o[f]){const d=n0[u+1],m=o[d]?o[d].index:a.cssRules.length;a.insertRule("@media{}",m),a.insertRule(`--sxs{--sxs:${u}}`,m),o[f]={group:a.cssRules[m+1],index:m,cache:new Set([u])}}jK(o[f])}};return i(),e},jK=n=>{const e=n.group;let t=e.cssRules.length;n.apply=i=>{try{e.insertRule(i,t),++t}catch{}}},qg=Symbol(),XK=dm(),UD=(n,e)=>XK(n,()=>(...t)=>{let i={type:null,composers:new Set};for(const r of t)if(r!=null)if(r[Fh]){i.type==null&&(i.type=r[Fh].type);for(const a of r[Fh].composers)i.composers.add(a)}else r.constructor!==Object||r.$$typeof?i.type==null&&(i.type=r):i.composers.add(WK(r,n));return i.type==null&&(i.type="span"),i.composers.size||i.composers.add(["PJLV",{},[],[],{},[]]),qK(n,i,e)}),WK=({variants:n,compoundVariants:e,defaultVariants:t,...i},r)=>{const a=`${Uu(r.prefix)}c-${Vh(i)}`,o=[],u=[],f=Object.create(null),d=[];for(const y in t)f[y]=String(t[y]);if(typeof n=="object"&&n)for(const y in n){m=f,g=y,UK.call(m,g)||(f[y]="undefined");const b=n[y];for(const _ in b){const A={[y]:String(_)};String(_)==="undefined"&&d.push(y);const T=b[_],S=[A,T,!OD(T)];o.push(S)}}var m,g;if(typeof e=="object"&&e)for(const y of e){let{css:b,..._}=y;b=typeof b=="object"&&b||{};for(const T in _)_[T]=String(_[T]);const A=[_,b,!OD(b)];u.push(A)}return[a,i,o,u,f,d]},qK=(n,e,t)=>{const[i,r,a,o]=YK(e.composers),u=typeof e.type=="function"||e.type.$$typeof?(g=>{function y(){for(let b=0;b<y[qg].length;b++){const[_,A]=y[qg][b];g.rules[_].apply(A)}return y[qg]=[],null}return y[qg]=[],y.rules={},n0.forEach(b=>y.rules[b]={apply:_=>y[qg].push([b,_])}),y})(t):null,f=(u||t).rules,d=`.${i}${r.length>1?`:where(.${r.slice(1).join(".")})`:""}`,m=g=>{g=typeof g=="object"&&g||KK;const{css:y,...b}=g,_={};for(const S in a)if(delete b[S],S in g){let C=g[S];typeof C=="object"&&C?_[S]={"@initial":a[S],...C}:(C=String(C),_[S]=C!=="undefined"||o.has(S)?C:a[S])}else _[S]=a[S];const A=new Set([...r]);for(const[S,C,D,N]of e.composers){t.rules.styled.cache.has(S)||(t.rules.styled.cache.add(S),Bp(C,[`.${S}`],[],n,I=>{f.styled.apply(I)}));const z=zD(D,_,n.media),U=zD(N,_,n.media,!0);for(const I of z)if(I!==void 0)for(const[V,B,L]of I){const W=`${S}-${Vh(B)}-${V}`;A.add(W);const oe=(L?t.rules.resonevar:t.rules.onevar).cache,ee=L?f.resonevar:f.onevar;oe.has(W)||(oe.add(W),Bp(B,[`.${W}`],[],n,he=>{ee.apply(he)}))}for(const I of U)if(I!==void 0)for(const[V,B]of I){const L=`${S}-${Vh(B)}-${V}`;A.add(L),t.rules.allvar.cache.has(L)||(t.rules.allvar.cache.add(L),Bp(B,[`.${L}`],[],n,W=>{f.allvar.apply(W)}))}}if(typeof y=="object"&&y){const S=`${i}-i${Vh(y)}-css`;A.add(S),t.rules.inline.cache.has(S)||(t.rules.inline.cache.add(S),Bp(y,[`.${S}`],[],n,C=>{f.inline.apply(C)}))}for(const S of String(g.className||"").trim().split(/\s+/))S&&A.add(S);const T=b.className=[...A].join(" ");return{type:e.type,className:T,selector:d,props:b,toString:()=>T,deferredInjector:u}};return zw(m,{className:i,selector:d,[Fh]:e,toString:()=>(t.rules.styled.cache.has(i)||m(),i)})},YK=n=>{let e="";const t=[],i={},r=[];for(const[a,,,,o,u]of n){e===""&&(e=a),t.push(a),r.push(...u);for(const f in o){const d=o[f];(i[f]===void 0||d!=="undefined"||u.includes(d))&&(i[f]=d)}}return[e,t,i,new Set(r)]},zD=(n,e,t,i)=>{const r=[];e:for(let[a,o,u]of n){if(u)continue;let f,d=0,m=!1;for(f in a){const g=a[f];let y=e[f];if(y!==g){if(typeof y!="object"||!y)continue e;{let b,_,A=0;for(const T in y){if(g===String(y[T])){if(T!=="@initial"){const S=T.slice(1);(_=_||[]).push(S in t?t[S]:T.replace(/^@media ?/,"")),m=!0}d+=A,b=!0}++A}if(_&&_.length&&(o={["@media "+_.join(", ")]:o}),!b)continue e}}}(r[d]=r[d]||[]).push([i?"cv":`${f}-${a[f]}`,o,m])}return r},KK={},ZK=dm(),QK=(n,e)=>ZK(n,()=>(...t)=>{const i=()=>{for(let r of t){r=typeof r=="object"&&r||{};let a=Vh(r);if(!e.rules.global.cache.has(a)){if(e.rules.global.cache.add(a),"@import"in r){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let u of[].concat(r["@import"]))u=u.includes('"')||u.includes("'")?u:`"${u}"`,e.sheet.insertRule(`@import ${u};`,o++);delete r["@import"]}Bp(r,[],[],n,o=>{e.rules.global.apply(o)})}}return""};return zw(i,{toString:i})}),JK=dm(),eZ=(n,e)=>JK(n,()=>t=>{const i=`${Uu(n.prefix)}k-${Vh(t)}`,r=()=>{if(!e.rules.global.cache.has(i)){e.rules.global.cache.add(i);const a=[];Bp(t,[],[],n,u=>a.push(u));const o=`@keyframes ${i}{${a.join("")}}`;e.rules.global.apply(o)}return i};return zw(r,{get name(){return r()},toString:r})}),tZ=class{constructor(e,t,i,r){this.token=e==null?"":String(e),this.value=t==null?"":String(t),this.scale=i==null?"":String(i),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Uu(this.prefix)+Uu(this.scale)+this.token}toString(){return this.computedValue}},nZ=dm(),iZ=(n,e)=>nZ(n,()=>(t,i)=>{i=typeof t=="object"&&t||Object(i);const r=`.${t=(t=typeof t=="string"?t:"")||`${Uu(n.prefix)}t-${Vh(i)}`}`,a={},o=[];for(const f in i){a[f]={};for(const d in i[f]){const m=`--${Uu(n.prefix)}${f}-${d}`,g=$z(String(i[f][d]),n.prefix,f);a[f][d]=new tZ(d,g,f,n.prefix),o.push(`${m}:${g}`)}}const u=()=>{if(o.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const f=`${i===n.theme?":root,":""}.${t}{${o.join(";")}}`;e.rules.themed.apply(f)}return t};return{...a,get className(){return u()},selector:r,toString:u}}),rZ=dm(),aZ=dm(),sZ=n=>{const e=(t=>{let i=!1;const r=rZ(t,a=>{i=!0;const o="prefix"in(a=typeof a=="object"&&a||{})?String(a.prefix):"",u=typeof a.media=="object"&&a.media||{},f=typeof a.root=="object"?a.root||null:globalThis.document||null,d=typeof a.theme=="object"&&a.theme||{},m={prefix:o,media:u,theme:d,themeMap:typeof a.themeMap=="object"&&a.themeMap||{...PK},utils:typeof a.utils=="object"&&a.utils||{}},g=$K(f),y={css:UD(m,g),globalCss:QK(m,g),keyframes:eZ(m,g),createTheme:iZ(m,g),reset(){g.reset(),y.theme.toString()},theme:{},sheet:g,config:m,prefix:o,getCssText:g.toString,toString:g.toString};return String(y.theme=y.createTheme(d)),y});return i||r.reset(),r})(n);return e.styled=(({config:t,sheet:i})=>aZ(t,()=>{const r=UD(t,i);return(...a)=>{const o=r(...a),u=o[Fh].type,f=J.forwardRef((d,m)=>{const g=d&&d.as||u,{props:y,deferredInjector:b}=o(d);return delete y.as,y.ref=m,b?J.createElement(J.Fragment,null,J.createElement(g,y),J.createElement(b,null)):J.createElement(g,y)});return f.className=o.className,f.displayName=`Styled.${u.displayName||u.name||u}`,f.selector=o.selector,f.toString=()=>o.selector,f[Fh]=o[Fh],f}}))(e),e};function gu(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n?.(r),t===!1||!r.defaultPrevented)return e?.(r)}}function oZ(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function jz(...n){return e=>n.forEach(t=>oZ(t,e))}function pm(...n){return O.useCallback(jz(...n),n)}function Xz(n,e=[]){let t=[];function i(a,o){const u=O.createContext(o),f=t.length;t=[...t,o];function d(g){const{scope:y,children:b,..._}=g,A=y?.[n][f]||u,T=O.useMemo(()=>_,Object.values(_));return O.createElement(A.Provider,{value:T},b)}function m(g,y){const b=y?.[n][f]||u,_=O.useContext(b);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${a}\``)}return d.displayName=a+"Provider",[d,m]}const r=()=>{const a=t.map(o=>O.createContext(o));return function(u){const f=u?.[n]||a;return O.useMemo(()=>({[`__scope${n}`]:{...u,[n]:f}}),[u,f])}};return r.scopeName=n,[i,lZ(r,...e)]}function lZ(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const o=i.reduce((u,{useScope:f,scopeName:d})=>{const g=f(a)[`__scope${d}`];return{...u,...g}},{});return O.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}const Wz=O.forwardRef((n,e)=>{const{children:t,...i}=n,r=O.Children.toArray(t),a=r.find(uZ);if(a){const o=a.props.children,u=r.map(f=>f===a?O.Children.count(o)>1?O.Children.only(null):O.isValidElement(o)?o.props.children:null:f);return O.createElement(OT,Pi({},i,{ref:e}),O.isValidElement(o)?O.cloneElement(o,void 0,u):null)}return O.createElement(OT,Pi({},i,{ref:e}),t)});Wz.displayName="Slot";const OT=O.forwardRef((n,e)=>{const{children:t,...i}=n;return O.isValidElement(t)?O.cloneElement(t,{...cZ(i,t.props),ref:jz(e,t.ref)}):O.Children.count(t)>1?O.Children.only(null):null});OT.displayName="SlotClone";const qz=({children:n})=>O.createElement(O.Fragment,null,n);function uZ(n){return O.isValidElement(n)&&n.type===qz}function cZ(n,e){const t={...e};for(const i in e){const r=n[i],a=e[i];/^on[A-Z]/.test(i)?r&&a?t[i]=(...u)=>{a(...u),r(...u)}:r&&(t[i]=r):i==="style"?t[i]={...r,...a}:i==="className"&&(t[i]=[r,a].filter(Boolean).join(" "))}return{...n,...t}}const fZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],jh=fZ.reduce((n,e)=>{const t=O.forwardRef((i,r)=>{const{asChild:a,...o}=i,u=a?Wz:e;return O.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),O.createElement(u,Pi({},o,{ref:r}))});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function hZ(n,e){n&&gv.flushSync(()=>n.dispatchEvent(e))}function Bw(n){const e=O.useRef(n);return O.useEffect(()=>{e.current=n}),O.useMemo(()=>(...t)=>{var i;return(i=e.current)===null||i===void 0?void 0:i.call(e,...t)},[])}function dZ(n,e=globalThis?.document){const t=Bw(n);O.useEffect(()=>{const i=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",i),()=>e.removeEventListener("keydown",i)},[t,e])}const NT="dismissableLayer.update",pZ="dismissableLayer.pointerDownOutside",mZ="dismissableLayer.focusOutside";let BD;const gZ=O.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vZ=O.forwardRef((n,e)=>{var t;const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:u,onDismiss:f,...d}=n,m=O.useContext(gZ),[g,y]=O.useState(null),b=(t=g?.ownerDocument)!==null&&t!==void 0?t:globalThis?.document,[,_]=O.useState({}),A=pm(e,V=>y(V)),T=Array.from(m.layers),[S]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=T.indexOf(S),D=g?T.indexOf(g):-1,N=m.layersWithOutsidePointerEventsDisabled.size>0,z=D>=C,U=yZ(V=>{const B=V.target,L=[...m.branches].some(W=>W.contains(B));!z||L||(a?.(V),u?.(V),V.defaultPrevented||f?.())},b),I=xZ(V=>{const B=V.target;[...m.branches].some(W=>W.contains(B))||(o?.(V),u?.(V),V.defaultPrevented||f?.())},b);return dZ(V=>{D===m.layers.size-1&&(r?.(V),!V.defaultPrevented&&f&&(V.preventDefault(),f()))},b),O.useEffect(()=>{if(g)return i&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(BD=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),ID(),()=>{i&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=BD)}},[g,b,i,m]),O.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),ID())},[g,m]),O.useEffect(()=>{const V=()=>_({});return document.addEventListener(NT,V),()=>document.removeEventListener(NT,V)},[]),O.createElement(jh.div,Pi({},d,{ref:A,style:{pointerEvents:N?z?"auto":"none":void 0,...n.style},onFocusCapture:gu(n.onFocusCapture,I.onFocusCapture),onBlurCapture:gu(n.onBlurCapture,I.onBlurCapture),onPointerDownCapture:gu(n.onPointerDownCapture,U.onPointerDownCapture)}))});function yZ(n,e=globalThis?.document){const t=Bw(n),i=O.useRef(!1),r=O.useRef(()=>{});return O.useEffect(()=>{const a=u=>{if(u.target&&!i.current){let m=function(){Yz(pZ,t,d,{discrete:!0})};var f=m;const d={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=m,e.addEventListener("click",r.current,{once:!0})):m()}i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function xZ(n,e=globalThis?.document){const t=Bw(n),i=O.useRef(!1);return O.useEffect(()=>{const r=a=>{a.target&&!i.current&&Yz(mZ,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function ID(){const n=new CustomEvent(NT);document.dispatchEvent(n)}function Yz(n,e,t,{discrete:i}){const r=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?hZ(r,a):r.dispatchEvent(a)}const bZ=globalThis?.document?O.useLayoutEffect:()=>{},_Z=PM.useId||(()=>{});let SZ=0;function EZ(n){const[e,t]=O.useState(_Z());return bZ(()=>{t(i=>i??String(SZ++))},[n]),e?`radix-${e}`:""}function ed(n){return n.split("-")[0]}function Ev(n){return n.split("-")[1]}function mm(n){return["top","bottom"].includes(ed(n))?"x":"y"}function Iw(n){return n==="y"?"height":"width"}function FD(n,e,t){let{reference:i,floating:r}=n;const a=i.x+i.width/2-r.width/2,o=i.y+i.height/2-r.height/2,u=mm(e),f=Iw(u),d=i[f]/2-r[f]/2,m=u==="x";let g;switch(ed(e)){case"top":g={x:a,y:i.y-r.height};break;case"bottom":g={x:a,y:i.y+i.height};break;case"right":g={x:i.x+i.width,y:o};break;case"left":g={x:i.x-r.width,y:o};break;default:g={x:i.x,y:i.y}}switch(Ev(e)){case"start":g[u]-=d*(t&&m?-1:1);break;case"end":g[u]+=d*(t&&m?-1:1)}return g}const MZ=async(n,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:a=[],platform:o}=t,u=await(o.isRTL==null?void 0:o.isRTL(e));let f=await o.getElementRects({reference:n,floating:e,strategy:r}),{x:d,y:m}=FD(f,i,u),g=i,y={},b=0;for(let _=0;_<a.length;_++){const{name:A,fn:T}=a[_],{x:S,y:C,data:D,reset:N}=await T({x:d,y:m,initialPlacement:i,placement:g,strategy:r,middlewareData:y,rects:f,platform:o,elements:{reference:n,floating:e}});d=S??d,m=C??m,y={...y,[A]:{...y[A],...D}},N&&b<=50&&(b++,typeof N=="object"&&(N.placement&&(g=N.placement),N.rects&&(f=N.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:r}):N.rects),{x:d,y:m}=FD(f,g,u)),_=-1)}return{x:d,y:m,placement:g,strategy:r,middlewareData:y}};function Kz(n){return typeof n!="number"?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(n):{top:n,right:n,bottom:n,left:n}}function E_(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}async function tv(n,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:a,rects:o,elements:u,strategy:f}=n,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:y=!1,padding:b=0}=e,_=Kz(b),A=u[y?g==="floating"?"reference":"floating":g],T=E_(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(A)))==null||t?A:A.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:d,rootBoundary:m,strategy:f})),S=E_(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:g==="floating"?{...o.floating,x:i,y:r}:o.reference,offsetParent:await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),strategy:f}):o[g]);return{top:T.top-S.top+_.top,bottom:S.bottom-T.bottom+_.bottom,left:T.left-S.left+_.left,right:S.right-T.right+_.right}}const TZ=Math.min,Mh=Math.max;function PT(n,e,t){return Mh(n,TZ(e,t))}const VD=n=>({name:"arrow",options:n,async fn(e){const{element:t,padding:i=0}=n??{},{x:r,y:a,placement:o,rects:u,platform:f}=e;if(t==null)return{};const d=Kz(i),m={x:r,y:a},g=mm(o),y=Ev(o),b=Iw(g),_=await f.getDimensions(t),A=g==="y"?"top":"left",T=g==="y"?"bottom":"right",S=u.reference[b]+u.reference[g]-m[g]-u.floating[b],C=m[g]-u.reference[g],D=await(f.getOffsetParent==null?void 0:f.getOffsetParent(t));let N=D?g==="y"?D.clientHeight||0:D.clientWidth||0:0;N===0&&(N=u.floating[b]);const z=S/2-C/2,U=d[A],I=N-_[b]-d[T],V=N/2-_[b]/2+z,B=PT(U,V,I),L=(y==="start"?d[A]:d[T])>0&&V!==B&&u.reference[b]<=u.floating[b];return{[g]:m[g]-(L?V<U?U-V:I-V:0),data:{[g]:B,centerOffset:V-B}}}}),AZ={left:"right",right:"left",bottom:"top",top:"bottom"};function M_(n){return n.replace(/left|right|bottom|top/g,e=>AZ[e])}function wZ(n,e,t){t===void 0&&(t=!1);const i=Ev(n),r=mm(n),a=Iw(r);let o=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=M_(o)),{main:o,cross:M_(o)}}const CZ={start:"end",end:"start"};function HD(n){return n.replace(/start|end/g,e=>CZ[e])}const Zz=["top","right","bottom","left"];Zz.reduce((n,e)=>n.concat(e,e+"-start",e+"-end"),[]);const RZ=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t;const{placement:i,middlewareData:r,rects:a,initialPlacement:o,platform:u,elements:f}=e,{mainAxis:d=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",flipAlignment:b=!0,..._}=n,A=ed(i),T=g||(A===o||!b?[M_(o)]:function(V){const B=M_(V);return[HD(V),B,HD(B)]}(o)),S=[o,...T],C=await tv(e,_),D=[];let N=((t=r.flip)==null?void 0:t.overflows)||[];if(d&&D.push(C[A]),m){const{main:V,cross:B}=wZ(i,a,await(u.isRTL==null?void 0:u.isRTL(f.floating)));D.push(C[V],C[B])}if(N=[...N,{placement:i,overflows:D}],!D.every(V=>V<=0)){var z,U;const V=((z=(U=r.flip)==null?void 0:U.index)!=null?z:0)+1,B=S[V];if(B)return{data:{index:V,overflows:N},reset:{placement:B}};let L="bottom";switch(y){case"bestFit":{var I;const W=(I=N.map(oe=>[oe,oe.overflows.filter(ee=>ee>0).reduce((ee,he)=>ee+he,0)]).sort((oe,ee)=>oe[1]-ee[1])[0])==null?void 0:I[0].placement;W&&(L=W);break}case"initialPlacement":L=o}if(i!==L)return{reset:{placement:L}}}return{}}}};function kD(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function GD(n){return Zz.some(e=>n[e]>=0)}const DZ=function(n){let{strategy:e="referenceHidden",...t}=n===void 0?{}:n;return{name:"hide",async fn(i){const{rects:r}=i;switch(e){case"referenceHidden":{const a=kD(await tv(i,{...t,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:GD(a)}}}case"escaped":{const a=kD(await tv(i,{...t,altBoundary:!0}),r.floating);return{data:{escapedOffsets:a,escaped:GD(a)}}}default:return{}}}}},OZ=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){const{x:t,y:i}=e,r=await async function(a,o){const{placement:u,platform:f,elements:d}=a,m=await(f.isRTL==null?void 0:f.isRTL(d.floating)),g=ed(u),y=Ev(u),b=mm(u)==="x",_=["left","top"].includes(g)?-1:1,A=m&&b?-1:1,T=typeof o=="function"?o(a):o;let{mainAxis:S,crossAxis:C,alignmentAxis:D}=typeof T=="number"?{mainAxis:T,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...T};return y&&typeof D=="number"&&(C=y==="end"?-1*D:D),b?{x:C*A,y:S*_}:{x:S*_,y:C*A}}(e,n);return{x:t+r.x,y:i+r.y,data:r}}}};function Qz(n){return n==="x"?"y":"x"}const NZ=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:r}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:u={fn:T=>{let{x:S,y:C}=T;return{x:S,y:C}}},...f}=n,d={x:t,y:i},m=await tv(e,f),g=mm(ed(r)),y=Qz(g);let b=d[g],_=d[y];if(a){const T=g==="y"?"bottom":"right";b=PT(b+m[g==="y"?"top":"left"],b,b-m[T])}if(o){const T=y==="y"?"bottom":"right";_=PT(_+m[y==="y"?"top":"left"],_,_-m[T])}const A=u.fn({...e,[g]:b,[y]:_});return{...A,data:{x:A.x-t,y:A.y-i}}}}},PZ=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:r,rects:a,middlewareData:o}=e,{offset:u=0,mainAxis:f=!0,crossAxis:d=!0}=n,m={x:t,y:i},g=mm(r),y=Qz(g);let b=m[g],_=m[y];const A=typeof u=="function"?u({...a,placement:r}):u,T=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(f){const z=g==="y"?"height":"width",U=a.reference[g]-a.floating[z]+T.mainAxis,I=a.reference[g]+a.reference[z]-T.mainAxis;b<U?b=U:b>I&&(b=I)}if(d){var S,C,D,N;const z=g==="y"?"width":"height",U=["top","left"].includes(ed(r)),I=a.reference[y]-a.floating[z]+(U&&(S=(C=o.offset)==null?void 0:C[y])!=null?S:0)+(U?0:T.crossAxis),V=a.reference[y]+a.reference[z]+(U?0:(D=(N=o.offset)==null?void 0:N[y])!=null?D:0)-(U?T.crossAxis:0);_<I?_=I:_>V&&(_=V)}return{[g]:b,[y]:_}}}},LZ=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){const{placement:t,rects:i,platform:r,elements:a}=e,{apply:o,...u}=n,f=await tv(e,u),d=ed(t),m=Ev(t);let g,y;d==="top"||d==="bottom"?(g=d,y=m===(await(r.isRTL==null?void 0:r.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,g=m==="end"?"top":"bottom");const b=Mh(f.left,0),_=Mh(f.right,0),A=Mh(f.top,0),T=Mh(f.bottom,0),S={availableHeight:i.floating.height-(["left","right"].includes(t)?2*(A!==0||T!==0?A+T:Mh(f.top,f.bottom)):f[g]),availableWidth:i.floating.width-(["top","bottom"].includes(t)?2*(b!==0||_!==0?b+_:Mh(f.left,f.right)):f[y])},C=await r.getDimensions(a.floating);o?.({...e,...S});const D=await r.getDimensions(a.floating);return C.width!==D.width||C.height!==D.height?{reset:{rects:!0}}:{}}}};function Jz(n){return n&&n.document&&n.location&&n.alert&&n.setInterval}function Iu(n){if(n==null)return window;if(!Jz(n)){const e=n.ownerDocument;return e&&e.defaultView||window}return n}function Mv(n){return Iu(n).getComputedStyle(n)}function Mu(n){return Jz(n)?"":n?(n.nodeName||"").toLowerCase():""}function eB(){const n=navigator.userAgentData;return n!=null&&n.brands?n.brands.map(e=>e.brand+"/"+e.version).join(" "):navigator.userAgent}function Nl(n){return n instanceof Iu(n).HTMLElement}function rf(n){return n instanceof Iu(n).Element}function Fw(n){return typeof ShadowRoot>"u"?!1:n instanceof Iu(n).ShadowRoot||n instanceof ShadowRoot}function CS(n){const{overflow:e,overflowX:t,overflowY:i}=Mv(n);return/auto|scroll|overlay|hidden/.test(e+i+t)}function UZ(n){return["table","td","th"].includes(Mu(n))}function $D(n){const e=/firefox/i.test(eB()),t=Mv(n);return t.transform!=="none"||t.perspective!=="none"||t.contain==="paint"||["transform","perspective"].includes(t.willChange)||e&&t.willChange==="filter"||e&&!!t.filter&&t.filter!=="none"}function tB(){return!/^((?!chrome|android).)*safari/i.test(eB())}const jD=Math.min,E0=Math.max,T_=Math.round;function Tu(n,e,t){var i,r,a,o;e===void 0&&(e=!1),t===void 0&&(t=!1);const u=n.getBoundingClientRect();let f=1,d=1;e&&Nl(n)&&(f=n.offsetWidth>0&&T_(u.width)/n.offsetWidth||1,d=n.offsetHeight>0&&T_(u.height)/n.offsetHeight||1);const m=rf(n)?Iu(n):window,g=!tB()&&t,y=(u.left+(g&&(i=(r=m.visualViewport)==null?void 0:r.offsetLeft)!=null?i:0))/f,b=(u.top+(g&&(a=(o=m.visualViewport)==null?void 0:o.offsetTop)!=null?a:0))/d,_=u.width/f,A=u.height/d;return{width:_,height:A,top:b,right:y+_,bottom:b+A,left:y,x:y,y:b}}function Kc(n){return(e=n,(e instanceof Iu(e).Node?n.ownerDocument:n.document)||window.document).documentElement;var e}function RS(n){return rf(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function nB(n){return Tu(Kc(n)).left+RS(n).scrollLeft}function zZ(n,e,t){const i=Nl(e),r=Kc(e),a=Tu(n,i&&function(f){const d=Tu(f);return T_(d.width)!==f.offsetWidth||T_(d.height)!==f.offsetHeight}(e),t==="fixed");let o={scrollLeft:0,scrollTop:0};const u={x:0,y:0};if(i||!i&&t!=="fixed")if((Mu(e)!=="body"||CS(r))&&(o=RS(e)),Nl(e)){const f=Tu(e,!0);u.x=f.x+e.clientLeft,u.y=f.y+e.clientTop}else r&&(u.x=nB(r));return{x:a.left+o.scrollLeft-u.x,y:a.top+o.scrollTop-u.y,width:a.width,height:a.height}}function iB(n){return Mu(n)==="html"?n:n.assignedSlot||n.parentNode||(Fw(n)?n.host:null)||Kc(n)}function XD(n){return Nl(n)&&getComputedStyle(n).position!=="fixed"?n.offsetParent:null}function LT(n){const e=Iu(n);let t=XD(n);for(;t&&UZ(t)&&getComputedStyle(t).position==="static";)t=XD(t);return t&&(Mu(t)==="html"||Mu(t)==="body"&&getComputedStyle(t).position==="static"&&!$D(t))?e:t||function(i){let r=iB(i);for(Fw(r)&&(r=r.host);Nl(r)&&!["html","body"].includes(Mu(r));){if($D(r))return r;r=r.parentNode}return null}(n)||e}function WD(n){if(Nl(n))return{width:n.offsetWidth,height:n.offsetHeight};const e=Tu(n);return{width:e.width,height:e.height}}function rB(n){const e=iB(n);return["html","body","#document"].includes(Mu(e))?n.ownerDocument.body:Nl(e)&&CS(e)?e:rB(e)}function A_(n,e){var t;e===void 0&&(e=[]);const i=rB(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),a=Iu(i),o=r?[a].concat(a.visualViewport||[],CS(i)?i:[]):i,u=e.concat(o);return r?u:u.concat(A_(o))}function qD(n,e,t){return e==="viewport"?E_(function(i,r){const a=Iu(i),o=Kc(i),u=a.visualViewport;let f=o.clientWidth,d=o.clientHeight,m=0,g=0;if(u){f=u.width,d=u.height;const y=tB();(y||!y&&r==="fixed")&&(m=u.offsetLeft,g=u.offsetTop)}return{width:f,height:d,x:m,y:g}}(n,t)):rf(e)?function(i,r){const a=Tu(i,!1,r==="fixed"),o=a.top+i.clientTop,u=a.left+i.clientLeft;return{top:o,left:u,x:u,y:o,right:u+i.clientWidth,bottom:o+i.clientHeight,width:i.clientWidth,height:i.clientHeight}}(e,t):E_(function(i){var r;const a=Kc(i),o=RS(i),u=(r=i.ownerDocument)==null?void 0:r.body,f=E0(a.scrollWidth,a.clientWidth,u?u.scrollWidth:0,u?u.clientWidth:0),d=E0(a.scrollHeight,a.clientHeight,u?u.scrollHeight:0,u?u.clientHeight:0);let m=-o.scrollLeft+nB(i);const g=-o.scrollTop;return Mv(u||a).direction==="rtl"&&(m+=E0(a.clientWidth,u?u.clientWidth:0)-f),{width:f,height:d,x:m,y:g}}(Kc(n)))}function BZ(n){const e=A_(n),t=["absolute","fixed"].includes(Mv(n).position)&&Nl(n)?LT(n):n;return rf(t)?e.filter(i=>rf(i)&&function(r,a){const o=a.getRootNode==null?void 0:a.getRootNode();if(r.contains(a))return!0;if(o&&Fw(o)){let u=a;do{if(u&&r===u)return!0;u=u.parentNode||u.host}while(u)}return!1}(i,t)&&Mu(i)!=="body"):[]}const IZ={getClippingRect:function(n){let{element:e,boundary:t,rootBoundary:i,strategy:r}=n;const a=[...t==="clippingAncestors"?BZ(e):[].concat(t),i],o=a[0],u=a.reduce((f,d)=>{const m=qD(e,d,r);return f.top=E0(m.top,f.top),f.right=jD(m.right,f.right),f.bottom=jD(m.bottom,f.bottom),f.left=E0(m.left,f.left),f},qD(e,o,r));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(n){let{rect:e,offsetParent:t,strategy:i}=n;const r=Nl(t),a=Kc(t);if(t===a)return e;let o={scrollLeft:0,scrollTop:0};const u={x:0,y:0};if((r||!r&&i!=="fixed")&&((Mu(t)!=="body"||CS(a))&&(o=RS(t)),Nl(t))){const f=Tu(t,!0);u.x=f.x+t.clientLeft,u.y=f.y+t.clientTop}return{...e,x:e.x-o.scrollLeft+u.x,y:e.y-o.scrollTop+u.y}},isElement:rf,getDimensions:WD,getOffsetParent:LT,getDocumentElement:Kc,getElementRects:n=>{let{reference:e,floating:t,strategy:i}=n;return{reference:zZ(e,LT(t),i),floating:{...WD(t),x:0,y:0}}},getClientRects:n=>Array.from(n.getClientRects()),isRTL:n=>Mv(n).direction==="rtl"};function FZ(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:o=!0,animationFrame:u=!1}=i,f=r&&!u,d=a&&!u,m=f||d?[...rf(n)?A_(n):[],...A_(e)]:[];m.forEach(_=>{f&&_.addEventListener("scroll",t,{passive:!0}),d&&_.addEventListener("resize",t)});let g,y=null;if(o){let _=!0;y=new ResizeObserver(()=>{_||t(),_=!1}),rf(n)&&!u&&y.observe(n),y.observe(e)}let b=u?Tu(n):null;return u&&function _(){const A=Tu(n);!b||A.x===b.x&&A.y===b.y&&A.width===b.width&&A.height===b.height||t(),b=A,g=requestAnimationFrame(_)}(),t(),()=>{var _;m.forEach(A=>{f&&A.removeEventListener("scroll",t),d&&A.removeEventListener("resize",t)}),(_=y)==null||_.disconnect(),y=null,u&&cancelAnimationFrame(g)}}const VZ=(n,e,t)=>MZ(n,e,{platform:IZ,...t});var UT=typeof document<"u"?O.useLayoutEffect:O.useEffect;function zT(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(i=t;i--!==0;)if(!zT(n[i],e[i]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[i]))return!1;for(i=t;i--!==0;){const a=r[i];if(!(a==="_owner"&&n.$$typeof)&&!zT(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function HZ(n){const e=O.useRef(n);return UT(()=>{e.current=n}),e}function kZ(n){let{middleware:e,placement:t="bottom",strategy:i="absolute",whileElementsMounted:r}=n===void 0?{}:n;const a=O.useRef(null),o=O.useRef(null),u=HZ(r),f=O.useRef(null),[d,m]=O.useState({x:null,y:null,strategy:i,placement:t,middlewareData:{}}),[g,y]=O.useState(e);zT(g?.map(D=>{let{options:N}=D;return N}),e?.map(D=>{let{options:N}=D;return N}))||y(e);const b=O.useCallback(()=>{!a.current||!o.current||VZ(a.current,o.current,{middleware:g,placement:t,strategy:i}).then(D=>{_.current&&gv.flushSync(()=>{m(D)})})},[g,t,i]);UT(()=>{_.current&&b()},[b]);const _=O.useRef(!1);UT(()=>(_.current=!0,()=>{_.current=!1}),[]);const A=O.useCallback(()=>{if(typeof f.current=="function"&&(f.current(),f.current=null),a.current&&o.current)if(u.current){const D=u.current(a.current,o.current,b);f.current=D}else b()},[b,u]),T=O.useCallback(D=>{a.current=D,A()},[A]),S=O.useCallback(D=>{o.current=D,A()},[A]),C=O.useMemo(()=>({reference:a,floating:o}),[]);return O.useMemo(()=>({...d,update:b,refs:C,reference:T,floating:S}),[d,b,C,T,S])}const GZ=n=>{const{element:e,padding:t}=n;function i(r){return Object.prototype.hasOwnProperty.call(r,"current")}return{name:"arrow",options:n,fn(r){return i(e)?e.current!=null?VD({element:e.current,padding:t}).fn(r):{}:e?VD({element:e,padding:t}).fn(r):{}}}},$Z=O.forwardRef((n,e)=>{const{children:t,width:i=10,height:r=5,...a}=n;return O.createElement(jh.svg,Pi({},a,{ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),n.asChild?t:O.createElement("polygon",{points:"0,0 30,0 15,10"}))}),jZ=$Z;function XZ(n){const e=O.useRef(n);return O.useEffect(()=>{e.current=n}),O.useMemo(()=>(...t)=>{var i;return(i=e.current)===null||i===void 0?void 0:i.call(e,...t)},[])}const i0=globalThis?.document?O.useLayoutEffect:()=>{};function WZ(n){const[e,t]=O.useState(void 0);return i0(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const a=r[0];let o,u;if("borderBoxSize"in a){const f=a.borderBoxSize,d=Array.isArray(f)?f[0]:f;o=d.inlineSize,u=d.blockSize}else o=n.offsetWidth,u=n.offsetHeight;t({width:o,height:u})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}const aB="Popper",[Vw,sB]=Xz(aB),[qZ,oB]=Vw(aB),YZ=n=>{const{__scopePopper:e,children:t}=n,[i,r]=O.useState(null);return O.createElement(qZ,{scope:e,anchor:i,onAnchorChange:r},t)},KZ="PopperAnchor",ZZ=O.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...r}=n,a=oB(KZ,t),o=O.useRef(null),u=pm(e,o);return O.useEffect(()=>{a.onAnchorChange(i?.current||o.current)}),i?null:O.createElement(jh.div,Pi({},r,{ref:u}))}),w_="PopperContent",[QZ,JZ]=Vw(w_),[eQ,tQ]=Vw(w_,{hasParent:!1,positionUpdateFns:new Set}),nQ=O.forwardRef((n,e)=>{var t,i,r,a,o,u,f,d;const{__scopePopper:m,side:g="bottom",sideOffset:y=0,align:b="center",alignOffset:_=0,arrowPadding:A=0,collisionBoundary:T=[],collisionPadding:S=0,sticky:C="partial",hideWhenDetached:D=!1,avoidCollisions:N=!0,onPlaced:z,...U}=n,I=oB(w_,m),[V,B]=O.useState(null),L=pm(e,wt=>B(wt)),[W,oe]=O.useState(null),ee=WZ(W),he=(t=ee?.width)!==null&&t!==void 0?t:0,de=(i=ee?.height)!==null&&i!==void 0?i:0,k=g+(b!=="center"?"-"+b:""),Y=typeof S=="number"?S:{top:0,right:0,bottom:0,left:0,...S},K=Array.isArray(T)?T:[T],ue=K.length>0,G={padding:Y,boundary:K.filter(oQ),altBoundary:ue},{reference:te,floating:Se,strategy:ye,x:se,y:we,placement:Be,middlewareData:je,update:Xe}=kZ({strategy:"fixed",placement:k,whileElementsMounted:FZ,middleware:[lQ(),OZ({mainAxis:y+de,alignmentAxis:_}),N?NZ({mainAxis:!0,crossAxis:!1,limiter:C==="partial"?PZ():void 0,...G}):void 0,W?GZ({element:W,padding:A}):void 0,N?RZ({...G}):void 0,LZ({...G,apply:({elements:wt,availableWidth:j,availableHeight:H})=>{wt.floating.style.setProperty("--radix-popper-available-width",`${j}px`),wt.floating.style.setProperty("--radix-popper-available-height",`${H}px`)}}),uQ({arrowWidth:he,arrowHeight:de}),D?DZ({strategy:"referenceHidden"}):void 0].filter(sQ)});i0(()=>{te(I.anchor)},[te,I.anchor]);const gt=se!==null&&we!==null,[bt,Zt]=lB(Be),Pt=XZ(z);i0(()=>{gt&&Pt?.()},[gt,Pt]);const Mt=(r=je.arrow)===null||r===void 0?void 0:r.x,Z=(a=je.arrow)===null||a===void 0?void 0:a.y,Qe=((o=je.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[$e,We]=O.useState();i0(()=>{V&&We(window.getComputedStyle(V).zIndex)},[V]);const{hasParent:Pe,positionUpdateFns:rt}=tQ(w_,m),He=!Pe;O.useLayoutEffect(()=>{if(!He)return rt.add(Xe),()=>{rt.delete(Xe)}},[He,rt,Xe]),i0(()=>{He&&gt&&Array.from(rt).reverse().forEach(wt=>requestAnimationFrame(wt))},[He,gt,rt]);const at={"data-side":bt,"data-align":Zt,...U,ref:L,style:{...U.style,animation:gt?void 0:"none",opacity:(u=je.hide)!==null&&u!==void 0&&u.referenceHidden?0:void 0}};return O.createElement("div",{ref:Se,"data-radix-popper-content-wrapper":"",style:{position:ye,left:0,top:0,transform:gt?`translate3d(${Math.round(se)}px, ${Math.round(we)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:$e,"--radix-popper-transform-origin":[(f=je.transformOrigin)===null||f===void 0?void 0:f.x,(d=je.transformOrigin)===null||d===void 0?void 0:d.y].join(" ")},dir:n.dir},O.createElement(QZ,{scope:m,placedSide:bt,onArrowChange:oe,arrowX:Mt,arrowY:Z,shouldHideArrow:Qe},He?O.createElement(eQ,{scope:m,hasParent:!0,positionUpdateFns:rt},O.createElement(jh.div,at)):O.createElement(jh.div,at)))}),iQ="PopperArrow",rQ={top:"bottom",right:"left",bottom:"top",left:"right"},aQ=O.forwardRef(function(e,t){const{__scopePopper:i,...r}=e,a=JZ(iQ,i),o=rQ[a.placedSide];return O.createElement("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0}},O.createElement(jZ,Pi({},r,{ref:t,style:{...r.style,display:"block"}})))});function sQ(n){return n!==void 0}function oQ(n){return n!==null}const lQ=()=>({name:"anchorCssProperties",fn(n){const{rects:e,elements:t}=n,{width:i,height:r}=e.reference;return t.floating.style.setProperty("--radix-popper-anchor-width",`${i}px`),t.floating.style.setProperty("--radix-popper-anchor-height",`${r}px`),{}}}),uQ=n=>({name:"transformOrigin",options:n,fn(e){var t,i,r,a,o;const{placement:u,rects:f,middlewareData:d}=e,g=((t=d.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,y=g?0:n.arrowWidth,b=g?0:n.arrowHeight,[_,A]=lB(u),T={start:"0%",center:"50%",end:"100%"}[A],S=((i=(r=d.arrow)===null||r===void 0?void 0:r.x)!==null&&i!==void 0?i:0)+y/2,C=((a=(o=d.arrow)===null||o===void 0?void 0:o.y)!==null&&a!==void 0?a:0)+b/2;let D="",N="";return _==="bottom"?(D=g?T:`${S}px`,N=`${-b}px`):_==="top"?(D=g?T:`${S}px`,N=`${f.floating.height+b}px`):_==="right"?(D=`${-b}px`,N=g?T:`${C}px`):_==="left"&&(D=`${f.floating.width+b}px`,N=g?T:`${C}px`),{data:{x:D,y:N}}}});function lB(n){const[e,t="center"]=n.split("-");return[e,t]}const cQ=YZ,fQ=ZZ,hQ=nQ,dQ=aQ,YD=globalThis?.document?O.useLayoutEffect:()=>{};function pQ(n,e){return O.useReducer((t,i)=>{const r=e[t][i];return r??t},n)}const uB=n=>{const{present:e,children:t}=n,i=mQ(e),r=typeof t=="function"?t({present:i.isPresent}):O.Children.only(t),a=pm(i.ref,r.ref);return typeof t=="function"||i.isPresent?O.cloneElement(r,{ref:a}):null};uB.displayName="Presence";function mQ(n){const[e,t]=O.useState(),i=O.useRef({}),r=O.useRef(n),a=O.useRef("none"),o=n?"mounted":"unmounted",[u,f]=pQ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const d=rb(i.current);a.current=u==="mounted"?d:"none"},[u]),YD(()=>{const d=i.current,m=r.current;if(m!==n){const y=a.current,b=rb(d);n?f("MOUNT"):b==="none"||d?.display==="none"?f("UNMOUNT"):f(m&&y!==b?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,f]),YD(()=>{if(e){const d=g=>{const b=rb(i.current).includes(g.animationName);g.target===e&&b&&gv.flushSync(()=>f("ANIMATION_END"))},m=g=>{g.target===e&&(a.current=rb(i.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:O.useCallback(d=>{d&&(i.current=getComputedStyle(d)),t(d)},[])}}function rb(n){return n?.animationName||"none"}function cB(n){const e=O.useRef(n);return O.useEffect(()=>{e.current=n}),O.useMemo(()=>(...t)=>{var i;return(i=e.current)===null||i===void 0?void 0:i.call(e,...t)},[])}function gQ({prop:n,defaultProp:e,onChange:t=()=>{}}){const[i,r]=vQ({defaultProp:e,onChange:t}),a=n!==void 0,o=a?n:i,u=cB(t),f=O.useCallback(d=>{if(a){const g=typeof d=="function"?d(n):d;g!==n&&u(g)}else r(d)},[a,n,r,u]);return[o,f]}function vQ({defaultProp:n,onChange:e}){const t=O.useState(n),[i]=t,r=O.useRef(i),a=cB(e);return O.useEffect(()=>{r.current!==i&&(a(i),r.current=i)},[i,r,a]),t}const yQ=O.forwardRef((n,e)=>O.createElement(jh.span,Pi({},n,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}))),xQ=yQ,[DS,kae]=Xz("Tooltip",[sB]),OS=sB(),bQ="TooltipProvider",BT="tooltip.open",[Gae,Hw]=DS(bQ),kw="Tooltip",[_Q,NS]=DS(kw),SQ=n=>{const{__scopeTooltip:e,children:t,open:i,defaultOpen:r=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:u}=n,f=Hw(kw,n.__scopeTooltip),d=OS(e),[m,g]=O.useState(null),y=EZ(),b=O.useRef(0),_=o??f.disableHoverableContent,A=u??f.delayDuration,T=O.useRef(!1),[S=!1,C]=gQ({prop:i,defaultProp:r,onChange:I=>{I?(f.onOpen(),document.dispatchEvent(new CustomEvent(BT))):f.onClose(),a?.(I)}}),D=O.useMemo(()=>S?T.current?"delayed-open":"instant-open":"closed",[S]),N=O.useCallback(()=>{window.clearTimeout(b.current),T.current=!1,C(!0)},[C]),z=O.useCallback(()=>{window.clearTimeout(b.current),C(!1)},[C]),U=O.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{T.current=!0,C(!0)},A)},[A,C]);return O.useEffect(()=>()=>window.clearTimeout(b.current),[]),O.createElement(cQ,d,O.createElement(_Q,{scope:e,contentId:y,open:S,stateAttribute:D,trigger:m,onTriggerChange:g,onTriggerEnter:O.useCallback(()=>{f.isOpenDelayed?U():N()},[f.isOpenDelayed,U,N]),onTriggerLeave:O.useCallback(()=>{_?z():window.clearTimeout(b.current)},[z,_]),onOpen:N,onClose:z,disableHoverableContent:_},t))},KD="TooltipTrigger",EQ=O.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=NS(KD,t),a=Hw(KD,t),o=OS(t),u=O.useRef(null),f=pm(e,u,r.onTriggerChange),d=O.useRef(!1),m=O.useRef(!1),g=O.useCallback(()=>d.current=!1,[]);return O.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),O.createElement(fQ,Pi({asChild:!0},o),O.createElement(jh.button,Pi({"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute},i,{ref:f,onPointerMove:gu(n.onPointerMove,y=>{y.pointerType!=="touch"&&!m.current&&!a.isPointerInTransitRef.current&&(r.onTriggerEnter(),m.current=!0)}),onPointerLeave:gu(n.onPointerLeave,()=>{r.onTriggerLeave(),m.current=!1}),onPointerDown:gu(n.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:gu(n.onFocus,()=>{d.current||r.onOpen()}),onBlur:gu(n.onBlur,r.onClose),onClick:gu(n.onClick,r.onClose)})))}),MQ="TooltipPortal",[$ae,TQ]=DS(MQ,{forceMount:void 0}),nv="TooltipContent",AQ=O.forwardRef((n,e)=>{const t=TQ(nv,n.__scopeTooltip),{forceMount:i=t.forceMount,side:r="top",...a}=n,o=NS(nv,n.__scopeTooltip);return O.createElement(uB,{present:i||o.open},o.disableHoverableContent?O.createElement(fB,Pi({side:r},a,{ref:e})):O.createElement(wQ,Pi({side:r},a,{ref:e})))}),wQ=O.forwardRef((n,e)=>{const t=NS(nv,n.__scopeTooltip),i=Hw(nv,n.__scopeTooltip),r=O.useRef(null),a=pm(e,r),[o,u]=O.useState(null),{trigger:f,onClose:d}=t,m=r.current,{onPointerInTransitChange:g}=i,y=O.useCallback(()=>{u(null),g(!1)},[g]),b=O.useCallback((_,A)=>{const T=_.currentTarget,S={x:_.clientX,y:_.clientY},C=NQ(S,T.getBoundingClientRect()),D=C==="right"||C==="bottom"?-5:5,z=C==="right"||C==="left"?{x:_.clientX+D,y:_.clientY}:{x:_.clientX,y:_.clientY+D},U=PQ(A.getBoundingClientRect()),I=UQ([z,...U]);u(I),g(!0)},[g]);return O.useEffect(()=>()=>y(),[y]),O.useEffect(()=>{if(f&&m){const _=T=>b(T,m),A=T=>b(T,f);return f.addEventListener("pointerleave",_),m.addEventListener("pointerleave",A),()=>{f.removeEventListener("pointerleave",_),m.removeEventListener("pointerleave",A)}}},[f,m,b,y]),O.useEffect(()=>{if(o){const _=A=>{const T=A.target,S={x:A.clientX,y:A.clientY},C=f?.contains(T)||m?.contains(T),D=!LQ(S,o);C?y():D&&(y(),d())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[f,m,o,d,y]),O.createElement(fB,Pi({},n,{ref:a}))}),[CQ,RQ]=DS(kw,{isInside:!1}),fB=O.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":r,onEscapeKeyDown:a,onPointerDownOutside:o,...u}=n,f=NS(nv,t),d=OS(t),{onClose:m}=f;return O.useEffect(()=>(document.addEventListener(BT,m),()=>document.removeEventListener(BT,m)),[m]),O.useEffect(()=>{if(f.trigger){const g=y=>{const b=y.target;b!=null&&b.contains(f.trigger)&&m()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[f.trigger,m]),O.createElement(vZ,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:g=>g.preventDefault(),onDismiss:m},O.createElement(hQ,Pi({"data-state":f.stateAttribute},d,u,{ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),O.createElement(qz,null,i),O.createElement(CQ,{scope:t,isInside:!0},O.createElement(xQ,{id:f.contentId,role:"tooltip"},r||i))))}),DQ="TooltipArrow",OQ=O.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=OS(t);return RQ(DQ,t).isInside?null:O.createElement(dQ,Pi({},r,i,{ref:e}))});function NQ(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),r=Math.abs(e.right-n.x),a=Math.abs(e.left-n.x);switch(Math.min(t,i,r,a)){case a:return"left";case r:return"right";case t:return"top";case i:return"bottom";default:return null}}function PQ(n){const{top:e,right:t,bottom:i,left:r}=n;return[{x:r,y:e},{x:t,y:e},{x:t,y:i},{x:r,y:i}]}function LQ(n,e){const{x:t,y:i}=n;let r=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const u=e[a].x,f=e[a].y,d=e[o].x,m=e[o].y;f>i!=m>i&&t<(d-u)*(i-f)/(m-f)+u&&(r=!r)}return r}function UQ(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),zQ(e)}function zQ(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const r=n[i];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(r.y-o.y)>=(a.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const r=n[i];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(r.y-o.y)>=(a.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}const BQ=SQ,IQ=EQ,FQ=AQ,VQ=OQ;function HQ(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function ii(n,e){if(n==null)return{};var t=HQ(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}let vi;(function(n){n[n.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",n[n.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",n[n.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",n[n.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",n[n.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",n[n.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",n[n.THEME_ERROR=6]="THEME_ERROR",n[n.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",n[n.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",n[n.EMPTY_KEY=9]="EMPTY_KEY"})(vi||(vi={}));const kQ={[vi.UNSUPPORTED_INPUT]:(n,e)=>[`An input with type \`${n}\` input was found at path \`${e}\` but it's not supported yet.`],[vi.NO_COMPONENT_FOR_TYPE]:(n,e)=>[`Type \`${n}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[vi.UNKNOWN_INPUT]:(n,e)=>[`input at path \`${n}\` is not recognized.`,e],[vi.DUPLICATE_KEYS]:(n,e,t)=>[`Key \`${n}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[vi.ALREADY_REGISTERED_TYPE]:n=>[`Type ${n} has already been registered. You can't register a component with the same type.`],[vi.CLIPBOARD_ERROR]:n=>["Error copying the value",n],[vi.THEME_ERROR]:(n,e)=>[`Error accessing the theme \`${n}.${e}\` value.`],[vi.PATH_DOESNT_EXIST]:n=>[`Error getting the value at path \`${n}\`. There is probably an error in your \`render\` function.`],[vi.PATH_DOESNT_EXIST]:n=>[`Error accessing the value at path \`${n}\``],[vi.INPUT_TYPE_OVERRIDE]:(n,e,t)=>[`Input at path \`${n}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[vi.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function hB(n,e,...t){const[i,...r]=kQ[e](...t);console[n]("LEVA: "+i,...r)}const xu=hB.bind(null,"warn"),GQ=hB.bind(null,"log"),$Q=["value"],jQ=["schema"],XQ=["value"],dB=[],Xh={};function ZD(n){let{value:e}=n,t=ii(n,$Q);for(let i of dB){const r=i(e,t);if(r)return r}}function Fu(n,e){let{schema:t}=e,i=ii(e,jQ);if(n in Xh){xu(vi.ALREADY_REGISTERED_TYPE,n);return}dB.push((r,a)=>t(r,a)&&n),Xh[n]=i}function iM(n,e,t,i){const{normalize:r}=Xh[n];if(r)return r(e,t,i);if(typeof e!="object"||!("value"in e))return{value:e};const{value:a}=e,o=ii(e,XQ);return{value:a,settings:o}}function WQ(n,e,t,i,r,a){const{sanitize:o}=Xh[n];return o?o(e,t,i,r,a):e}function QD(n,e,t){const{format:i}=Xh[n];return i?i(e,t):e}function qQ(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function JD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function nn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(t),!0).forEach(function(i){qQ(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):JD(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const af=(n,e,t)=>n>t?t:n<e?e:n,YQ=n=>{if(n===""||typeof n=="number")return n;try{const e=kc(n);if(!isNaN(e))return e}catch{}return parseFloat(n)},KQ=Math.log(10);function eO(n){let e=Math.abs(+String(n).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const t=Math.floor(Math.log(e)/KQ)+1,i=Math.floor(Math.log10(Math.abs(n))),r=Math.pow(10,i-t);return Math.max(r,.001)}const C_=(n,e,t)=>t===e?0:(af(n,e,t)-e)/(t-e),R_=(n,e,t)=>n*(t-e)+e,ZQ=()=>"_"+Math.random().toString(36).substr(2,9),tO=/\(([0-9+\-*/^ .]+)\)/,nO=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,iO=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,rO=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,aO=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,sO=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function kc(n){if(isNaN(Number(n)))if(tO.test(n)){const e=n.replace(tO,(t,i)=>String(kc(i)));return kc(e)}else if(nO.test(n)){const e=n.replace(nO,(t,i,r)=>String(Math.pow(Number(i),Number(r))));return kc(e)}else if(iO.test(n)){const e=n.replace(iO,(t,i,r)=>String(Number(i)*Number(r)));return kc(e)}else if(rO.test(n)){const e=n.replace(rO,(t,i,r)=>{if(r!=0)return String(Number(i)/Number(r));throw new Error("Division by zero")});return kc(e)}else if(aO.test(n)){const e=n.replace(aO,(t,i,r)=>String(Number(i)+Number(r)));return kc(e)}else if(sO.test(n)){const e=n.replace(sO,(t,i,r)=>String(Number(i)-Number(r)));return kc(e)}else return Number(n);return Number(n)}function QQ(n,e){const t=nn({},n);return e.forEach(i=>i in n&&delete t[i]),t}function JQ(n,e){return n.reduce((t,i,r)=>Object.assign(t,{[e[r]]:i}),{})}function pB(n){return Object.prototype.toString.call(n)==="[object Object]"}const eJ=n=>pB(n)&&Object.keys(n).length===0;let wl;(function(n){n.BUTTON="BUTTON",n.BUTTON_GROUP="BUTTON_GROUP",n.MONITOR="MONITOR",n.FOLDER="FOLDER"})(wl||(wl={}));let Oo;(function(n){n.SELECT="SELECT",n.IMAGE="IMAGE",n.NUMBER="NUMBER",n.COLOR="COLOR",n.STRING="STRING",n.BOOLEAN="BOOLEAN",n.INTERVAL="INTERVAL",n.VECTOR3D="VECTOR3D",n.VECTOR2D="VECTOR2D"})(Oo||(Oo={}));const tJ=["type","__customInput"],nJ=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],iJ=["type"];function mB(n,e,t={},i){var r,a;if(typeof n!="object"||Array.isArray(n))return{type:i,input:n,options:nn({key:e,label:e,optional:!1,disabled:!1,order:0},t)};if("__customInput"in n){const{type:z,__customInput:U}=n,I=ii(n,tJ);return mB(U,e,I,z)}const{render:o,label:u,optional:f,order:d=0,disabled:m,hint:g,onChange:y,onEditStart:b,onEditEnd:_,transient:A}=n,T=ii(n,nJ),S=nn({render:o,key:e,label:u??e,hint:g,transient:A??!!y,onEditStart:b,onEditEnd:_,disabled:m,optional:f,order:d},t);let{type:C}=T,D=ii(T,iJ);if(C=i??C,C in wl)return{type:C,input:D,options:S};let N;return i&&pB(D)&&"value"in D?N=D.value:N=eJ(D)?void 0:D,{type:C,input:N,options:nn(nn({},S),{},{onChange:y,optional:(r=S.optional)!==null&&r!==void 0?r:!1,disabled:(a=S.disabled)!==null&&a!==void 0?a:!1})}}function rJ(n,e,t,i){const r=mB(n,e),{type:a,input:o,options:u}=r;if(a)return a in wl?r:{type:a,input:iM(a,o,t,i),options:u};let f=ZD(o);return f?{type:f,input:iM(f,o,t,i),options:u}:(f=ZD({value:o}),f?{type:f,input:iM(f,{value:o},t,i),options:u}:!1)}function oO(n,e,t,i,r){const{value:a,type:o,settings:u}=n;n.value=gB({type:o,value:a,settings:u},e,t,i),n.fromPanel=r}const aJ=function(e,t,i){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=i};function gB({type:n,value:e,settings:t},i,r,a){const o=n!=="SELECT"&&typeof i=="function"?i(e):i;let u;try{u=WQ(n,o,t,e,r,a)}catch(f){throw new aJ(`The value \`${i}\` did not result in a correct value.`,e,f)}return __(u,e)?e:u}const vB=(n,e,t=!1)=>{let i=0;return function(){const r=arguments,a=t&&!i,o=()=>n.apply(this,r);window.clearTimeout(i),i=window.setTimeout(o,e),a&&o()}},yB=n=>n.shiftKey?5:n.altKey?1/5:1,sJ=["value"],oJ=["min","max"],lJ=n=>{if(typeof n=="number")return!0;if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?!1:n.substring((""+e).length).trim().length<4}return!1},xB=(n,{min:e=-1/0,max:t=1/0,suffix:i})=>{const r=parseFloat(n);if(n===""||isNaN(r))throw Error("Invalid number");const a=af(r,e,t);return i?a+i:a},uJ=(n,{pad:e=0,suffix:t})=>{const i=parseFloat(n).toFixed(e);return t?i+t:i},bB=n=>{let{value:e}=n,t=ii(n,sJ);const{min:i=-1/0,max:r=1/0}=t,a=ii(t,oJ);let o=parseFloat(e);const u=typeof e=="string"?e.substring((""+o).length):void 0;o=af(o,i,r);let f=t.step;f||(Number.isFinite(i)?Number.isFinite(r)?f=+(Math.abs(r-i)/100).toPrecision(1):f=+(Math.abs(o-i)/100).toPrecision(1):Number.isFinite(r)&&(f=+(Math.abs(r-o)/100).toPrecision(1)));const d=f?eO(f)*10:eO(o);f=f||d/10;const m=Math.round(af(Math.log10(1/d),0,2));return{value:u?o+u:o,settings:nn({initialValue:o,step:f,pad:m,min:i,max:r,suffix:u},a)}},_B=(n,{step:e,initialValue:t})=>{const i=Math.round((n-t)/e);return t+i*e};var SB=Object.freeze({__proto__:null,schema:lJ,sanitize:xB,format:uJ,normalize:bB,sanitizeStep:_B});function Ji(){return Ji=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ji.apply(this,arguments)}const EB=O.createContext({});function ta(){return O.useContext(EB)}const MB=O.createContext(null),TB=O.createContext(null),AB=O.createContext(null);function Tv(){return O.useContext(TB)}function cJ(){return O.useContext(AB)}const fJ=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function ab(n,e){const[t,i]=n.split(" "),r={};return t!=="none"&&(r.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),i&&(r.backgroundColor=i),r}const Yg={$inputStyle:()=>n=>ab(n,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>n=>ab(n,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>n=>ab(n,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>n=>ab(n,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:It,css:jae,createTheme:Xae,globalCss:hJ,keyframes:Wae}=sZ({prefix:"leva",theme:fJ(),utils:nn(nn({},Yg),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:n=>({"&:focus":Yg.$focusStyle()(n)}),$focusWithin:n=>({"&:focus-within":Yg.$focusStyle()(n)}),$hover:n=>({"&:hover":Yg.$hoverStyle()(n)}),$active:n=>({"&:active":Yg.$activeStyle()(n)})})}),dJ=hJ({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function Au(n,e){const{theme:t}=O.useContext(MB);if(!(n in t)||!(e in t[n]))return xu(vi.THEME_ERROR,n,e),"";let i=e;for(;;){let r=t[n][i];if(typeof r=="string"&&r.charAt(0)==="$")i=r.substr(1);else return r}}const wB=It("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),CB=It("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${wB}`]:{paddingLeft:0}}),pJ=It(CB,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),mJ=It("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),gJ=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],vJ=["onUpdate"];function Gw(n){let{innerLabel:e,value:t,onUpdate:i,onChange:r,onKeyDown:a,type:o,id:u,inputType:f="text",rows:d=0}=n,m=ii(n,gJ);const{id:g,emitOnEditStart:y,emitOnEditEnd:b,disabled:_}=ta(),A=u||g,T=O.useRef(null),S=d>0,C=S?"textarea":"input",D=O.useCallback(U=>I=>{const V=I.currentTarget.value;U(V)},[]);J.useEffect(()=>{const U=T.current,I=D(V=>{i(V),b()});return U?.addEventListener("blur",I),()=>U?.removeEventListener("blur",I)},[D,i,b]);const N=O.useCallback(U=>{U.key==="Enter"&&D(i)(U)},[D,i]),z=Object.assign({as:C},S?{rows:d}:{},m);return J.createElement(mJ,{textArea:S},e&&typeof e=="string"?J.createElement(CB,null,e):e,J.createElement(wB,Ji({levaType:o,ref:T,id:A,type:f,autoComplete:"off",spellCheck:"false",value:t,onChange:D(r),onFocus:()=>y(),onKeyPress:N,onKeyDown:a,disabled:_},z)))}function yJ(n){let{onUpdate:e}=n,t=ii(n,vJ);const i=O.useCallback(a=>e(YQ(a)),[e]),r=O.useCallback(a=>{const o=a.key==="ArrowUp"?1:a.key==="ArrowDown"?-1:0;if(o){a.preventDefault();const u=a.altKey?.1:a.shiftKey?10:1;e(f=>parseFloat(f)+o*u)}},[e]);return J.createElement(Gw,Ji({},t,{onUpdate:i,onKeyDown:r,type:"number"}))}const D_=It("div",{}),IT=It("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),xJ=It("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${IT}::after`]:{opacity:.6},[`${D_}:hover > & + ${IT}::after`]:{opacity:.6},[`${D_}:hover > & > svg`]:{opacity:1}}),RB=It("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${D_}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),DB=It("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${RB} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),OB=It(DB,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),bJ=It("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),_J=It("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),FT=It("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),SJ=It("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${FT}`]:{pointerEvents:"auto"}}}}}),NB=It("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),EJ=It("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),MJ=It(VQ,{fill:"$toolTipBackground"});function $w({children:n}){const{className:e}=O.useContext(MB);return J.createElement(CK,{className:e},n)}const TJ=["align"];function AJ(){const{id:n,disable:e,disabled:t}=ta();return J.createElement(J.Fragment,null,J.createElement(_J,{id:n+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),J.createElement("label",{htmlFor:n+"__disable"}))}function wJ(n){const{id:e,optional:t,hint:i}=ta(),r=n.htmlFor||(e?{htmlFor:e}:null),a=!i&&typeof n.children=="string"?{title:n.children}:null;return J.createElement(J.Fragment,null,t&&J.createElement(AJ,null),i!==void 0?J.createElement(BQ,null,J.createElement(IQ,{asChild:!0},J.createElement(FT,Ji({},r,n))),J.createElement(FQ,{side:"top",sideOffset:2},J.createElement(EJ,null,i,J.createElement(MJ,null)))):J.createElement(FT,Ji({},r,a,n)))}function Po(n){let{align:e}=n,t=ii(n,TJ);const{value:i,label:r,key:a,disabled:o}=ta(),{hideCopyButton:u}=cJ(),f=!u&&a!==void 0,[d,m]=O.useState(!1),g=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[a]:i??""})),m(!0)}catch{xu(vi.CLIPBOARD_ERROR,{[a]:i})}};return J.createElement(bJ,{align:e,onPointerLeave:()=>m(!1)},J.createElement(wJ,t),f&&!o&&J.createElement("div",{title:`Click to copy ${typeof r=="string"?r:a} value`},d?J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},J.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),J.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):J.createElement("svg",{onClick:g,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},J.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),J.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const CJ=["toggled"],RJ=It("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function jw(n){let{toggled:e}=n,t=ii(n,CJ);return J.createElement(RJ,Ji({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),J.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const DJ=["input"];function qs(n){let{input:e}=n,t=ii(n,DJ);return e?J.createElement(OB,t):J.createElement(DB,t)}function PB({value:n,type:e,settings:t,setValue:i}){const[r,a]=O.useState(QD(e,n,t)),o=O.useRef(n),u=O.useRef(t);u.current=t;const f=O.useCallback(m=>a(QD(e,m,u.current)),[e]),d=O.useCallback(m=>{try{i(m)}catch(g){const{type:y,previousValue:b}=g;if(y!=="LEVA_ERROR")throw g;f(b)}},[f,i]);return O.useEffect(()=>{__(n,o.current)||f(n),o.current=n},[n,f]),{displayValue:r,onChange:a,onUpdate:d}}function Av(n,e){const{emitOnEditStart:t,emitOnEditEnd:i}=ta();return cK(r=>{r.first&&(document.body.classList.add("leva__panel__dragged"),t?.());const a=n(r);return r.last&&(document.body.classList.remove("leva__panel__dragged"),i?.()),a},e)}function OJ(n){const e=O.useRef(null),t=O.useRef(null),i=O.useRef(!1);return O.useEffect(()=>{const r=vB(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,n(e.current,t.current)},250);return window.addEventListener("resize",r),i.current||(r(),i.current=!0),()=>window.removeEventListener("resize",r)},[n]),O.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function LB(){const n=O.useRef(null),e=O.useRef({x:0,y:0}),t=O.useCallback(i=>{Object.assign(e.current,i),n.current&&(n.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[n,t]}const NJ=["__refCount"],rM=(n,e)=>{if(!n[e])return null;const t=n[e];return ii(t,NJ)};function PJ(n){const e=Tv(),[t,i]=O.useState(rM(e.getData(),n)),r=O.useCallback(d=>e.setValueAtPath(n,d,!0),[n,e]),a=O.useCallback(d=>e.setSettingsAtPath(n,d),[n,e]),o=O.useCallback(d=>e.disableInputAtPath(n,d),[n,e]),u=O.useCallback(()=>e.emitOnEditStart(n),[n,e]),f=O.useCallback(()=>e.emitOnEditEnd(n),[n,e]);return O.useEffect(()=>{i(rM(e.getData(),n));const d=e.useStore.subscribe(m=>rM(m.data,n),i,{equalityFn:Fz});return()=>d()},[e,n]),[t,{set:r,setSettings:a,disable:o,storeId:e.storeId,emitOnEditStart:u,emitOnEditEnd:f}]}const LJ=It("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),UB=It("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),VT=It("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),zB=It("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),BB=It("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function UJ({value:n,min:e,max:t,onDrag:i,step:r,initialValue:a}){const o=O.useRef(null),u=O.useRef(null),f=O.useRef(0),d=Au("sizes","scrubberWidth"),m=Av(({event:y,first:b,xy:[_],movement:[A],memo:T})=>{if(b){const{width:C,left:D}=o.current.getBoundingClientRect();f.current=C-parseFloat(d),T=y?.target===u.current?n:R_((_-D)/C,e,t)}const S=T+R_(A/f.current,0,t-e);return i(_B(S,{step:r,initialValue:a})),T}),g=C_(n,e,t);return J.createElement(zB,Ji({ref:o},m()),J.createElement(UB,null,J.createElement(BB,{style:{left:0,right:`${(1-g)*100}%`}})),J.createElement(VT,{ref:u,style:{left:`calc(${g} * (100% - ${d}))`}}))}const zJ=J.memo(({label:n,onUpdate:e,step:t,innerLabelTrim:i})=>{const[r,a]=O.useState(!1),o=Av(({active:u,delta:[f],event:d,memo:m=0,first:g,last:y,target:b})=>(g&&b.requestPointerLock(),y&&document.exitPointerLock(),a(u),m+=f/2,Math.abs(m)>=1&&(e(_=>parseFloat(_)+Math.floor(m)*t*yB(d)),m=0),m));return J.createElement(pJ,Ji({dragging:r,title:n.length>1?n:""},o()),n.slice(0,i))});function IB({label:n,id:e,displayValue:t,onUpdate:i,onChange:r,settings:a,innerLabelTrim:o=1}){const u=o>0&&J.createElement(zJ,{label:n,step:a.step,onUpdate:i,innerLabelTrim:o});return J.createElement(yJ,{id:e,value:String(t),onUpdate:i,onChange:r,innerLabel:u})}function BJ(){const n=ta(),{label:e,value:t,onUpdate:i,settings:r,id:a}=n,{min:o,max:u}=r,f=u!==1/0&&o!==-1/0;return J.createElement(qs,{input:!0},J.createElement(Po,null,e),J.createElement(LJ,{hasRange:f},f&&J.createElement(UJ,Ji({value:parseFloat(t),onDrag:i},r)),J.createElement(IB,Ji({},n,{id:a,label:"value",innerLabelTrim:f?0:1}))))}const{sanitizeStep:IJ}=SB,FJ=ii(SB,["sanitizeStep"]);var VJ=nn({component:BJ},FJ);const HJ=(n,e)=>Xa().schema({options:Xa().passesAnyOf(Xa().object(),Xa().array())}).test(e),kJ=(n,{values:e})=>{if(e.indexOf(n)<0)throw Error("Selected value doesn't match Select options");return n},GJ=(n,{values:e})=>e.indexOf(n),$J=n=>{let{value:e,options:t}=n,i,r;return Array.isArray(t)?(r=t,i=t.map(a=>String(a))):(r=Object.values(t),i=Object.keys(t)),"value"in n?r.includes(e)||(i.unshift(String(e)),r.unshift(e)):e=r[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:i,values:r}}};var jJ=Object.freeze({__proto__:null,schema:HJ,sanitize:kJ,format:GJ,normalize:$J});const XJ=It("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),HT=It("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),WJ=It("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${HT}:focus + &`]:{$focusStyle:""},[`${HT}:hover + &`]:{$hoverStyle:""}});function qJ({displayValue:n,value:e,onUpdate:t,id:i,settings:r,disabled:a}){const{keys:o,values:u}=r,f=O.useRef();return e===u[n]&&(f.current=o[n]),J.createElement(XJ,null,J.createElement(HT,{id:i,value:n,onChange:d=>t(u[Number(d.currentTarget.value)]),disabled:a},o.map((d,m)=>J.createElement("option",{key:d,value:m},d))),J.createElement(WJ,null,f.current),J.createElement(jw,{toggled:!0}))}function YJ(){const{label:n,value:e,displayValue:t,onUpdate:i,id:r,disabled:a,settings:o}=ta();return J.createElement(qs,{input:!0},J.createElement(Po,null,n),J.createElement(qJ,{id:r,value:e,displayValue:t,onUpdate:i,settings:o,disabled:a}))}var KJ=nn({component:YJ},jJ);const ZJ=n=>Xa().string().test(n),QJ=n=>{if(typeof n!="string")throw Error("Invalid string");return n},JJ=({value:n,editable:e=!0,rows:t=!1})=>({value:n,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}});var eee=Object.freeze({__proto__:null,schema:ZJ,sanitize:QJ,normalize:JJ});const tee=["displayValue","onUpdate","onChange","editable"],nee=It("div",{whiteSpace:"pre-wrap"});function iee(n){let{displayValue:e,onUpdate:t,onChange:i,editable:r=!0}=n,a=ii(n,tee);return r?J.createElement(Gw,Ji({value:e,onUpdate:t,onChange:i},a)):J.createElement(nee,null,e)}function ree(){const{label:n,settings:e,displayValue:t,onUpdate:i,onChange:r}=ta();return J.createElement(qs,{input:!0},J.createElement(Po,null,n),J.createElement(iee,Ji({displayValue:t,onUpdate:i,onChange:r},e)))}var aee=nn({component:ree},eee);const see=n=>Xa().boolean().test(n),oee=n=>{if(typeof n!="boolean")throw Error("Invalid boolean");return n};var lee=Object.freeze({__proto__:null,schema:see,sanitize:oee});const uee=It("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function cee({value:n,onUpdate:e,id:t,disabled:i}){return J.createElement(uee,null,J.createElement("input",{id:t,type:"checkbox",checked:n,onChange:r=>e(r.currentTarget.checked),disabled:i}),J.createElement("label",{htmlFor:t},J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},J.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function fee(){const{label:n,value:e,onUpdate:t,disabled:i,id:r}=ta();return J.createElement(qs,{input:!0},J.createElement(Po,null,n),J.createElement(cee,{value:e,onUpdate:t,id:r,disabled:i}))}var hee=nn({component:fee},lee);const dee=["locked"];function pee({value:n,id:e,valueKey:t,settings:i,onUpdate:r,innerLabelTrim:a}){const o=O.useRef(n[t]);o.current=n[t];const u=O.useCallback(d=>r({[t]:gB({type:"NUMBER",value:o.current,settings:i},d)}),[r,i,t]),f=PB({type:"NUMBER",value:n[t],settings:i,setValue:u});return J.createElement(IB,{id:e,label:t,value:n[t],displayValue:f.displayValue,onUpdate:f.onUpdate,onChange:f.onChange,settings:i,innerLabelTrim:a})}const mee=It("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function gee(n){let{locked:e}=n,t=ii(n,dee);return J.createElement("svg",Ji({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e?J.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):J.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function Xw({value:n,onUpdate:e,settings:t,innerLabelTrim:i}){const{id:r,setSettings:a}=ta(),{lock:o,locked:u}=t;return J.createElement(mee,{withLock:o},o&&J.createElement(gee,{locked:u,onClick:()=>a({locked:!u})}),Object.keys(n).map((f,d)=>J.createElement(pee,{id:d===0?r:`${r}.${f}`,key:f,valueKey:f,value:n,settings:t[f],onUpdate:e,innerLabelTrim:i})))}const FB=(n,e)=>{const t={};let i=0,r=1/0;Object.entries(n).forEach(([a,o])=>{t[a]=bB(nn({value:o},e[a])).settings,i=Math.max(i,t[a].step),r=Math.min(r,t[a].pad)});for(let a in t){const{step:o,min:u,max:f}=e[a]||{};!isFinite(o)&&(!isFinite(u)||!isFinite(f))&&(t[a].step=i,t[a].pad=r)}return t},vee=["lock"],yee=["value"];function xee(n){const e=Xa().array().length(n).every.number(),t=i=>{if(!i||typeof i!="object")return!1;const r=Object.values(i);return r.length===n&&r.every(a=>isFinite(a))};return i=>e.test(i)||t(i)}function bee(n){return Array.isArray(n)?"array":"object"}function M0(n,e,t){return bee(n)===e?n:e==="array"?Object.values(n):JQ(n,t)}const _ee=(n,e,t)=>{const i=M0(n,"object",e.keys);for(let o in i)i[o]=xB(i[o],e[o]);const r=Object.keys(i);let a={};if(r.length===e.keys.length)a=i;else{const o=M0(t,"object",e.keys);if(r.length===1&&e.locked){const u=r[0],f=i[u],d=o[u],m=d!==0?f/d:1;for(let g in o)g===u?a[u]=f:a[g]=o[g]*m}else a=nn(nn({},o),i)}return M0(a,e.format,e.keys)},See=(n,e)=>M0(n,"object",e.keys),Eee=n=>!!n&&("step"in n||"min"in n||"max"in n);function Mee(n,e,t=[]){const{lock:i=!1}=e,r=ii(e,vee),a=Array.isArray(n)?"array":"object",o=a==="object"?Object.keys(n):t,u=M0(n,"object",o),f=Eee(r)?o.reduce((m,g)=>Object.assign(m,{[g]:r}),{}):r,d=FB(u,f);return{value:a==="array"?n:u,settings:nn(nn({},d),{},{format:a,keys:o,lock:i,locked:!1})}}function VB(n){return{schema:xee(n.length),normalize:e=>{let{value:t}=e,i=ii(e,yee);return Mee(t,i,n)},format:(e,t)=>See(e,t),sanitize:(e,t,i)=>_ee(e,t,i)}}var Tee={grad:.9,turn:360,rad:360/(2*Math.PI)},du=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},xr=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},$s=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},HB=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},lO=function(n){return{r:$s(n.r,0,255),g:$s(n.g,0,255),b:$s(n.b,0,255),a:$s(n.a)}},aM=function(n){return{r:xr(n.r),g:xr(n.g),b:xr(n.b),a:xr(n.a,3)}},Aee=/^#([0-9a-f]{3,8})$/i,sb=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},kB=function(n){var e=n.r,t=n.g,i=n.b,r=n.a,a=Math.max(e,t,i),o=a-Math.min(e,t,i),u=o?a===e?(t-i)/o:a===t?2+(i-e)/o:4+(e-t)/o:0;return{h:60*(u<0?u+6:u),s:a?o/a*100:0,v:a/255*100,a:r}},GB=function(n){var e=n.h,t=n.s,i=n.v,r=n.a;e=e/360*6,t/=100,i/=100;var a=Math.floor(e),o=i*(1-t),u=i*(1-(e-a)*t),f=i*(1-(1-e+a)*t),d=a%6;return{r:255*[i,u,o,o,f,i][d],g:255*[f,i,i,u,o,o][d],b:255*[o,o,f,i,i,u][d],a:r}},uO=function(n){return{h:HB(n.h),s:$s(n.s,0,100),l:$s(n.l,0,100),a:$s(n.a)}},cO=function(n){return{h:xr(n.h),s:xr(n.s),l:xr(n.l),a:xr(n.a,3)}},fO=function(n){return GB((t=(e=n).s,{h:e.h,s:(t*=((i=e.l)<50?i:100-i)/100)>0?2*t/(i+t)*100:0,v:i+t,a:e.a}));var e,t,i},T0=function(n){return{h:(e=kB(n)).h,s:(r=(200-(t=e.s))*(i=e.v)/100)>0&&r<200?t*i/100/(r<=100?r:200-r)*100:0,l:r/2,a:e.a};var e,t,i,r},wee=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Cee=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ree=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Dee=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,kT={string:[[function(n){var e=Aee.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?xr(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?xr(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=Ree.exec(n)||Dee.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:lO({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=wee.exec(n)||Cee.exec(n);if(!e)return null;var t,i,r=uO({h:(t=e[1],i=e[2],i===void 0&&(i="deg"),Number(t)*(Tee[i]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return fO(r)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,i=n.b,r=n.a,a=r===void 0?1:r;return du(e)&&du(t)&&du(i)?lO({r:Number(e),g:Number(t),b:Number(i),a:Number(a)}):null},"rgb"],[function(n){var e=n.h,t=n.s,i=n.l,r=n.a,a=r===void 0?1:r;if(!du(e)||!du(t)||!du(i))return null;var o=uO({h:Number(e),s:Number(t),l:Number(i),a:Number(a)});return fO(o)},"hsl"],[function(n){var e=n.h,t=n.s,i=n.v,r=n.a,a=r===void 0?1:r;if(!du(e)||!du(t)||!du(i))return null;var o=function(u){return{h:HB(u.h),s:$s(u.s,0,100),v:$s(u.v,0,100),a:$s(u.a)}}({h:Number(e),s:Number(t),v:Number(i),a:Number(a)});return GB(o)},"hsv"]]},hO=function(n,e){for(var t=0;t<e.length;t++){var i=e[t][0](n);if(i)return[i,e[t][1]]}return[null,void 0]},$B=function(n){return typeof n=="string"?hO(n.trim(),kT.string):typeof n=="object"&&n!==null?hO(n,kT.object):[null,void 0]},Oee=function(n){return $B(n)[1]},sM=function(n,e){var t=T0(n);return{h:t.h,s:$s(t.s+100*e,0,100),l:t.l,a:t.a}},oM=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},dO=function(n,e){var t=T0(n);return{h:t.h,s:t.s,l:$s(t.l+100*e,0,100),a:t.a}},GT=function(){function n(e){this.parsed=$B(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return xr(oM(this.rgba),2)},n.prototype.isDark=function(){return oM(this.rgba)<.5},n.prototype.isLight=function(){return oM(this.rgba)>=.5},n.prototype.toHex=function(){return e=aM(this.rgba),t=e.r,i=e.g,r=e.b,o=(a=e.a)<1?sb(xr(255*a)):"","#"+sb(t)+sb(i)+sb(r)+o;var e,t,i,r,a,o},n.prototype.toRgb=function(){return aM(this.rgba)},n.prototype.toRgbString=function(){return e=aM(this.rgba),t=e.r,i=e.g,r=e.b,(a=e.a)<1?"rgba("+t+", "+i+", "+r+", "+a+")":"rgb("+t+", "+i+", "+r+")";var e,t,i,r,a},n.prototype.toHsl=function(){return cO(T0(this.rgba))},n.prototype.toHslString=function(){return e=cO(T0(this.rgba)),t=e.h,i=e.s,r=e.l,(a=e.a)<1?"hsla("+t+", "+i+"%, "+r+"%, "+a+")":"hsl("+t+", "+i+"%, "+r+"%)";var e,t,i,r,a},n.prototype.toHsv=function(){return e=kB(this.rgba),{h:xr(e.h),s:xr(e.s),v:xr(e.v),a:xr(e.a,3)};var e},n.prototype.invert=function(){return ba({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),ba(sM(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),ba(sM(this.rgba,-e))},n.prototype.grayscale=function(){return ba(sM(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),ba(dO(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),ba(dO(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?ba({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):xr(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=T0(this.rgba);return typeof e=="number"?ba({h:e,s:t.s,l:t.l,a:t.a}):xr(t.h)},n.prototype.isEqual=function(e){return this.toHex()===ba(e).toHex()},n}(),ba=function(n){return n instanceof GT?n:new GT(n)},pO=[],Nee=function(n){n.forEach(function(e){pO.indexOf(e)<0&&(e(GT,kT),pO.push(e))})};function Pee(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var r in t)i[t[r]]=r;var a={};n.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var u,f,d=i[this.toHex()];if(d)return d;if(o?.closest){var m=this.toRgb(),g=1/0,y="black";if(!a.length)for(var b in t)a[b]=new n(t[b]).toRgb();for(var _ in t){var A=(u=m,f=a[_],Math.pow(u.r-f.r,2)+Math.pow(u.g-f.g,2)+Math.pow(u.b-f.b,2));A<g&&(g=A,y=_)}return y}},e.string.push([function(o){var u=o.toLowerCase(),f=u==="transparent"?"#0000":t[u];return f?new n(f).toRgb():null},"name"])}function gm(){return(gm=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}).apply(this,arguments)}function Ww(n,e){if(n==null)return{};var t,i,r={},a=Object.keys(n);for(i=0;i<a.length;i++)e.indexOf(t=a[i])>=0||(r[t]=n[t]);return r}function $T(n){var e=O.useRef(n),t=O.useRef(function(i){e.current&&e.current(i)});return e.current=n,t.current}var tm=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},A0=function(n){return"touches"in n},jT=function(n){return n&&n.ownerDocument.defaultView||self},mO=function(n,e,t){var i=n.getBoundingClientRect(),r=A0(e)?function(a,o){for(var u=0;u<a.length;u++)if(a[u].identifier===o)return a[u];return a[0]}(e.touches,t):e;return{left:tm((r.pageX-(i.left+jT(n).pageXOffset))/i.width),top:tm((r.pageY-(i.top+jT(n).pageYOffset))/i.height)}},gO=function(n){!A0(n)&&n.preventDefault()},qw=J.memo(function(n){var e=n.onMove,t=n.onKey,i=Ww(n,["onMove","onKey"]),r=O.useRef(null),a=$T(e),o=$T(t),u=O.useRef(null),f=O.useRef(!1),d=O.useMemo(function(){var b=function(T){gO(T),(A0(T)?T.touches.length>0:T.buttons>0)&&r.current?a(mO(r.current,T,u.current)):A(!1)},_=function(){return A(!1)};function A(T){var S=f.current,C=jT(r.current),D=T?C.addEventListener:C.removeEventListener;D(S?"touchmove":"mousemove",b),D(S?"touchend":"mouseup",_)}return[function(T){var S=T.nativeEvent,C=r.current;if(C&&(gO(S),!function(N,z){return z&&!A0(N)}(S,f.current)&&C)){if(A0(S)){f.current=!0;var D=S.changedTouches||[];D.length&&(u.current=D[0].identifier)}C.focus(),a(mO(C,S,u.current)),A(!0)}},function(T){var S=T.which||T.keyCode;S<37||S>40||(T.preventDefault(),o({left:S===39?.05:S===37?-.05:0,top:S===40?.05:S===38?-.05:0}))},A]},[o,a]),m=d[0],g=d[1],y=d[2];return O.useEffect(function(){return y},[y]),J.createElement("div",gm({},i,{onTouchStart:m,onMouseDown:m,className:"react-colorful__interactive",ref:r,onKeyDown:g,tabIndex:0,role:"slider"}))}),wv=function(n){return n.filter(Boolean).join(" ")},Yw=function(n){var e=n.color,t=n.left,i=n.top,r=i===void 0?.5:i,a=wv(["react-colorful__pointer",n.className]);return J.createElement("div",{className:a,style:{top:100*r+"%",left:100*t+"%"}},J.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},Ea=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},jB=function(n){var e=n.s,t=n.v,i=n.a,r=(200-e)*t/100;return{h:Ea(n.h),s:Ea(r>0&&r<200?e*t/100/(r<=100?r:200-r)*100:0),l:Ea(r/2),a:Ea(i,2)}},XT=function(n){var e=jB(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},lM=function(n){var e=jB(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},XB=function(n){var e=n.h,t=n.s,i=n.v,r=n.a;e=e/360*6,t/=100,i/=100;var a=Math.floor(e),o=i*(1-t),u=i*(1-(e-a)*t),f=i*(1-(1-e+a)*t),d=a%6;return{r:Ea(255*[i,u,o,o,f,i][d]),g:Ea(255*[f,i,i,u,o,o][d]),b:Ea(255*[o,o,f,i,i,u][d]),a:Ea(r,2)}},WB=function(n){var e=n.r,t=n.g,i=n.b,r=n.a,a=Math.max(e,t,i),o=a-Math.min(e,t,i),u=o?a===e?(t-i)/o:a===t?2+(i-e)/o:4+(e-t)/o:0;return{h:Ea(60*(u<0?u+6:u)),s:Ea(a?o/a*100:0),v:Ea(a/255*100),a:r}},qB=J.memo(function(n){var e=n.hue,t=n.onChange,i=wv(["react-colorful__hue",n.className]);return J.createElement("div",{className:i},J.createElement(qw,{onMove:function(r){t({h:360*r.left})},onKey:function(r){t({h:tm(e+360*r.left,0,360)})},"aria-label":"Hue","aria-valuenow":Ea(e),"aria-valuemax":"360","aria-valuemin":"0"},J.createElement(Yw,{className:"react-colorful__hue-pointer",left:e/360,color:XT({h:e,s:100,v:100,a:1})})))}),YB=J.memo(function(n){var e=n.hsva,t=n.onChange,i={backgroundColor:XT({h:e.h,s:100,v:100,a:1})};return J.createElement("div",{className:"react-colorful__saturation",style:i},J.createElement(qw,{onMove:function(r){t({s:100*r.left,v:100-100*r.top})},onKey:function(r){t({s:tm(e.s+100*r.left,0,100),v:tm(e.v-100*r.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Ea(e.s)+"%, Brightness "+Ea(e.v)+"%"},J.createElement(Yw,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:XT(e)})))}),Kw=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0};function KB(n,e,t){var i=$T(t),r=O.useState(function(){return n.toHsva(e)}),a=r[0],o=r[1],u=O.useRef({color:e,hsva:a});O.useEffect(function(){if(!n.equal(e,u.current.color)){var d=n.toHsva(e);u.current={hsva:d,color:e},o(d)}},[e,n]),O.useEffect(function(){var d;Kw(a,u.current.hsva)||n.equal(d=n.fromHsva(a),u.current.color)||(u.current={hsva:a,color:d},i(d))},[a,n,i]);var f=O.useCallback(function(d){o(function(m){return Object.assign({},m,d)})},[]);return[a,f]}var Lee=typeof window<"u"?O.useLayoutEffect:O.useEffect,Uee=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},vO=new Map,ZB=function(n){Lee(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!vO.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,vO.set(e,t);var i=Uee();i&&t.setAttribute("nonce",i),e.head.appendChild(t)}},[])},zee=function(n){var e=n.className,t=n.colorModel,i=n.color,r=i===void 0?t.defaultColor:i,a=n.onChange,o=Ww(n,["className","colorModel","color","onChange"]),u=O.useRef(null);ZB(u);var f=KB(t,r,a),d=f[0],m=f[1],g=wv(["react-colorful",e]);return J.createElement("div",gm({},o,{ref:u,className:g}),J.createElement(YB,{hsva:d,onChange:m}),J.createElement(qB,{hue:d.h,onChange:m,className:"react-colorful__last-control"}))},Bee=function(n){var e=n.className,t=n.hsva,i=n.onChange,r={backgroundImage:"linear-gradient(90deg, "+lM(Object.assign({},t,{a:0}))+", "+lM(Object.assign({},t,{a:1}))+")"},a=wv(["react-colorful__alpha",e]),o=Ea(100*t.a);return J.createElement("div",{className:a},J.createElement("div",{className:"react-colorful__alpha-gradient",style:r}),J.createElement(qw,{onMove:function(u){i({a:u.left})},onKey:function(u){i({a:tm(t.a+u.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},J.createElement(Yw,{className:"react-colorful__alpha-pointer",left:t.a,color:lM(t)})))},Iee=function(n){var e=n.className,t=n.colorModel,i=n.color,r=i===void 0?t.defaultColor:i,a=n.onChange,o=Ww(n,["className","colorModel","color","onChange"]),u=O.useRef(null);ZB(u);var f=KB(t,r,a),d=f[0],m=f[1],g=wv(["react-colorful",e]);return J.createElement("div",gm({},o,{ref:u,className:g}),J.createElement(YB,{hsva:d,onChange:m}),J.createElement(qB,{hue:d.h,onChange:m}),J.createElement(Bee,{hsva:d,onChange:m,className:"react-colorful__last-control"}))},Fee={defaultColor:{r:0,g:0,b:0,a:1},toHsva:WB,fromHsva:XB,equal:Kw},Vee=function(n){return J.createElement(Iee,gm({},n,{colorModel:Fee}))},Hee={defaultColor:{r:0,g:0,b:0},toHsva:function(n){return WB({r:n.r,g:n.g,b:n.b,a:1})},fromHsva:function(n){return{r:(e=XB(n)).r,g:e.g,b:e.b};var e},equal:Kw},kee=function(n){return J.createElement(zee,gm({},n,{colorModel:Hee}))},uM={exports:{}},cM,yO;function Gee(){if(yO)return cM;yO=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return cM=n,cM}var fM,xO;function $ee(){if(xO)return fM;xO=1;var n=Gee();function e(){}function t(){}return t.resetWarningCache=e,fM=function(){function i(o,u,f,d,m,g){if(g!==n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}i.isRequired=i;function r(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},fM}var bO;function jee(){return bO||(bO=1,uM.exports=$ee()()),uM.exports}var Xee=jee();const ni=qh(Xee);function vm(n,e,t,i){function r(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function u(m){try{d(i.next(m))}catch(g){o(g)}}function f(m){try{d(i.throw(m))}catch(g){o(g)}}function d(m){m.done?a(m.value):r(m.value).then(u,f)}d((i=i.apply(n,e||[])).next())})}function ym(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=u(0),o.throw=u(1),o.return=u(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(d){return function(m){return f([d,m])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(t=0)),t;)try{if(i=1,r&&(a=d[0]&2?r.return:d[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,d[1])).done)return a;switch(r=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,r=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){t.label=d[1];break}if(d[0]===6&&t.label<a[1]){t.label=a[1],a=d;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(d);break}a[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(n,t)}catch(m){d=[6,m],r=0}finally{i=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Wee(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,a=[],o;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a}function qee(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Wee(arguments[e]));return n}var Yee=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Cv(n,e){var t=Kee(n);if(typeof t.path!="string"){var i=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof i=="string"&&i.length>0?i:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Kee(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var i=e.split(".").pop().toLowerCase(),r=Yee.get(i);r&&Object.defineProperty(n,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return n}var Zee=[".DS_Store","Thumbs.db"];function Qee(n){return vm(this,void 0,void 0,function(){return ym(this,function(e){return O_(n)&&Jee(n)?[2,ite(n.dataTransfer,n.type)]:ete(n)?[2,tte(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,nte(n)]:[2,[]]})})}function Jee(n){return O_(n.dataTransfer)}function ete(n){return O_(n)&&O_(n.target)}function O_(n){return typeof n=="object"&&n!==null}function tte(n){return WT(n.target.files).map(function(e){return Cv(e)})}function nte(n){return vm(this,void 0,void 0,function(){var e;return ym(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(i){return i.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(i){return Cv(i)})]}})})}function ite(n,e){return vm(this,void 0,void 0,function(){var t,i;return ym(this,function(r){switch(r.label){case 0:return n===null?[2,[]]:n.items?(t=WT(n.items).filter(function(a){return a.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(rte))]):[3,2];case 1:return i=r.sent(),[2,_O(QB(i))];case 2:return[2,_O(WT(n.files).map(function(a){return Cv(a)}))]}})})}function _O(n){return n.filter(function(e){return Zee.indexOf(e.name)===-1})}function WT(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var i=n[t];e.push(i)}return e}function rte(n){if(typeof n.webkitGetAsEntry!="function")return SO(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?JB(e):SO(n)}function QB(n){return n.reduce(function(e,t){return qee(e,Array.isArray(t)?QB(t):[t])},[])}function SO(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=Cv(e);return Promise.resolve(t)}function ate(n){return vm(this,void 0,void 0,function(){return ym(this,function(e){return[2,n.isDirectory?JB(n):ste(n)]})})}function JB(n){var e=n.createReader();return new Promise(function(t,i){var r=[];function a(){var o=this;e.readEntries(function(u){return vm(o,void 0,void 0,function(){var f,d,m;return ym(this,function(g){switch(g.label){case 0:if(u.length)return[3,5];g.label=1;case 1:return g.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return f=g.sent(),t(f),[3,4];case 3:return d=g.sent(),i(d),[3,4];case 4:return[3,6];case 5:m=Promise.all(u.map(ate)),r.push(m),a(),g.label=6;case 6:return[2]}})})},function(u){i(u)})}a()})}function ste(n){return vm(this,void 0,void 0,function(){return ym(this,function(e){return[2,new Promise(function(t,i){n.file(function(r){var a=Cv(r,n.fullPath);t(a)},function(r){i(r)})})]})})}var ob={},EO;function ote(){return EO||(EO=1,ob.__esModule=!0,ob.default=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var i=n.name||"",r=(n.type||"").toLowerCase(),a=r.replace(/\/.*$/,"");return t.some(function(o){var u=o.trim().toLowerCase();return u.charAt(0)==="."?i.toLowerCase().endsWith(u):u.endsWith("/*")?a===u.replace(/\/.*$/,""):r===u})}return!0}),ob}var lte=ote();const ute=qh(lte);function MO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function TO(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(t),!0).forEach(function(i){eI(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):MO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function eI(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function AO(n,e){return dte(n)||hte(n,e)||fte(n,e)||cte()}function cte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fte(n,e){if(n){if(typeof n=="string")return wO(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wO(n,e)}}function wO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function hte(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,a=!1,o,u;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(f){a=!0,u=f}finally{try{!r&&t.return!=null&&t.return()}finally{if(a)throw u}}return i}}function dte(n){if(Array.isArray(n))return n}var pte="file-invalid-type",mte="file-too-large",gte="file-too-small",vte="too-many-files",yte=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:pte,message:"File type must be ".concat(t)}},CO=function(e){return{code:mte,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},RO=function(e){return{code:gte,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},xte={code:vte,message:"Too many files"};function tI(n,e){var t=n.type==="application/x-moz-file"||ute(n,e);return[t,t?null:yte(e)]}function nI(n,e,t){if(Kg(n.size))if(Kg(e)&&Kg(t)){if(n.size>t)return[!1,CO(t)];if(n.size<e)return[!1,RO(e)]}else{if(Kg(e)&&n.size<e)return[!1,RO(e)];if(Kg(t)&&n.size>t)return[!1,CO(t)]}return[!0,null]}function Kg(n){return n!=null}function bte(n){var e=n.files,t=n.accept,i=n.minSize,r=n.maxSize,a=n.multiple,o=n.maxFiles;return!a&&e.length>1||a&&o>=1&&e.length>o?!1:e.every(function(u){var f=tI(u,t),d=AO(f,1),m=d[0],g=nI(u,i,r),y=AO(g,1),b=y[0];return m&&b})}function N_(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function lb(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function DO(n){n.preventDefault()}function _te(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function Ste(n){return n.indexOf("Edge/")!==-1}function Ete(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return _te(n)||Ste(n)}function vl(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return e.some(function(u){return!N_(i)&&u&&u.apply(void 0,[i].concat(a)),N_(i)})}}function Mte(){return"showOpenFilePicker"in window}function Tte(n){return n=typeof n=="string"?n.split(","):n,[{description:"everything",accept:Array.isArray(n)?n.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return TO(TO({},e),{},eI({},t,[]))},{}):{}}]}function Ate(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function wte(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}var Cte=["children"],Rte=["open"],Dte=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Ote=["refKey","onChange","onClick"];function Nte(n){return Ute(n)||Lte(n)||iI(n)||Pte()}function Pte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lte(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Ute(n){if(Array.isArray(n))return qT(n)}function hM(n,e){return Ite(n)||Bte(n,e)||iI(n,e)||zte()}function zte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iI(n,e){if(n){if(typeof n=="string")return qT(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return qT(n,e)}}function qT(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Bte(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,a=!1,o,u;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(f){a=!0,u=f}finally{try{!r&&t.return!=null&&t.return()}finally{if(a)throw u}}return i}}function Ite(n){if(Array.isArray(n))return n}function OO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function gi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(t),!0).forEach(function(i){YT(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):OO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function YT(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function P_(n,e){if(n==null)return{};var t=Fte(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Fte(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var Zw=O.forwardRef(function(n,e){var t=n.children,i=P_(n,Cte),r=aI(i),a=r.open,o=P_(r,Rte);return O.useImperativeHandle(e,function(){return{open:a}},[a]),J.createElement(O.Fragment,null,t(gi(gi({},o),{},{open:a})))});Zw.displayName="Dropzone";var rI={disabled:!1,getFilesFromEvent:Qee,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};Zw.defaultProps=rI;Zw.propTypes={children:ni.func,accept:ni.oneOfType([ni.string,ni.arrayOf(ni.string)]),multiple:ni.bool,preventDropOnDocument:ni.bool,noClick:ni.bool,noKeyboard:ni.bool,noDrag:ni.bool,noDragEventsBubbling:ni.bool,minSize:ni.number,maxSize:ni.number,maxFiles:ni.number,disabled:ni.bool,getFilesFromEvent:ni.func,onFileDialogCancel:ni.func,onFileDialogOpen:ni.func,useFsAccessApi:ni.bool,onDragEnter:ni.func,onDragLeave:ni.func,onDragOver:ni.func,onDrop:ni.func,onDropAccepted:ni.func,onDropRejected:ni.func,validator:ni.func};var KT={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function aI(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=gi(gi({},rI),n),t=e.accept,i=e.disabled,r=e.getFilesFromEvent,a=e.maxSize,o=e.minSize,u=e.multiple,f=e.maxFiles,d=e.onDragEnter,m=e.onDragLeave,g=e.onDragOver,y=e.onDrop,b=e.onDropAccepted,_=e.onDropRejected,A=e.onFileDialogCancel,T=e.onFileDialogOpen,S=e.useFsAccessApi,C=e.preventDropOnDocument,D=e.noClick,N=e.noKeyboard,z=e.noDrag,U=e.noDragEventsBubbling,I=e.validator,V=O.useMemo(function(){return typeof T=="function"?T:NO},[T]),B=O.useMemo(function(){return typeof A=="function"?A:NO},[A]),L=O.useRef(null),W=O.useRef(null),oe=O.useReducer(Vte,KT),ee=hM(oe,2),he=ee[0],de=ee[1],k=he.isFocused,Y=he.isFileDialogActive,K=he.draggedFiles,ue=O.useRef(typeof window<"u"&&window.isSecureContext&&S&&Mte()),G=function(){!ue.current&&Y&&setTimeout(function(){if(W.current){var H=W.current.files;H.length||(de({type:"closeDialog"}),B())}},300)};O.useEffect(function(){return window.addEventListener("focus",G,!1),function(){window.removeEventListener("focus",G,!1)}},[W,Y,B,ue]);var te=O.useRef([]),Se=function(H){L.current&&L.current.contains(H.target)||(H.preventDefault(),te.current=[])};O.useEffect(function(){return C&&(document.addEventListener("dragover",DO,!1),document.addEventListener("drop",Se,!1)),function(){C&&(document.removeEventListener("dragover",DO),document.removeEventListener("drop",Se))}},[L,C]);var ye=O.useCallback(function(j){j.preventDefault(),j.persist(),$e(j),te.current=[].concat(Nte(te.current),[j.target]),lb(j)&&Promise.resolve(r(j)).then(function(H){N_(j)&&!U||(de({draggedFiles:H,isDragActive:!0,type:"setDraggedFiles"}),d&&d(j))})},[r,d,U]),se=O.useCallback(function(j){j.preventDefault(),j.persist(),$e(j);var H=lb(j);if(H&&j.dataTransfer)try{j.dataTransfer.dropEffect="copy"}catch{}return H&&g&&g(j),!1},[g,U]),we=O.useCallback(function(j){j.preventDefault(),j.persist(),$e(j);var H=te.current.filter(function(Me){return L.current&&L.current.contains(Me)}),pe=H.indexOf(j.target);pe!==-1&&H.splice(pe,1),te.current=H,!(H.length>0)&&(de({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),lb(j)&&m&&m(j))},[L,m,U]),Be=O.useCallback(function(j,H){var pe=[],Me=[];j.forEach(function(Ne){var Oe=tI(Ne,t),st=hM(Oe,2),nt=st[0],dt=st[1],vt=nI(Ne,o,a),Le=hM(vt,2),it=Le[0],yt=Le[1],ie=I?I(Ne):null;if(nt&&it&&!ie)pe.push(Ne);else{var xe=[dt,yt];ie&&(xe=xe.concat(ie)),Me.push({file:Ne,errors:xe.filter(function(Ke){return Ke})})}}),(!u&&pe.length>1||u&&f>=1&&pe.length>f)&&(pe.forEach(function(Ne){Me.push({file:Ne,errors:[xte]})}),pe.splice(0)),de({acceptedFiles:pe,fileRejections:Me,type:"setFiles"}),y&&y(pe,Me,H),Me.length>0&&_&&_(Me,H),pe.length>0&&b&&b(pe,H)},[de,u,t,o,a,f,y,b,_,I]),je=O.useCallback(function(j){j.preventDefault(),j.persist(),$e(j),te.current=[],lb(j)&&Promise.resolve(r(j)).then(function(H){N_(j)&&!U||Be(H,j)}),de({type:"reset"})},[r,Be,U]),Xe=O.useCallback(function(){if(ue.current){de({type:"openDialog"}),V();var j={multiple:u,types:Tte(t)};window.showOpenFilePicker(j).then(function(H){return r(H)}).then(function(H){Be(H,null),de({type:"closeDialog"})}).catch(function(H){Ate(H)?(B(H),de({type:"closeDialog"})):wte(H)&&(ue.current=!1,W.current&&(W.current.value=null,W.current.click()))});return}W.current&&(de({type:"openDialog"}),V(),W.current.value=null,W.current.click())},[de,V,B,S,Be,t,u]),gt=O.useCallback(function(j){!L.current||!L.current.isEqualNode(j.target)||(j.key===" "||j.key==="Enter"||j.keyCode===32||j.keyCode===13)&&(j.preventDefault(),Xe())},[L,Xe]),bt=O.useCallback(function(){de({type:"focus"})},[]),Zt=O.useCallback(function(){de({type:"blur"})},[]),Pt=O.useCallback(function(){D||(Ete()?setTimeout(Xe,0):Xe())},[D,Xe]),Mt=function(H){return i?null:H},Z=function(H){return N?null:Mt(H)},Qe=function(H){return z?null:Mt(H)},$e=function(H){U&&H.stopPropagation()},We=O.useMemo(function(){return function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=j.refKey,pe=H===void 0?"ref":H,Me=j.role,Ne=j.onKeyDown,Oe=j.onFocus,st=j.onBlur,nt=j.onClick,dt=j.onDragEnter,vt=j.onDragOver,Le=j.onDragLeave,it=j.onDrop,yt=P_(j,Dte);return gi(gi(YT({onKeyDown:Z(vl(Ne,gt)),onFocus:Z(vl(Oe,bt)),onBlur:Z(vl(st,Zt)),onClick:Mt(vl(nt,Pt)),onDragEnter:Qe(vl(dt,ye)),onDragOver:Qe(vl(vt,se)),onDragLeave:Qe(vl(Le,we)),onDrop:Qe(vl(it,je)),role:typeof Me=="string"&&Me!==""?Me:"button"},pe,L),!i&&!N?{tabIndex:0}:{}),yt)}},[L,gt,bt,Zt,Pt,ye,se,we,je,N,z,i]),Pe=O.useCallback(function(j){j.stopPropagation()},[]),rt=O.useMemo(function(){return function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=j.refKey,pe=H===void 0?"ref":H,Me=j.onChange,Ne=j.onClick,Oe=P_(j,Ote),st=YT({accept:t,multiple:u,type:"file",style:{display:"none"},onChange:Mt(vl(Me,je)),onClick:Mt(vl(Ne,Pe)),tabIndex:-1},pe,W);return gi(gi({},st),Oe)}},[W,t,u,je,i]),He=K.length,at=He>0&&bte({files:K,accept:t,minSize:o,maxSize:a,multiple:u,maxFiles:f}),wt=He>0&&!at;return gi(gi({},he),{},{isDragAccept:at,isDragReject:wt,isFocused:k&&!i,getRootProps:We,getInputProps:rt,rootRef:L,inputRef:W,open:Mt(Xe)})}function Vte(n,e){switch(e.type){case"focus":return gi(gi({},n),{},{isFocused:!0});case"blur":return gi(gi({},n),{},{isFocused:!1});case"openDialog":return gi(gi({},KT),{},{isFileDialogActive:!0});case"closeDialog":return gi(gi({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,i=e.draggedFiles;return gi(gi({},n),{},{draggedFiles:i,isDragActive:t});case"setFiles":return gi(gi({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return gi({},KT);default:return n}}function NO(){}function Hte(n){let e;const t=new Set,i=(d,m)=>{const g=typeof d=="function"?d(e):d;if(g!==e){const y=e;e=m?g:Object.assign({},e,g),t.forEach(b=>b(e,y))}},r=()=>e,a=(d,m=r,g=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let y=m(e);function b(){const _=m(e);if(!g(y,_)){const A=y;d(y=_,A)}}return t.add(b),()=>t.delete(b)},f={setState:i,getState:r,subscribe:(d,m,g)=>m||g?a(d,m,g):(t.add(d),()=>t.delete(d)),destroy:()=>t.clear()};return e=n(i,r,f),f}const kte=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),PO=kte?O.useEffect:O.useLayoutEffect;function Gte(n){const e=typeof n=="function"?Hte(n):n,t=(i=e.getState,r=Object.is)=>{const[,a]=O.useReducer(T=>T+1,0),o=e.getState(),u=O.useRef(o),f=O.useRef(i),d=O.useRef(r),m=O.useRef(!1),g=O.useRef();g.current===void 0&&(g.current=i(o));let y,b=!1;(u.current!==o||f.current!==i||d.current!==r||m.current)&&(y=i(o),b=!r(g.current,y)),PO(()=>{b&&(g.current=y),u.current=o,f.current=i,d.current=r,m.current=!1});const _=O.useRef(o);PO(()=>{const T=()=>{try{const C=e.getState(),D=f.current(C);d.current(g.current,D)||(u.current=C,g.current=D,a())}catch{m.current=!0,a()}},S=e.subscribe(T);return e.getState()!==_.current&&T(),S},[]);const A=b?y:g.current;return O.useDebugValue(A),A};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}const $te=n=>(e,t,i)=>{const r=i.subscribe;return i.subscribe=(o,u,f)=>{let d=o;if(u){const m=f?.equalityFn||Object.is;let g=o(i.getState());d=y=>{const b=o(y);if(!m(g,b)){const _=g;u(g=b,_)}},f?.fireImmediately&&u(g,g)}return r(d)},n(e,t,i)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var dM,LO;function jte(){return LO||(LO=1,dM=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1}),dM}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var pM,UO;function sI(){if(UO)return pM;UO=1;var n=jte();function e(t){return n(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}return pM=function(i){var r,a;return!(e(i)===!1||(r=i.constructor,typeof r!="function")||(a=r.prototype,e(a)===!1)||a.hasOwnProperty("isPrototypeOf")===!1)},pM}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var mM,zO;function Qw(){if(zO)return mM;zO=1;var n=sI();return mM=function(t){return n(t)||typeof t=="function"||Array.isArray(t)},mM}/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var gM,BO;function Xte(){return BO||(BO=1,gM=function(e,t,i){for(var r in e)if(t.call(i,e[r],r,e)===!1)break}),gM}var vM,IO;function Wte(){if(IO)return vM;IO=1;var n=Qw(),e=Xte();function t(o,u){for(var f=arguments.length,d=0;++d<f;){var m=arguments[d];r(m)&&e(m,i,o)}return o}function i(o,u){if(a(u)){var f=this[u];r(o)&&r(f)?t(f,o):this[u]=o}}function r(o){return n(o)&&!Array.isArray(o)}function a(o){return o!=="__proto__"&&o!=="constructor"&&o!=="prototype"}return vM=t,vM}/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var yM,FO;function qte(){if(FO)return yM;FO=1,yM=function(t,i,r,a,o){if(!n(t)||!i)return t;if(i=e(i),r&&(i+="."+e(r)),a&&(i+="."+e(a)),o&&(i+="."+e(o)),i in t)return t[i];for(var u=i.split("."),f=u.length,d=-1;t&&++d<f;){for(var m=u[d];m[m.length-1]==="\\";)m=m.slice(0,-1)+"."+u[++d];t=t[m]}return t};function n(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function e(t){return t?Array.isArray(t)?t.join("."):t:""}return yM}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var xM,VO;function Yte(){return VO||(VO=1,xM=function(n,e){if(n===null||typeof n>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return n;for(var t=Object.prototype.propertyIsEnumerable,i=Object(n),r=arguments.length,a=0;++a<r;)for(var o=Object(arguments[a]),u=Object.getOwnPropertySymbols(o),f=0;f<u.length;f++){var d=u[f];t.call(o,d)&&(i[d]=o[d])}return i}),xM}var bM,HO;function Kte(){if(HO)return bM;HO=1;var n=Qw(),e=Yte();bM=Object.assign||function(u){if(u===null||typeof u>"u")throw new TypeError("Cannot convert undefined or null to object");a(u)||(u={});for(var f=1;f<arguments.length;f++){var d=arguments[f];i(d)&&(d=r(d)),a(d)&&(t(u,d),e(u,d))}return u};function t(u,f){for(var d in f)o(f,d)&&(u[d]=f[d])}function i(u){return u&&typeof u=="string"}function r(u){var f={};for(var d in u)f[d]=u[d];return f}function a(u){return u&&typeof u=="object"||n(u)}function o(u,f){return Object.prototype.hasOwnProperty.call(u,f)}return bM}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var _M,kO;function Zte(){if(kO)return _M;kO=1;var n=Kte();_M=function(r,a,o){if(typeof r!="string")throw new TypeError("expected a string");typeof a=="function"&&(o=a,a=null),typeof a=="string"&&(a={sep:a});var u=n({sep:"."},a),f=u.quotes||['"',"'","`"],d;u.brackets===!0?d={"<":">","(":")","[":"]","{":"}"}:u.brackets&&(d=u.brackets);var m=[],g=[],y=[""],b=u.sep,_=r.length,A=-1,T;function S(){if(d&&g.length)return d[g[g.length-1]]}for(;++A<_;){var C=r[A],D=r[A+1],N={val:C,idx:A,arr:y,str:r};if(m.push(N),C==="\\"){N.val=i(u,r,A)===!0?C+D:D,N.escaped=!0,typeof o=="function"&&o(N),y[y.length-1]+=N.val,A++;continue}if(d&&d[C]){g.push(C);var z=S(),U=A+1;if(r.indexOf(z,U+1)!==-1)for(;g.length&&U<_;){var I=r[++U];if(I==="\\"){I++;continue}if(f.indexOf(I)!==-1){U=e(r,I,U+1);continue}if(z=S(),g.length&&r.indexOf(z,U+1)===-1)break;if(d[I]){g.push(I);continue}z===I&&g.pop()}if(T=U,T===-1){y[y.length-1]+=C;continue}C=r.slice(A,T+1),N.val=C,N.idx=A=T}if(f.indexOf(C)!==-1){if(T=e(r,C,A+1),T===-1){y[y.length-1]+=C;continue}t(C,u)===!0?C=r.slice(A,T+1):C=r.slice(A+1,T),N.val=C,N.idx=A=T}if(typeof o=="function"&&(o(N,m),C=N.val,A=N.idx),N.val===b&&N.split!==!1){y.push("");continue}y[y.length-1]+=N.val}return y};function e(r,a,o,u){var f=r.indexOf(a,o);return r.charAt(f-1)==="\\"?e(r,a,f+1):f}function t(r,a){return a.keepDoubleQuotes===!0&&r==='"'||a.keepSingleQuotes===!0&&r==="'"?!0:a.keepQuotes}function i(r,a,o){return typeof r.keepEscaping=="function"?r.keepEscaping(a,o):r.keepEscaping===!0||a[o+1]==="\\"}return _M}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var SM,GO;function Qte(){return GO||(GO=1,SM=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")}),SM}var EM,$O;function Jte(){if($O)return EM;$O=1;var n=Qte();EM=function(r){n(r)||(r={});for(var a=arguments.length,o=1;o<a;o++){var u=arguments[o];n(u)&&e(r,u)}return r};function e(i,r){for(var a in r)t(r,a)&&(i[a]=r[a])}function t(i,r){return Object.prototype.hasOwnProperty.call(i,r)}return EM}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var MM,jO;function ene(){return jO||(jO=1,MM=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")}),MM}/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var TM,XO;function tne(){if(XO)return TM;XO=1;var n=Zte(),e=Jte(),t=sI(),i=ene();TM=function(a,o,u){if(!i(a)||(Array.isArray(o)&&(o=[].concat.apply([],o).join(".")),typeof o!="string"))return a;for(var f=n(o,{sep:".",brackets:!0}).filter(r),d=f.length,m=-1,g=a;++m<d;){var y=f[m];if(m!==d-1){i(g[y])||(g[y]={}),g=g[y];continue}t(g[y])&&t(u)?g[y]=e({},g[y],u):g[y]=u}return a};function r(a){return a!=="__proto__"&&a!=="constructor"&&a!=="prototype"}return TM}var AM,WO;function nne(){if(WO)return AM;WO=1;var n=Qw(),e=Wte(),t=qte(),i=tne();return AM=function(a,o,u){if(!n(a))throw new TypeError("expected an object");if(typeof o!="string"||u==null)return e.apply(null,arguments);if(typeof u=="string")return i(a,o,u),a;var f=t(a,o);return n(u)&&n(f)&&(u=e({},f,u)),i(a,o,u),a},AM}var ine=nne();const rne=qh(ine),Jw=(...n)=>n.filter(Boolean).join(".");function ane(n){const e=n.split(".");return[e.pop(),e.join(".")||void 0]}function sne(n){const e=O.useRef(null),t=O.useRef(null),i=O.useRef(!0);return O.useLayoutEffect(()=>{n||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),O.useEffect(()=>{if(i.current){i.current=!1;return}let r;const a=e.current,o=()=>{n&&(a.style.removeProperty("height"),a.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};a.addEventListener("transitionend",o,{once:!0});const{height:u}=t.current.getBoundingClientRect();return a.style.height=u+"px",n||(a.style.overflow="hidden",r=window.setTimeout(()=>a.style.height="0px",50)),()=>{a.removeEventListener("transitionend",o),clearTimeout(r)}},[n]),{wrapperRef:e,contentRef:t}}const one=n=>{const[e,t]=O.useState(n.getVisiblePaths());return O.useEffect(()=>{t(n.getVisiblePaths());const i=n.useStore.subscribe(n.getVisiblePaths,t,{equalityFn:Fz});return()=>i()},[n]),e};function oI(n=3){const e=O.useRef(null),t=O.useRef(null),[i,r]=O.useState(!1),a=O.useCallback(()=>r(!0),[]),o=O.useCallback(()=>r(!1),[]);return O.useLayoutEffect(()=>{if(i){const{bottom:u,top:f,left:d}=e.current.getBoundingClientRect(),{height:m}=t.current.getBoundingClientRect(),g=u+m>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=d+"px",g==="down"?t.current.style.top=u+n+"px":t.current.style.bottom=window.innerHeight-f+n+"px"}},[n,i]),{popinRef:e,wrapperRef:t,shown:i,show:a,hide:o}}Nee([Pee]);const lne={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};Xa.extend({color:()=>n=>ba(n).isValid()});const une=n=>Xa().color().test(n);function lI(n,{format:e,hasAlpha:t,isString:i}){const r=lne[e]+(i&&e!=="hex"?"String":""),a=n[r]();return typeof a=="object"&&!t?QQ(a,["a"]):a}const uI=(n,e)=>{const t=ba(n);if(!t.isValid())throw Error("Invalid color");return lI(t,e)},cne=(n,e)=>lI(ba(n),nn(nn({},e),{},{isString:!0,format:"hex"})),fne=({value:n})=>{const e=Oee(n),t=e==="name"?"hex":e,i=typeof n=="object"?"a"in n:e==="hex"&&n.length===8||/^(rgba)|(hsla)|(hsva)/.test(n),r={format:t,hasAlpha:i,isString:typeof n=="string"};return{value:uI(n,r),settings:r}};var hne=Object.freeze({__proto__:null,schema:une,sanitize:uI,format:cne,normalize:fne});const dne=It("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),pne=It("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),mne=It("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function qO(n,e){return e!=="rgb"?ba(n).toRgb():n}function gne({value:n,displayValue:e,settings:t,onUpdate:i}){const{emitOnEditStart:r,emitOnEditEnd:a}=ta(),{format:o,hasAlpha:u}=t,{popinRef:f,wrapperRef:d,shown:m,show:g,hide:y}=oI(),b=O.useRef(0),[_,A]=O.useState(()=>qO(n,o)),T=u?Vee:kee,S=()=>{A(qO(n,o)),g(),r()},C=()=>{y(),a(),window.clearTimeout(b.current)},D=()=>{b.current=window.setTimeout(C,500)};return O.useEffect(()=>()=>window.clearTimeout(b.current),[]),J.createElement(J.Fragment,null,J.createElement(dne,{ref:f,active:m,onClick:()=>S(),style:{color:e}}),m&&J.createElement($w,null,J.createElement(NB,{onPointerUp:C}),J.createElement(mne,{ref:d,onMouseEnter:()=>window.clearTimeout(b.current),onMouseLeave:N=>N.buttons===0&&D()},J.createElement(T,{color:_,onChange:i}))))}function vne(){const{value:n,displayValue:e,label:t,onChange:i,onUpdate:r,settings:a}=ta();return J.createElement(qs,{input:!0},J.createElement(Po,null,t),J.createElement(pne,null,J.createElement(gne,{value:n,displayValue:e,onChange:i,onUpdate:r,settings:a}),J.createElement(Gw,{value:e,onChange:i,onUpdate:r})))}var yne=nn({component:vne},hne);function xne(){const{label:n,displayValue:e,onUpdate:t,settings:i}=ta();return J.createElement(qs,{input:!0},J.createElement(Po,null,n),J.createElement(Xw,{value:e,settings:i,onUpdate:t}))}var bne=nn({component:xne},VB(["x","y","z"]));const _ne=It("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),Sne=It("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function Ene({value:n,settings:e,onUpdate:t}){const i=O.useRef(),r=O.useRef(0),a=O.useRef(0),o=O.useRef(1),[u,f]=O.useState(!1),[d,m]=O.useState(!1),[g,y]=LB(),b=O.useRef(null),_=O.useRef(null);O.useLayoutEffect(()=>{if(u){const{top:oe,left:ee,width:he,height:de}=b.current.getBoundingClientRect();_.current.style.left=ee+he/2+"px",_.current.style.top=oe+de/2+"px"}},[u]);const{keys:[A,T],joystick:S}=e,C=S==="invertY"?1:-1,{[A]:{step:D},[T]:{step:N}}=e,z=Au("sizes","joystickWidth"),U=Au("sizes","joystickHeight"),I=parseFloat(z)*.8/2,V=parseFloat(U)*.8/2,B=O.useCallback(()=>{i.current||(m(!0),r.current&&y({x:r.current*I}),a.current&&y({y:a.current*-V}),i.current=window.setInterval(()=>{t(oe=>{const ee=D*r.current*o.current,he=C*N*a.current*o.current;return Array.isArray(oe)?{[A]:oe[0]+ee,[T]:oe[1]+he}:{[A]:oe[A]+ee,[T]:oe[T]+he}})},16))},[I,V,t,y,D,N,A,T,C]),L=O.useCallback(()=>{window.clearTimeout(i.current),i.current=void 0,m(!1)},[]);O.useEffect(()=>{function oe(ee){o.current=yB(ee)}return window.addEventListener("keydown",oe),window.addEventListener("keyup",oe),()=>{window.clearTimeout(i.current),window.removeEventListener("keydown",oe),window.removeEventListener("keyup",oe)}},[]);const W=Av(({first:oe,active:ee,delta:[he,de],movement:[k,Y]})=>{oe&&f(!0);const K=af(k,-I,I),ue=af(Y,-V,V);r.current=Math.abs(k)>Math.abs(K)?Math.sign(k-K):0,a.current=Math.abs(Y)>Math.abs(ue)?Math.sign(ue-Y):0;let G=n[A],te=n[T];ee?(r.current||(G+=he*D*o.current,y({x:K})),a.current||(te-=C*de*N*o.current,y({y:ue})),r.current||a.current?B():L(),t({[A]:G,[T]:te})):(f(!1),r.current=0,a.current=0,y({x:0,y:0}),L())});return J.createElement(_ne,Ji({ref:b},W()),u&&J.createElement($w,null,J.createElement(Sne,{ref:_,isOutOfBounds:d},J.createElement("div",null),J.createElement("span",{ref:g}))))}const Mne=It("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Tne(){const{label:n,displayValue:e,onUpdate:t,settings:i}=ta();return J.createElement(qs,{input:!0},J.createElement(Po,null,n),J.createElement(Mne,{withJoystick:!!i.joystick},i.joystick&&J.createElement(Ene,{value:e,settings:i,onUpdate:t}),J.createElement(Xw,{value:e,settings:i,onUpdate:t})))}const Ane=["joystick"],cI=VB(["x","y"]),wne=n=>{let{joystick:e=!0}=n,t=ii(n,Ane);const{value:i,settings:r}=cI.normalize(t);return{value:i,settings:nn(nn({},r),{},{joystick:e})}};var Cne=nn(nn({component:Tne},cI),{},{normalize:wne});const Rne=n=>{if(n!==void 0){if(n instanceof File)try{return URL.createObjectURL(n)}catch{return}if(typeof n=="string"&&n.indexOf("blob:")===0)return n;throw Error("Invalid image format [undefined | blob |File].")}},Dne=(n,e)=>typeof e=="object"&&"image"in e,One=({image:n})=>({value:n});var Nne=Object.freeze({__proto__:null,sanitize:Rne,schema:Dne,normalize:One});const Pne=It("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),Lne=It("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),Une=It("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),zne=It("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),Bne=It("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Ine=It("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function Fne(){const{label:n,value:e,onUpdate:t,disabled:i}=ta(),{popinRef:r,wrapperRef:a,shown:o,show:u,hide:f}=oI(),d=O.useCallback(_=>{_.length&&t(_[0])},[t]),m=O.useCallback(_=>{_.stopPropagation(),t(void 0)},[t]),{getRootProps:g,getInputProps:y,isDragAccept:b}=aI({maxFiles:1,accept:"image/*",onDrop:d,disabled:i});return J.createElement(qs,{input:!0},J.createElement(Po,null,n),J.createElement(Pne,null,J.createElement(Une,{ref:r,hasImage:!!e,onPointerDown:()=>!!e&&u(),onPointerUp:f,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&J.createElement($w,null,J.createElement(NB,{onPointerUp:f,style:{cursor:"pointer"}}),J.createElement(zne,{ref:a,style:{backgroundImage:`url(${e})`}})),J.createElement(Lne,g({isDragAccept:b}),J.createElement("input",y()),J.createElement(Bne,null,b?"drop image":"click or drop")),J.createElement(Ine,{onClick:m,disabled:!e})))}var Vne=nn({component:Fne},Nne);const YO=Xa().number(),Hne=(n,e)=>Xa().array().length(2).every.number().test(n)&&Xa().schema({min:YO,max:YO}).test(e),L_=n=>({min:n[0],max:n[1]}),fI=(n,{bounds:[e,t]},i)=>{const r=Array.isArray(n)?L_(n):n,a={min:i[0],max:i[1]},{min:o,max:u}=nn(nn({},a),r);return[af(Number(o),e,Math.max(e,u)),af(Number(u),Math.min(t,o),t)]},kne=({value:n,min:e,max:t})=>{const i={min:e,max:t},r=FB(L_(n),{min:i,max:i}),a=[e,t],o=nn(nn({},r),{},{bounds:a});return{value:fI(L_(n),o,n),settings:o}};var Gne=Object.freeze({__proto__:null,schema:Hne,format:L_,sanitize:fI,normalize:kne});const $ne=["value","bounds","onDrag"],jne=["bounds"],Xne=It("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function Wne(n){let{value:e,bounds:[t,i],onDrag:r}=n,a=ii(n,$ne);const o=O.useRef(null),u=O.useRef(null),f=O.useRef(null),d=O.useRef(0),m=Au("sizes","scrubberWidth"),g=Av(({event:_,first:A,xy:[T],movement:[S],memo:C={}})=>{if(A){const{width:N,left:z}=o.current.getBoundingClientRect();d.current=N-parseFloat(m);const U=_?.target===u.current||_?.target===f.current;C.pos=R_((T-z)/N,t,i);const I=Math.abs(C.pos-e.min)-Math.abs(C.pos-e.max);C.key=I<0||I===0&&C.pos<=e.min?"min":"max",U&&(C.pos=e[C.key])}const D=C.pos+R_(S/d.current,0,i-t);return r({[C.key]:IJ(D,a[C.key])}),C}),y=`calc(${C_(e.min,t,i)} * (100% - ${m} - 8px) + 4px)`,b=`calc(${1-C_(e.max,t,i)} * (100% - ${m} - 8px) + 4px)`;return J.createElement(zB,Ji({ref:o},g()),J.createElement(UB,null,J.createElement(BB,{style:{left:y,right:b}})),J.createElement(VT,{position:"left",ref:u,style:{left:y}}),J.createElement(VT,{position:"right",ref:f,style:{right:b}}))}function qne(){const{label:n,displayValue:e,onUpdate:t,settings:i}=ta(),r=ii(i,jne);return J.createElement(J.Fragment,null,J.createElement(qs,{input:!0},J.createElement(Po,null,n),J.createElement(Xne,null,J.createElement(Wne,Ji({value:e},i,{onDrag:t})),J.createElement(Xw,{value:e,settings:r,onUpdate:t,innerLabelTrim:0}))))}var Yne=nn({component:qne},Gne);const Kne=()=>{const n=new Map;return{on:(e,t)=>{let i=n.get(e);i===void 0&&(i=new Set,n.set(e,i)),i.add(t)},off:(e,t)=>{const i=n.get(e);i!==void 0&&(i.delete(t),i.size===0&&n.delete(e))},emit:(e,...t)=>{const i=n.get(e);if(i!==void 0)for(const r of i)r(...t)}}},Zne=["type","value"],Qne=["onChange","transient","onEditStart","onEditEnd"],Jne=function(){const e=Gte($te(()=>({data:{}}))),t=Kne();this.storeId=ZQ(),this.useStore=e;const i={},r=new Set;this.getVisiblePaths=()=>{const o=this.getData(),u=Object.keys(o),f=[];Object.entries(i).forEach(([m,g])=>{g.render&&u.some(y=>y.indexOf(m)===0)&&!g.render(this.get)&&f.push(m+".")});const d=[];return r.forEach(m=>{m in o&&o[m].__refCount>0&&f.every(g=>m.indexOf(g)===-1)&&(!o[m].render||o[m].render(this.get))&&d.push(m)}),d},this.setOrderedPaths=o=>{o.forEach(u=>r.add(u))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(u=>{const f=u.data;return o.forEach(d=>{if(d in f){const m=f[d];m.__refCount--,m.__refCount===0&&m.type in wl&&delete f[d]}}),{data:f}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>i[o]||{},this.getData=()=>e.getState().data,this.addData=(o,u)=>{e.setState(f=>{const d=f.data;return Object.entries(o).forEach(([m,g])=>{let y=d[m];if(y){const{type:b,value:_}=g,A=ii(g,Zne);b!==y.type?xu(vi.INPUT_TYPE_OVERRIDE,b):((y.__refCount===0||u)&&Object.assign(y,A),y.__refCount++)}else d[m]=nn(nn({},g),{},{__refCount:1})}),{data:d}})},this.setValueAtPath=(o,u,f)=>{e.setState(d=>{const m=d.data;return oO(m[o],u,o,this,f),{data:m}})},this.setSettingsAtPath=(o,u)=>{e.setState(f=>{const d=f.data;return d[o].settings=nn(nn({},d[o].settings),u),{data:d}})},this.disableInputAtPath=(o,u)=>{e.setState(f=>{const d=f.data;return d[o].disabled=u,{data:d}})},this.set=(o,u)=>{e.setState(f=>{const d=f.data;return Object.entries(o).forEach(([m,g])=>{try{oO(d[m],g,void 0,void 0,u)}catch{}}),{data:d}})},this.getInput=o=>{try{return this.getData()[o]}catch{xu(vi.PATH_DOESNT_EXIST,o)}},this.get=o=>{var u;return(u=this.getInput(o))===null||u===void 0?void 0:u.value},this.emitOnEditStart=o=>{t.emit(`onEditStart:${o}`,this.get(o),o,nn(nn({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{t.emit(`onEditEnd:${o}`,this.get(o),o,nn(nn({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,u)=>{const f=`onEditStart:${o}`;return t.on(f,u),()=>t.off(f,u)},this.subscribeToEditEnd=(o,u)=>{const f=`onEditEnd:${o}`;return t.on(f,u),()=>t.off(f,u)};const a=(o,u,f)=>{const d={};return Object.entries(o).forEach(([m,g])=>{if(m==="")return xu(vi.EMPTY_KEY);let y=Jw(u,m);if(g.type===wl.FOLDER){const b=a(g.schema,y,f);Object.assign(d,b),y in i||(i[y]=g.settings)}else if(m in f)xu(vi.DUPLICATE_KEYS,m,y,f[m].path);else{const b=rJ(g,m,y,d);if(b){const{type:_,options:A,input:T}=b,{onChange:S,transient:C,onEditStart:D,onEditEnd:N}=A,z=ii(A,Qne);d[y]=nn(nn(nn({type:_},z),T),{},{fromPanel:!0}),f[m]={path:y,onChange:S,transient:C,onEditStart:D,onEditEnd:N}}else xu(vi.UNKNOWN_INPUT,y,g)}}),d};this.getDataFromSchema=o=>{const u={};return[a(o,"",u),u]}};new Jne;const KO=n=>"__levaInput"in n,eie=(n,e)=>{const t={},i=e?e.toLowerCase():null;return n.forEach(r=>{const[a,o]=ane(r);(!i||a.toLowerCase().indexOf(i)>-1)&&rne(t,o,{[a]:{__levaInput:!0,path:r}})}),t},tie=["type","label","path","valueKey","value","settings","setValue","disabled"];function nie(n){let{type:e,label:t,path:i,valueKey:r,value:a,settings:o,setValue:u,disabled:f}=n,d=ii(n,tie);const{displayValue:m,onChange:g,onUpdate:y}=PB({type:e,value:a,settings:o,setValue:u}),b=Xh[e].component;return b?J.createElement(EB.Provider,{value:nn({key:r,path:i,id:""+i,label:t,displayValue:m,value:a,onChange:g,onUpdate:y,settings:o,setValue:u,disabled:f},d)},J.createElement(SJ,{disabled:f},J.createElement(b,null))):(xu(vi.NO_COMPONENT_FOR_TYPE,e,i),null)}const iie=It("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function rie({onClick:n,settings:e,label:t}){const i=Tv();return J.createElement(qs,null,J.createElement(iie,{disabled:e.disabled,onClick:()=>n(i.get)},t))}const aie=It("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),sie=It("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),oie=({label:n,opts:e})=>{let t=typeof n=="string"&&n.trim()===""?null:n,i=e;return typeof e.opts=="object"&&(i.label!==void 0&&(t=e.label),i=e.opts),{label:t,opts:i}};function lie(n){const{label:e,opts:t}=oie(n),i=Tv();return J.createElement(qs,{input:!!e},e&&J.createElement(Po,null,e),J.createElement(aie,null,Object.entries(t).map(([r,a])=>J.createElement(sie,{key:r,onClick:()=>a(i.get)},r))))}const uie=It("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),hI=100;function cie(n,e){n.push(e),n.length>hI&&n.shift()}const fie=O.forwardRef(function({initialValue:n},e){const t=Au("colors","highlight3"),i=Au("colors","elevation2"),r=Au("colors","highlight1"),[a,o]=O.useMemo(()=>[ba(r).alpha(.4).toRgbString(),ba(r).alpha(.1).toRgbString()],[r]),u=O.useRef([n]),f=O.useRef(n),d=O.useRef(n),m=O.useRef(),g=O.useCallback((_,A)=>{if(!_)return;const{width:T,height:S}=_,C=new Path2D,D=T/hI,N=S*.05;for(let I=0;I<u.current.length;I++){const V=C_(u.current[I],f.current,d.current),B=D*I,L=S-V*(S-N*2)-N;C.lineTo(B,L)}A.clearRect(0,0,T,S);const z=new Path2D(C);z.lineTo(D*(u.current.length+1),S),z.lineTo(0,S),z.lineTo(0,0);const U=A.createLinearGradient(0,0,0,S);U.addColorStop(0,a),U.addColorStop(1,o),A.fillStyle=U,A.fill(z),A.strokeStyle=i,A.lineJoin="round",A.lineWidth=14,A.stroke(C),A.strokeStyle=t,A.lineWidth=2,A.stroke(C)},[t,i,a,o]),[y,b]=OJ(g);return O.useImperativeHandle(e,()=>({frame:_=>{(f.current===void 0||_<f.current)&&(f.current=_),(d.current===void 0||_>d.current)&&(d.current=_),cie(u.current,_),m.current=requestAnimationFrame(()=>g(y.current,b.current))}}),[y,b,g]),O.useEffect(()=>()=>cancelAnimationFrame(m.current),[]),J.createElement(uie,{ref:y})}),ZO=n=>Number.isFinite(n)?n.toPrecision(2):n.toString(),hie=O.forwardRef(function({initialValue:n},e){const[t,i]=O.useState(ZO(n));return O.useImperativeHandle(e,()=>({frame:r=>i(ZO(r))}),[]),J.createElement("div",null,t)});function QO(n){return typeof n=="function"?n():n.current}function die({label:n,objectOrFn:e,settings:t}){const i=O.useRef(),r=O.useRef(QO(e));return O.useEffect(()=>{const a=window.setInterval(()=>{var o;document.hidden||(o=i.current)===null||o===void 0||o.frame(QO(e))},t.interval);return()=>window.clearInterval(a)},[e,t.interval]),J.createElement(qs,{input:!0},J.createElement(Po,{align:"top"},n),t.graph?J.createElement(fie,{ref:i,initialValue:r.current}):J.createElement(hie,{ref:i,initialValue:r.current}))}const pie=["type","label","key"],mie={[wl.BUTTON]:rie,[wl.BUTTON_GROUP]:lie,[wl.MONITOR]:die},gie=J.memo(({path:n})=>{const[e,{set:t,setSettings:i,disable:r,storeId:a,emitOnEditStart:o,emitOnEditEnd:u}]=PJ(n);if(!e)return null;const{type:f,label:d,key:m}=e,g=ii(e,pie);if(f in wl){const y=mie[f];return J.createElement(y,Ji({label:d,path:n},g))}return f in Xh?J.createElement(nie,Ji({key:a+n,type:f,label:d,storeId:a,path:n,valueKey:m,setValue:t,setSettings:i,disable:r,emitOnEditStart:o,emitOnEditEnd:u},g)):(GQ(vi.UNSUPPORTED_INPUT,f,n),null)});function vie({toggle:n,toggled:e,name:t}){return J.createElement(xJ,{onClick:()=>n()},J.createElement(jw,{toggled:e}),J.createElement("div",null,t))}const yie=({name:n,path:e,tree:t})=>{const i=Tv(),r=Jw(e,n),{collapsed:a,color:o}=i.getFolderSettings(r),[u,f]=O.useState(!a),d=O.useRef(null),m=Au("colors","folderWidgetColor"),g=Au("colors","folderTextColor");return O.useLayoutEffect(()=>{d.current.style.setProperty("--leva-colors-folderWidgetColor",o||m),d.current.style.setProperty("--leva-colors-folderTextColor",o||g)},[o,m,g]),J.createElement(D_,{ref:d},J.createElement(vie,{name:n,toggled:u,toggle:()=>f(y=>!y)}),J.createElement(dI,{parent:r,tree:t,toggled:u}))},dI=J.memo(({isRoot:n=!1,fill:e=!1,flat:t=!1,parent:i,tree:r,toggled:a})=>{const{wrapperRef:o,contentRef:u}=sne(a),f=Tv(),d=([g,y])=>{var b;return(KO(y)?(b=f.getInput(y.path))===null||b===void 0?void 0:b.order:f.getFolderSettings(Jw(i,g)).order)||0},m=Object.entries(r).sort((g,y)=>d(g)-d(y));return J.createElement(IT,{ref:o,isRoot:n,fill:e,flat:t},J.createElement(RB,{ref:u,isRoot:n,toggled:a},m.map(([g,y])=>KO(y)?J.createElement(gie,{key:y.path,valueKey:y.valueKey,path:y.path}):J.createElement(yie,{key:g,name:g,path:i,tree:y}))))}),xie=It("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${OB}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),pI=40,U_=It("i",{$flexCenter:"",width:pI,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),bie=It("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),_ie=It("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${U_}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),Sie=It("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),Eie=It("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:pI}}}}),Mie=J.forwardRef(({setFilter:n,toggle:e},t)=>{const[i,r]=O.useState(""),a=O.useMemo(()=>vB(n,250),[n]),o=()=>{n(""),r("")},u=f=>{const d=f.currentTarget.value;e(!0),r(d)};return O.useEffect(()=>{a(i)},[i,a]),J.createElement(J.Fragment,null,J.createElement(Sie,{ref:t,value:i,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:f=>f.stopPropagation(),onChange:u}),J.createElement(U_,{onClick:()=>o(),style:{visibility:i?"visible":"hidden"}},J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function Tie({setFilter:n,onDrag:e,onDragStart:t,onDragEnd:i,toggle:r,toggled:a,title:o,drag:u,filterEnabled:f,from:d}){const[m,g]=O.useState(!1),y=O.useRef(null);O.useEffect(()=>{var _,A;m?(_=y.current)===null||_===void 0||_.focus():(A=y.current)===null||A===void 0||A.blur()},[m]);const b=Av(({offset:[_,A],first:T,last:S})=>{e({x:_,y:A}),T&&t({x:_,y:A}),S&&i({x:_,y:A})},{filterTaps:!0,from:({offset:[_,A]})=>[d?.x||_,d?.y||A]});return O.useEffect(()=>{const _=A=>{A.key==="L"&&A.shiftKey&&A.metaKey&&g(T=>!T)};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[]),J.createElement(J.Fragment,null,J.createElement(bie,{mode:u?"drag":void 0},J.createElement(U_,{active:!a,onClick:()=>r()},J.createElement(jw,{toggled:a,width:12,height:8})),J.createElement(Eie,Ji({},u?b():{},{drag:u,filterEnabled:f}),o===void 0&&u?J.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},J.createElement("circle",{cx:"2",cy:"2",r:"2"}),J.createElement("circle",{cx:"14",cy:"2",r:"2"}),J.createElement("circle",{cx:"26",cy:"2",r:"2"}),J.createElement("circle",{cx:"2",cy:"12",r:"2"}),J.createElement("circle",{cx:"14",cy:"12",r:"2"}),J.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),f&&J.createElement(U_,{active:m,onClick:()=>g(_=>!_)},J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},J.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),J.createElement(_ie,{toggled:m},J.createElement(Mie,{ref:y,setFilter:n,toggle:r})))}J.memo(({store:n,rootClass:e,fill:t=!1,flat:i=!1,neverHide:r=!1,oneLineLabels:a=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:u=!1,toggled:f,setToggle:d})=>{var m,g;const y=one(n),[b,_]=O.useState(""),A=O.useMemo(()=>eie(y,b),[y,b]),[T,S]=LB(),C=r||y.length>0,D=typeof o=="object"&&o.title||void 0,N=typeof o=="object"&&(m=o.drag)!==null&&m!==void 0?m:!0,z=typeof o=="object"&&(g=o.filter)!==null&&g!==void 0?g:!0,U=typeof o=="object"&&o.position||void 0,I=typeof o=="object"&&o.onDrag||void 0,V=typeof o=="object"&&o.onDragStart||void 0,B=typeof o=="object"&&o.onDragEnd||void 0;return J.useEffect(()=>{S({x:U?.x,y:U?.y})},[U,S]),dJ(),J.createElement(AB.Provider,{value:{hideCopyButton:u}},J.createElement(xie,{ref:T,className:e,fill:t,flat:i,oneLineLabels:a,hideTitleBar:!o,style:{display:C?"block":"none"}},o&&J.createElement(Tie,{onDrag:L=>{S(L),I?.(L)},onDragStart:L=>V?.(L),onDragEnd:L=>B?.(L),setFilter:_,toggle:L=>d(W=>L??!W),toggled:f,title:D,drag:N,filterEnabled:z,from:U}),C&&J.createElement(TB.Provider,{value:n},J.createElement(dI,{isRoot:!0,fill:t,flat:i,tree:A,toggled:f}))))});Fu(Oo.SELECT,KJ);Fu(Oo.IMAGE,Vne);Fu(Oo.NUMBER,VJ);Fu(Oo.COLOR,yne);Fu(Oo.STRING,aee);Fu(Oo.BOOLEAN,hee);Fu(Oo.INTERVAL,Yne);Fu(Oo.VECTOR3D,bne);Fu(Oo.VECTOR2D,Cne);const Aie=`varying vec2 vUv;\r
uniform float u_time;\r
varying vec3 v_normal;\r
uniform float thickness;\r
varying vec3 fragcol;\r
\r
uniform int uvMultiplier;\r
\r
float hash21(vec2 p) {\r
  bool animate = false;\r
  float animateFactor = animate ? 0.1 * sin(u_time) : 0.0;\r
\r
  return fract(sin(dot(p,  vec2(127.1, 311.7)) ) * 43758.0 + u_time);\r
}\r
\r
void main() {\r
    v_normal = normal;\r
    vUv = uv;\r
\r
    float thickness = 0.25;\r
  vec2 uv = vUv *0.5;\r
  vec3 col = vec3(0);\r
\r
  //create grid cells\r
\r
  uv += u_time * 0.025;\r
  uv *= 100.0;\r
  vec2 gv = fract(uv) - 0.5;\r
  vec2 id = floor(uv);\r
\r
  // col.rg +=id *0.05;\r
  float n = hash21(id);\r
\r
  // col.rg = gv;\r
\r
  //red grid\r
  // if(gv.x > .48  || gv.y > .48) col = vec3(1.0,0.0, 0.0);\r
\r
  if(n < 0.5) {\r
    gv.x *= -1.0;\r
  }\r
\r
\r
  // gv.x *=-1.0;\r
  float d = abs(abs(gv.x + gv.y) - 0.5);\r
  float mask = smoothstep(-0.1, 0.1, d-thickness);\r
\r
  col+= mask;\r
\r
  vec3 fragcol = col;\r
\r
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position + col * normal * .2, 1.0);\r
}`,wie=`varying vec2 vUv;\r
uniform float u_time;\r
varying vec3 v_normal;\r
uniform float thickness;\r
varying vec3 fragcol;\r
\r
float hash21(vec2 p) {\r
  bool animate = false;\r
  float animateFactor = animate ? 0.1 * sin(u_time) : 0.0;\r
\r
  return fract(sin(dot(p,  vec2(127.1, 311.7)) ) * 43758.0 + u_time);\r
}\r
\r
\r
void main() {\r
  \r
  float thickness = 0.25;\r
  vec2 uv = vUv *0.5;\r
  vec3 col = vec3(0);\r
  vec3 lightPos = vec3(2.0, 250.0, 250.0) * 0.002;\r
  float diffuseAmount = dot(lightPos, normalize(v_normal));\r
  diffuseAmount = clamp(diffuseAmount, 0.015, 1.0);\r
  diffuseAmount = pow(diffuseAmount, 0.2);\r
\r
  //create grid cells\r
\r
  uv += u_time * 0.025;\r
  uv *= 100.0;\r
  vec2 gv = fract(uv) - 0.5;\r
  vec2 id = floor(uv);\r
\r
  // col.rg +=id *0.05;\r
  float n = hash21(id);\r
\r
  // col.rg = gv;\r
\r
  //red grid\r
  // if(gv.x > .48  || gv.y > .48) col = vec3(1.0,0.0, 0.0);\r
\r
  if(n < 0.5) {\r
    gv.x *= -1.0;\r
  }\r
\r
\r
  // gv.x *=-1.0;\r
  float d = abs(abs(gv.x + gv.y) - 0.5);\r
  float mask = smoothstep(-0.1, 0.1, d-thickness);\r
\r
  col+= mask;\r
  col = clamp(col, 0.25, 1.0);\r
\r
  ///////\r
\r
  gl_FragColor = vec4(col * diffuseAmount, 1.0); \r
}\r
\r
`;function Cie({pos:n=[0,0,0]}){const e=O.useRef({value:0}),t=O.useRef({value:new Q(0,0,-5)}),{camera:i,pointer:r,raycaster:a,scene:o}=pu();return RL((u,f)=>{e.current.value+=f,a.setFromCamera(r,i);const d=a.intersectObject(o,!0);d?.length>0&&(t.current.value=d[0].point,console.log("Mouse Position:",t.current.value))}),Ye.jsxs("mesh",{position:n,children:[Ye.jsx("icosahedronGeometry",{args:[2,150]}),Ye.jsx("shaderMaterial",{args:[{vertexShader:Aie,fragmentShader:wie,uniforms:{u_time:e.current},wireframe:!1}]})]})}const Rie=({prop:n,name:e})=>Ye.jsxs("div",{children:[Ye.jsxs("h1",{children:["Hello ",n]}),Ye.jsxs("p",{children:["My name is ",e]})]});function ZT(){return Ye.jsx("div",{className:"max-w-lvw h-lvh",children:Ye.jsx(O.Suspense,{fallback:Ye.jsx(Rie,{}),children:Ye.jsxs(f9,{children:[Ye.jsx(Cie,{pos:[0,0,0]}),Ye.jsx(xK,{makeDefault:!0})]})})})}var Die=Object.defineProperty,Oie=(n,e,t)=>e in n?Die(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,wM=(n,e,t)=>(Oie(n,typeof e!="symbol"?e+"":e,t),t);let Nie=class{constructor(){wM(this,"current",this.detect()),wM(this,"handoffState","pending"),wM(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Cl=new Nie;function PS(n){var e,t;return Cl.isServer?null:n?"ownerDocument"in n?n.ownerDocument:"current"in n?(t=(e=n.current)==null?void 0:e.ownerDocument)!=null?t:document:null:document}function LS(n){typeof queueMicrotask=="function"?queueMicrotask(n):Promise.resolve().then(n).catch(e=>setTimeout(()=>{throw e}))}function Vu(){let n=[],e={addEventListener(t,i,r,a){return t.addEventListener(i,r,a),e.add(()=>t.removeEventListener(i,r,a))},requestAnimationFrame(...t){let i=requestAnimationFrame(...t);return e.add(()=>cancelAnimationFrame(i))},nextFrame(...t){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...t))},setTimeout(...t){let i=setTimeout(...t);return e.add(()=>clearTimeout(i))},microTask(...t){let i={current:!0};return LS(()=>{i.current&&t[0]()}),e.add(()=>{i.current=!1})},style(t,i,r){let a=t.style.getPropertyValue(i);return Object.assign(t.style,{[i]:r}),this.add(()=>{Object.assign(t.style,{[i]:a})})},group(t){let i=Vu();return t(i),this.add(()=>i.dispose())},add(t){return n.includes(t)||n.push(t),()=>{let i=n.indexOf(t);if(i>=0)for(let r of n.splice(i,1))r()}},dispose(){for(let t of n.splice(0))t()}};return e}function eC(){let[n]=O.useState(Vu);return O.useEffect(()=>()=>n.dispose(),[n]),n}let Jr=(n,e)=>{Cl.isServer?O.useEffect(n,e):O.useLayoutEffect(n,e)};function td(n){let e=O.useRef(n);return Jr(()=>{e.current=n},[n]),e}let Jn=function(n){let e=td(n);return J.useCallback((...t)=>e.current(...t),[e])},Pie=O.createContext(void 0);function Lie(){return O.useContext(Pie)}function QT(...n){return Array.from(new Set(n.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function zu(n,e,...t){if(n in e){let r=e[n];return typeof r=="function"?r(...t):r}let i=new Error(`Tried to handle "${n}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,zu),i}var z_=(n=>(n[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n))(z_||{}),Wc=(n=>(n[n.Unmount=0]="Unmount",n[n.Hidden=1]="Hidden",n))(Wc||{});function Ys(){let n=zie();return O.useCallback(e=>Uie({mergeRefs:n,...e}),[n])}function Uie({ourProps:n,theirProps:e,slot:t,defaultTag:i,features:r,visible:a=!0,name:o,mergeRefs:u}){u=u??Bie;let f=mI(e,n);if(a)return ub(f,t,i,o,u);let d=r??0;if(d&2){let{static:m=!1,...g}=f;if(m)return ub(g,t,i,o,u)}if(d&1){let{unmount:m=!0,...g}=f;return zu(m?0:1,{0(){return null},1(){return ub({...g,hidden:!0,style:{display:"none"}},t,i,o,u)}})}return ub(f,t,i,o,u)}function ub(n,e={},t,i,r){let{as:a=t,children:o,refName:u="ref",...f}=CM(n,["unmount","static"]),d=n.ref!==void 0?{[u]:n.ref}:{},m=typeof o=="function"?o(e):o;"className"in f&&f.className&&typeof f.className=="function"&&(f.className=f.className(e)),f["aria-labelledby"]&&f["aria-labelledby"]===f.id&&(f["aria-labelledby"]=void 0);let g={};if(e){let y=!1,b=[];for(let[_,A]of Object.entries(e))typeof A=="boolean"&&(y=!0),A===!0&&b.push(_.replace(/([A-Z])/g,T=>`-${T.toLowerCase()}`));if(y){g["data-headlessui-state"]=b.join(" ");for(let _ of b)g[`data-${_}`]=""}}if(a===O.Fragment&&(Object.keys(Th(f)).length>0||Object.keys(Th(g)).length>0))if(!O.isValidElement(m)||Array.isArray(m)&&m.length>1){if(Object.keys(Th(f)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Th(f)).concat(Object.keys(Th(g))).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`))}else{let y=m.props,b=y?.className,_=typeof b=="function"?(...S)=>QT(b(...S),f.className):QT(b,f.className),A=_?{className:_}:{},T=mI(m.props,Th(CM(f,["ref"])));for(let S in g)S in T&&delete g[S];return O.cloneElement(m,Object.assign({},T,g,d,{ref:r(Iie(m),d.ref)},A))}return O.createElement(a,Object.assign({},CM(f,["ref"]),a!==O.Fragment&&d,a!==O.Fragment&&g),m)}function zie(){let n=O.useRef([]),e=O.useCallback(t=>{for(let i of n.current)i!=null&&(typeof i=="function"?i(t):i.current=t)},[]);return(...t)=>{if(!t.every(i=>i==null))return n.current=t,e}}function Bie(...n){return n.every(e=>e==null)?void 0:e=>{for(let t of n)t!=null&&(typeof t=="function"?t(e):t.current=e)}}function mI(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let i of n)for(let r in i)r.startsWith("on")&&typeof i[r]=="function"?(t[r]!=null||(t[r]=[]),t[r].push(i[r])):e[r]=i[r];if(e.disabled||e["aria-disabled"])for(let i in t)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(i)&&(t[i]=[r=>{var a;return(a=r?.preventDefault)==null?void 0:a.call(r)}]);for(let i in t)Object.assign(e,{[i](r,...a){let o=t[i];for(let u of o){if((r instanceof Event||r?.nativeEvent instanceof Event)&&r.defaultPrevented)return;u(r,...a)}}});return e}function qa(n){var e;return Object.assign(O.forwardRef(n),{displayName:(e=n.displayName)!=null?e:n.name})}function Th(n){let e=Object.assign({},n);for(let t in e)e[t]===void 0&&delete e[t];return e}function CM(n,e=[]){let t=Object.assign({},n);for(let i of e)i in t&&delete t[i];return t}function Iie(n){return J.version.split(".")[0]>="19"?n.props.ref:n.ref}let Fie="span";var B_=(n=>(n[n.None=1]="None",n[n.Focusable=2]="Focusable",n[n.Hidden=4]="Hidden",n))(B_||{});function Vie(n,e){var t;let{features:i=1,...r}=n,a={ref:e,"aria-hidden":(i&2)===2?!0:(t=r["aria-hidden"])!=null?t:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return Ys()({ourProps:a,theirProps:r,slot:{},defaultTag:Fie,name:"Hidden"})}let JT=qa(Vie);function gI(n){return typeof n!="object"||n===null?!1:"nodeType"in n}function Zc(n){return gI(n)&&"tagName"in n}function Wh(n){return Zc(n)&&"accessKey"in n}function qc(n){return Zc(n)&&"tabIndex"in n}function Hie(n){return Zc(n)&&"style"in n}function kie(n){return Wh(n)&&n.nodeName==="IFRAME"}function Gie(n){return Wh(n)&&n.nodeName==="INPUT"}let vI=Symbol();function $ie(n,e=!0){return Object.assign(n,{[vI]:e})}function zl(...n){let e=O.useRef(n);O.useEffect(()=>{e.current=n},[n]);let t=Jn(i=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(i):r.current=i)});return n.every(i=>i==null||i?.[vI])?void 0:t}let tC=O.createContext(null);tC.displayName="DescriptionContext";function yI(){let n=O.useContext(tC);if(n===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,yI),e}return n}function jie(){let[n,e]=O.useState([]);return[n.length>0?n.join(" "):void 0,O.useMemo(()=>function(t){let i=Jn(a=>(e(o=>[...o,a]),()=>e(o=>{let u=o.slice(),f=u.indexOf(a);return f!==-1&&u.splice(f,1),u}))),r=O.useMemo(()=>({register:i,slot:t.slot,name:t.name,props:t.props,value:t.value}),[i,t.slot,t.name,t.props,t.value]);return J.createElement(tC.Provider,{value:r},t.children)},[e])]}let Xie="p";function Wie(n,e){let t=O.useId(),i=Lie(),{id:r=`headlessui-description-${t}`,...a}=n,o=yI(),u=zl(e);Jr(()=>o.register(r),[r,o.register]);let f=i||!1,d=O.useMemo(()=>({...o.slot,disabled:f}),[o.slot,f]),m={ref:u,...o.props,id:r};return Ys()({ourProps:m,theirProps:a,slot:d,defaultTag:Xie,name:o.name||"Description"})}let qie=qa(Wie),Yie=Object.assign(qie,{});var xI=(n=>(n.Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.Delete="Delete",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab",n))(xI||{});let Kie=O.createContext(()=>{});function Zie({value:n,children:e}){return J.createElement(Kie.Provider,{value:n},e)}let bI=class extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return t===void 0&&(t=this.factory(e),this.set(e,t)),t}};var Qie=Object.defineProperty,Jie=(n,e,t)=>e in n?Qie(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ere=(n,e,t)=>(Jie(n,e+"",t),t),_I=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},Fs=(n,e,t)=>(_I(n,e,"read from private field"),t?t.call(n):e.get(n)),RM=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},JO=(n,e,t,i)=>(_I(n,e,"write to private field"),e.set(n,t),t),yl,r0,a0;let tre=class{constructor(e){RM(this,yl,{}),RM(this,r0,new bI(()=>new Set)),RM(this,a0,new Set),ere(this,"disposables",Vu()),JO(this,yl,e),Cl.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Fs(this,yl)}subscribe(e,t){if(Cl.isServer)return()=>{};let i={selector:e,callback:t,current:e(Fs(this,yl))};return Fs(this,a0).add(i),this.disposables.add(()=>{Fs(this,a0).delete(i)})}on(e,t){return Cl.isServer?()=>{}:(Fs(this,r0).get(e).add(t),this.disposables.add(()=>{Fs(this,r0).get(e).delete(t)}))}send(e){let t=this.reduce(Fs(this,yl),e);if(t!==Fs(this,yl)){JO(this,yl,t);for(let i of Fs(this,a0)){let r=i.selector(Fs(this,yl));SI(i.current,r)||(i.current=r,i.callback(r))}for(let i of Fs(this,r0).get(e.type))i(Fs(this,yl),e)}}};yl=new WeakMap,r0=new WeakMap,a0=new WeakMap;function SI(n,e){return Object.is(n,e)?!0:typeof n!="object"||n===null||typeof e!="object"||e===null?!1:Array.isArray(n)&&Array.isArray(e)?n.length!==e.length?!1:DM(n[Symbol.iterator](),e[Symbol.iterator]()):n instanceof Map&&e instanceof Map||n instanceof Set&&e instanceof Set?n.size!==e.size?!1:DM(n.entries(),e.entries()):eN(n)&&eN(e)?DM(Object.entries(n)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function DM(n,e){do{let t=n.next(),i=e.next();if(t.done&&i.done)return!0;if(t.done||i.done||!Object.is(t.value,i.value))return!1}while(!0)}function eN(n){if(Object.prototype.toString.call(n)!=="[object Object]")return!1;let e=Object.getPrototypeOf(n);return e===null||Object.getPrototypeOf(e)===null}var nre=Object.defineProperty,ire=(n,e,t)=>e in n?nre(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,tN=(n,e,t)=>(ire(n,typeof e!="symbol"?e+"":e,t),t),rre=(n=>(n[n.Push=0]="Push",n[n.Pop=1]="Pop",n))(rre||{});let are={0(n,e){let t=e.id,i=n.stack,r=n.stack.indexOf(t);if(r!==-1){let a=n.stack.slice();return a.splice(r,1),a.push(t),i=a,{...n,stack:i}}return{...n,stack:[...n.stack,t]}},1(n,e){let t=e.id,i=n.stack.indexOf(t);if(i===-1)return n;let r=n.stack.slice();return r.splice(i,1),{...n,stack:r}}},sre=class EI extends tre{constructor(){super(...arguments),tN(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),tN(this,"selectors",{isTop:(e,t)=>e.stack[e.stack.length-1]===t,inStack:(e,t)=>e.stack.includes(t)})}static new(){return new EI({stack:[]})}reduce(e,t){return zu(t.type,are,e,t)}};const MI=new bI(()=>sre.new());var OM={exports:{}},NM={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nN;function ore(){if(nN)return NM;nN=1;var n=Yh();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,r=n.useRef,a=n.useEffect,o=n.useMemo,u=n.useDebugValue;return NM.useSyncExternalStoreWithSelector=function(f,d,m,g,y){var b=r(null);if(b.current===null){var _={hasValue:!1,value:null};b.current=_}else _=b.current;b=o(function(){function T(z){if(!S){if(S=!0,C=z,z=g(z),y!==void 0&&_.hasValue){var U=_.value;if(y(U,z))return D=U}return D=z}if(U=D,t(C,z))return U;var I=g(z);return y!==void 0&&y(U,I)?(C=z,U):(C=z,D=I)}var S=!1,C,D,N=m===void 0?null:m;return[function(){return T(d())},N===null?void 0:function(){return T(N())}]},[d,m,g,y]);var A=i(f,b[0],b[1]);return a(function(){_.hasValue=!0,_.value=A},[A]),u(A),A},NM}var iN;function lre(){return iN||(iN=1,OM.exports=ore()),OM.exports}var ure=lre();function TI(n,e,t=SI){return ure.useSyncExternalStoreWithSelector(Jn(i=>n.subscribe(cre,i)),Jn(()=>n.state),Jn(()=>n.state),Jn(e),t)}function cre(n){return n}function Rv(n,e){let t=O.useId(),i=MI.get(e),[r,a]=TI(i,O.useCallback(o=>[i.selectors.isTop(o,t),i.selectors.inStack(o,t)],[i,t]));return Jr(()=>{if(n)return i.actions.push(t),()=>i.actions.pop(t)},[i,n,t]),n?a?r:!0:!1}let eA=new Map,w0=new Map;function rN(n){var e;let t=(e=w0.get(n))!=null?e:0;return w0.set(n,t+1),t!==0?()=>aN(n):(eA.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0,()=>aN(n))}function aN(n){var e;let t=(e=w0.get(n))!=null?e:1;if(t===1?w0.delete(n):w0.set(n,t-1),t!==1)return;let i=eA.get(n);i&&(i["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",i["aria-hidden"]),n.inert=i.inert,eA.delete(n))}function fre(n,{allowed:e,disallowed:t}={}){let i=Rv(n,"inert-others");Jr(()=>{var r,a;if(!i)return;let o=Vu();for(let f of(r=t?.())!=null?r:[])f&&o.add(rN(f));let u=(a=e?.())!=null?a:[];for(let f of u){if(!f)continue;let d=PS(f);if(!d)continue;let m=f.parentElement;for(;m&&m!==d.body;){for(let g of m.children)u.some(y=>g.contains(y))||o.add(rN(g));m=m.parentElement}}return o.dispose},[i,e,t])}function hre(n,e,t){let i=td(r=>{let a=r.getBoundingClientRect();a.x===0&&a.y===0&&a.width===0&&a.height===0&&t()});O.useEffect(()=>{if(!n)return;let r=e===null?null:Wh(e)?e:e.current;if(!r)return;let a=Vu();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>i.current(r));o.observe(r),a.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>i.current(r));o.observe(r),a.add(()=>o.disconnect())}return()=>a.dispose()},[e,i,n])}let I_=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(n=>`${n}:not([tabindex='-1'])`).join(","),dre=["[data-autofocus]"].map(n=>`${n}:not([tabindex='-1'])`).join(",");var bu=(n=>(n[n.First=1]="First",n[n.Previous=2]="Previous",n[n.Next=4]="Next",n[n.Last=8]="Last",n[n.WrapAround=16]="WrapAround",n[n.NoScroll=32]="NoScroll",n[n.AutoFocus=64]="AutoFocus",n))(bu||{}),tA=(n=>(n[n.Error=0]="Error",n[n.Overflow=1]="Overflow",n[n.Success=2]="Success",n[n.Underflow=3]="Underflow",n))(tA||{}),pre=(n=>(n[n.Previous=-1]="Previous",n[n.Next=1]="Next",n))(pre||{});function mre(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(I_)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}function gre(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(dre)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var AI=(n=>(n[n.Strict=0]="Strict",n[n.Loose=1]="Loose",n))(AI||{});function vre(n,e=0){var t;return n===((t=PS(n))==null?void 0:t.body)?!1:zu(e,{0(){return n.matches(I_)},1(){let i=n;for(;i!==null;){if(i.matches(I_))return!0;i=i.parentElement}return!1}})}var yre=(n=>(n[n.Keyboard=0]="Keyboard",n[n.Mouse=1]="Mouse",n))(yre||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",n=>{n.metaKey||n.altKey||n.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",n=>{n.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:n.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function wu(n){n?.focus({preventScroll:!0})}let xre=["textarea","input"].join(",");function bre(n){var e,t;return(t=(e=n?.matches)==null?void 0:e.call(n,xre))!=null?t:!1}function _re(n,e=t=>t){return n.slice().sort((t,i)=>{let r=e(t),a=e(i);if(r===null||a===null)return 0;let o=r.compareDocumentPosition(a);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function C0(n,e,{sorted:t=!0,relativeTo:i=null,skipElements:r=[]}={}){let a=Array.isArray(n)?n.length>0?n[0].ownerDocument:document:n.ownerDocument,o=Array.isArray(n)?t?_re(n):n:e&64?gre(n):mre(n);r.length>0&&o.length>1&&(o=o.filter(b=>!r.some(_=>_!=null&&"current"in _?_?.current===b:_===b))),i=i??a.activeElement;let u=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(i))-1;if(e&4)return Math.max(0,o.indexOf(i))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=e&32?{preventScroll:!0}:{},m=0,g=o.length,y;do{if(m>=g||m+g<=0)return 0;let b=f+m;if(e&16)b=(b+g)%g;else{if(b<0)return 3;if(b>=g)return 1}y=o[b],y?.focus(d),m+=u}while(y!==a.activeElement);return e&6&&bre(y)&&y.select(),2}function wI(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Sre(){return/Android/gi.test(window.navigator.userAgent)}function sN(){return wI()||Sre()}function cb(n,e,t,i){let r=td(t);O.useEffect(()=>{if(!n)return;function a(o){r.current(o)}return document.addEventListener(e,a,i),()=>document.removeEventListener(e,a,i)},[n,e,i])}function CI(n,e,t,i){let r=td(t);O.useEffect(()=>{if(!n)return;function a(o){r.current(o)}return window.addEventListener(e,a,i),()=>window.removeEventListener(e,a,i)},[n,e,i])}const oN=30;function Ere(n,e,t){let i=td(t),r=O.useCallback(function(u,f){if(u.defaultPrevented)return;let d=f(u);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let m=function g(y){return typeof y=="function"?g(y()):Array.isArray(y)||y instanceof Set?y:[y]}(e);for(let g of m)if(g!==null&&(g.contains(d)||u.composed&&u.composedPath().includes(g)))return;return!vre(d,AI.Loose)&&d.tabIndex!==-1&&u.preventDefault(),i.current(u,d)},[i,e]),a=O.useRef(null);cb(n,"pointerdown",u=>{var f,d;sN()||(a.current=((d=(f=u.composedPath)==null?void 0:f.call(u))==null?void 0:d[0])||u.target)},!0),cb(n,"pointerup",u=>{if(sN()||!a.current)return;let f=a.current;return a.current=null,r(u,()=>f)},!0);let o=O.useRef({x:0,y:0});cb(n,"touchstart",u=>{o.current.x=u.touches[0].clientX,o.current.y=u.touches[0].clientY},!0),cb(n,"touchend",u=>{let f={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY};if(!(Math.abs(f.x-o.current.x)>=oN||Math.abs(f.y-o.current.y)>=oN))return r(u,()=>qc(u.target)?u.target:null)},!0),CI(n,"blur",u=>r(u,()=>kie(window.document.activeElement)?window.document.activeElement:null),!0)}function US(...n){return O.useMemo(()=>PS(...n),[...n])}function RI(n,e,t,i){let r=td(t);O.useEffect(()=>{n=n??window;function a(o){r.current(o)}return n.addEventListener(e,a,i),()=>n.removeEventListener(e,a,i)},[n,e,i])}function Mre(n){return O.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getSnapshot)}function Tre(n,e){let t=n(),i=new Set;return{getSnapshot(){return t},subscribe(r){return i.add(r),()=>i.delete(r)},dispatch(r,...a){let o=e[r].call(t,...a);o&&(t=o,i.forEach(u=>u()))}}}function Are(){let n;return{before({doc:e}){var t;let i=e.documentElement,r=(t=e.defaultView)!=null?t:window;n=Math.max(0,r.innerWidth-i.clientWidth)},after({doc:e,d:t}){let i=e.documentElement,r=Math.max(0,i.clientWidth-i.offsetWidth),a=Math.max(0,n-r);t.style(i,"paddingRight",`${a}px`)}}}function wre(){return wI()?{before({doc:n,d:e,meta:t}){function i(r){return t.containers.flatMap(a=>a()).some(a=>a.contains(r))}e.microTask(()=>{var r;if(window.getComputedStyle(n.documentElement).scrollBehavior!=="auto"){let u=Vu();u.style(n.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>u.dispose()))}let a=(r=window.scrollY)!=null?r:window.pageYOffset,o=null;e.addEventListener(n,"click",u=>{if(qc(u.target))try{let f=u.target.closest("a");if(!f)return;let{hash:d}=new URL(f.href),m=n.querySelector(d);qc(m)&&!i(m)&&(o=m)}catch{}},!0),e.addEventListener(n,"touchstart",u=>{if(qc(u.target)&&Hie(u.target))if(i(u.target)){let f=u.target;for(;f.parentElement&&i(f.parentElement);)f=f.parentElement;e.style(f,"overscrollBehavior","contain")}else e.style(u.target,"touchAction","none")}),e.addEventListener(n,"touchmove",u=>{if(qc(u.target)){if(Gie(u.target))return;if(i(u.target)){let f=u.target;for(;f.parentElement&&f.dataset.headlessuiPortal!==""&&!(f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth);)f=f.parentElement;f.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),e.add(()=>{var u;let f=(u=window.scrollY)!=null?u:window.pageYOffset;a!==f&&window.scrollTo(0,a),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function Cre(){return{before({doc:n,d:e}){e.style(n.documentElement,"overflow","hidden")}}}function Rre(n){let e={};for(let t of n)Object.assign(e,t(e));return e}let Ph=Tre(()=>new Map,{PUSH(n,e){var t;let i=(t=this.get(n))!=null?t:{doc:n,count:0,d:Vu(),meta:new Set};return i.count++,i.meta.add(e),this.set(n,i),this},POP(n,e){let t=this.get(n);return t&&(t.count--,t.meta.delete(e)),this},SCROLL_PREVENT({doc:n,d:e,meta:t}){let i={doc:n,d:e,meta:Rre(t)},r=[wre(),Are(),Cre()];r.forEach(({before:a})=>a?.(i)),r.forEach(({after:a})=>a?.(i))},SCROLL_ALLOW({d:n}){n.dispose()},TEARDOWN({doc:n}){this.delete(n)}});Ph.subscribe(()=>{let n=Ph.getSnapshot(),e=new Map;for(let[t]of n)e.set(t,t.documentElement.style.overflow);for(let t of n.values()){let i=e.get(t.doc)==="hidden",r=t.count!==0;(r&&!i||!r&&i)&&Ph.dispatch(t.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",t),t.count===0&&Ph.dispatch("TEARDOWN",t)}});function Dre(n,e,t=()=>({containers:[]})){let i=Mre(Ph),r=e?i.get(e):void 0,a=r?r.count>0:!1;return Jr(()=>{if(!(!e||!n))return Ph.dispatch("PUSH",e,t),()=>Ph.dispatch("POP",e,t)},[n,e]),a}function Ore(n,e,t=()=>[document.body]){let i=Rv(n,"scroll-lock");Dre(i,e,r=>{var a;return{containers:[...(a=r.containers)!=null?a:[],t]}})}function Nre(n=0){let[e,t]=O.useState(n),i=O.useCallback(f=>t(f),[e]),r=O.useCallback(f=>t(d=>d|f),[e]),a=O.useCallback(f=>(e&f)===f,[e]),o=O.useCallback(f=>t(d=>d&~f),[t]),u=O.useCallback(f=>t(d=>d^f),[t]);return{flags:e,setFlag:i,addFlag:r,hasFlag:a,removeFlag:o,toggleFlag:u}}var Pre={},lN,uN;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((lN=process==null?void 0:Pre)==null?void 0:lN.NODE_ENV)==="test"&&typeof((uN=Element?.prototype)==null?void 0:uN.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Lre=(n=>(n[n.None=0]="None",n[n.Closed=1]="Closed",n[n.Enter=2]="Enter",n[n.Leave=4]="Leave",n))(Lre||{});function Ure(n){let e={};for(let t in n)n[t]===!0&&(e[`data-${t}`]="");return e}function zre(n,e,t,i){let[r,a]=O.useState(t),{hasFlag:o,addFlag:u,removeFlag:f}=Nre(n&&r?3:0),d=O.useRef(!1),m=O.useRef(!1),g=eC();return Jr(()=>{var y;if(n){if(t&&a(!0),!e){t&&u(3);return}return(y=i?.start)==null||y.call(i,t),Bre(e,{inFlight:d,prepare(){m.current?m.current=!1:m.current=d.current,d.current=!0,!m.current&&(t?(u(3),f(4)):(u(4),f(2)))},run(){m.current?t?(f(3),u(4)):(f(4),u(3)):t?f(1):u(1)},done(){var b;m.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(d.current=!1,f(7),t||a(!1),(b=i?.end)==null||b.call(i,t))}})}},[n,t,e,g]),n?[r,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[t,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Bre(n,{prepare:e,run:t,done:i,inFlight:r}){let a=Vu();return Fre(n,{prepare:e,inFlight:r}),a.nextFrame(()=>{t(),a.requestAnimationFrame(()=>{a.add(Ire(n,i))})}),a.dispose}function Ire(n,e){var t,i;let r=Vu();if(!n)return r.dispose;let a=!1;r.add(()=>{a=!0});let o=(i=(t=n.getAnimations)==null?void 0:t.call(n).filter(u=>u instanceof CSSTransition))!=null?i:[];return o.length===0?(e(),r.dispose):(Promise.allSettled(o.map(u=>u.finished)).then(()=>{a||e()}),r.dispose)}function Fre(n,{inFlight:e,prepare:t}){if(e!=null&&e.current){t();return}let i=n.style.transition;n.style.transition="none",t(),n.offsetHeight,n.style.transition=i}function nC(n,e){let t=O.useRef([]),i=Jn(n);O.useEffect(()=>{let r=[...t.current];for(let[a,o]of e.entries())if(t.current[a]!==o){let u=i(e,r);return t.current=e,u}},[i,...e])}let zS=O.createContext(null);zS.displayName="OpenClosedContext";var Ro=(n=>(n[n.Open=1]="Open",n[n.Closed=2]="Closed",n[n.Closing=4]="Closing",n[n.Opening=8]="Opening",n))(Ro||{});function BS(){return O.useContext(zS)}function Vre({value:n,children:e}){return J.createElement(zS.Provider,{value:n},e)}function Hre({children:n}){return J.createElement(zS.Provider,{value:null},n)}function kre(n){function e(){document.readyState!=="loading"&&(n(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let jc=[];kre(()=>{function n(e){if(!qc(e.target)||e.target===document.body||jc[0]===e.target)return;let t=e.target;t=t.closest(I_),jc.unshift(t??e.target),jc=jc.filter(i=>i!=null&&i.isConnected),jc.splice(10)}window.addEventListener("click",n,{capture:!0}),window.addEventListener("mousedown",n,{capture:!0}),window.addEventListener("focus",n,{capture:!0}),document.body.addEventListener("click",n,{capture:!0}),document.body.addEventListener("mousedown",n,{capture:!0}),document.body.addEventListener("focus",n,{capture:!0})});function DI(n){let e=Jn(n),t=O.useRef(!1);O.useEffect(()=>(t.current=!1,()=>{t.current=!0,LS(()=>{t.current&&e()})}),[e])}function Gre(){let n=typeof document>"u";return"useSyncExternalStore"in PM?(e=>e.useSyncExternalStore)(PM)(()=>()=>{},()=>!1,()=>!n):!1}function Dv(){let n=Gre(),[e,t]=O.useState(Cl.isHandoffComplete);return e&&Cl.isHandoffComplete===!1&&t(!1),O.useEffect(()=>{e!==!0&&t(!0)},[e]),O.useEffect(()=>Cl.handoff(),[]),n?!1:e}let OI=O.createContext(!1);function $re(){return O.useContext(OI)}function cN(n){return J.createElement(OI.Provider,{value:n.force},n.children)}function jre(n){let e=$re(),t=O.useContext(PI),[i,r]=O.useState(()=>{var a;if(!e&&t!==null)return(a=t.current)!=null?a:null;if(Cl.isServer)return null;let o=n?.getElementById("headlessui-portal-root");if(o)return o;if(n===null)return null;let u=n.createElement("div");return u.setAttribute("id","headlessui-portal-root"),n.body.appendChild(u)});return O.useEffect(()=>{i!==null&&(n!=null&&n.body.contains(i)||n==null||n.body.appendChild(i))},[i,n]),O.useEffect(()=>{e||t!==null&&r(t.current)},[t,r,e]),i}let NI=O.Fragment,Xre=qa(function(n,e){let{ownerDocument:t=null,...i}=n,r=O.useRef(null),a=zl($ie(b=>{r.current=b}),e),o=US(r),u=t??o,f=jre(u),[d]=O.useState(()=>{var b;return Cl.isServer?null:(b=u?.createElement("div"))!=null?b:null}),m=O.useContext(nA),g=Dv();Jr(()=>{!f||!d||f.contains(d)||(d.setAttribute("data-headlessui-portal",""),f.appendChild(d))},[f,d]),Jr(()=>{if(d&&m)return m.register(d)},[m,d]),DI(()=>{var b;!f||!d||(gI(d)&&f.contains(d)&&f.removeChild(d),f.childNodes.length<=0&&((b=f.parentElement)==null||b.removeChild(f)))});let y=Ys();return g?!f||!d?null:gv.createPortal(y({ourProps:{ref:a},theirProps:i,slot:{},defaultTag:NI,name:"Portal"}),d):null});function Wre(n,e){let t=zl(e),{enabled:i=!0,ownerDocument:r,...a}=n,o=Ys();return i?J.createElement(Xre,{...a,ownerDocument:r,ref:t}):o({ourProps:{ref:t},theirProps:a,slot:{},defaultTag:NI,name:"Portal"})}let qre=O.Fragment,PI=O.createContext(null);function Yre(n,e){let{target:t,...i}=n,r={ref:zl(e)},a=Ys();return J.createElement(PI.Provider,{value:t},a({ourProps:r,theirProps:i,defaultTag:qre,name:"Popover.Group"}))}let nA=O.createContext(null);function Kre(){let n=O.useContext(nA),e=O.useRef([]),t=Jn(a=>(e.current.push(a),n&&n.register(a),()=>i(a))),i=Jn(a=>{let o=e.current.indexOf(a);o!==-1&&e.current.splice(o,1),n&&n.unregister(a)}),r=O.useMemo(()=>({register:t,unregister:i,portals:e}),[t,i,e]);return[e,O.useMemo(()=>function({children:a}){return J.createElement(nA.Provider,{value:r},a)},[r])]}let Zre=qa(Wre),LI=qa(Yre),Qre=Object.assign(Zre,{Group:LI});function Jre(n,e=typeof document<"u"?document.defaultView:null,t){let i=Rv(n,"escape");RI(e,"keydown",r=>{i&&(r.defaultPrevented||r.key===xI.Escape&&t(r))})}function eae(){var n;let[e]=O.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[t,i]=O.useState((n=e?.matches)!=null?n:!1);return Jr(()=>{if(!e)return;function r(a){i(a.matches)}return e.addEventListener("change",r),()=>e.removeEventListener("change",r)},[e]),t}function tae({defaultContainers:n=[],portals:e,mainTreeNode:t}={}){let i=US(t),r=Jn(()=>{var a,o;let u=[];for(let f of n)f!==null&&(Zc(f)?u.push(f):"current"in f&&Zc(f.current)&&u.push(f.current));if(e!=null&&e.current)for(let f of e.current)u.push(f);for(let f of(a=i?.querySelectorAll("html > *, body > *"))!=null?a:[])f!==document.body&&f!==document.head&&Zc(f)&&f.id!=="headlessui-portal-root"&&(t&&(f.contains(t)||f.contains((o=t?.getRootNode())==null?void 0:o.host))||u.some(d=>f.contains(d))||u.push(f));return u});return{resolveContainers:r,contains:Jn(a=>r().some(o=>o.contains(a)))}}let UI=O.createContext(null);function fN({children:n,node:e}){let[t,i]=O.useState(null),r=zI(e??t);return J.createElement(UI.Provider,{value:r},n,r===null&&J.createElement(JT,{features:B_.Hidden,ref:a=>{var o,u;if(a){for(let f of(u=(o=PS(a))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?u:[])if(f!==document.body&&f!==document.head&&Zc(f)&&f!=null&&f.contains(a)){i(f);break}}}}))}function zI(n=null){var e;return(e=O.useContext(UI))!=null?e:n}function iC(){let n=O.useRef(!1);return Jr(()=>(n.current=!0,()=>{n.current=!1}),[]),n}var s0=(n=>(n[n.Forwards=0]="Forwards",n[n.Backwards=1]="Backwards",n))(s0||{});function nae(){let n=O.useRef(0);return CI(!0,"keydown",e=>{e.key==="Tab"&&(n.current=e.shiftKey?1:0)},!0),n}function BI(n){if(!n)return new Set;if(typeof n=="function")return new Set(n());let e=new Set;for(let t of n.current)Zc(t.current)&&e.add(t.current);return e}let iae="div";var wh=(n=>(n[n.None=0]="None",n[n.InitialFocus=1]="InitialFocus",n[n.TabLock=2]="TabLock",n[n.FocusLock=4]="FocusLock",n[n.RestoreFocus=8]="RestoreFocus",n[n.AutoFocus=16]="AutoFocus",n))(wh||{});function rae(n,e){let t=O.useRef(null),i=zl(t,e),{initialFocus:r,initialFocusFallback:a,containers:o,features:u=15,...f}=n;Dv()||(u=0);let d=US(t);lae(u,{ownerDocument:d});let m=uae(u,{ownerDocument:d,container:t,initialFocus:r,initialFocusFallback:a});cae(u,{ownerDocument:d,container:t,containers:o,previousActiveElement:m});let g=nae(),y=Jn(C=>{if(!Wh(t.current))return;let D=t.current;(N=>N())(()=>{zu(g.current,{[s0.Forwards]:()=>{C0(D,bu.First,{skipElements:[C.relatedTarget,a]})},[s0.Backwards]:()=>{C0(D,bu.Last,{skipElements:[C.relatedTarget,a]})}})})}),b=Rv(!!(u&2),"focus-trap#tab-lock"),_=eC(),A=O.useRef(!1),T={ref:i,onKeyDown(C){C.key=="Tab"&&(A.current=!0,_.requestAnimationFrame(()=>{A.current=!1}))},onBlur(C){if(!(u&4))return;let D=BI(o);Wh(t.current)&&D.add(t.current);let N=C.relatedTarget;qc(N)&&N.dataset.headlessuiFocusGuard!=="true"&&(II(D,N)||(A.current?C0(t.current,zu(g.current,{[s0.Forwards]:()=>bu.Next,[s0.Backwards]:()=>bu.Previous})|bu.WrapAround,{relativeTo:C.target}):qc(C.target)&&wu(C.target)))}},S=Ys();return J.createElement(J.Fragment,null,b&&J.createElement(JT,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:B_.Focusable}),S({ourProps:T,theirProps:f,defaultTag:iae,name:"FocusTrap"}),b&&J.createElement(JT,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:B_.Focusable}))}let aae=qa(rae),sae=Object.assign(aae,{features:wh});function oae(n=!0){let e=O.useRef(jc.slice());return nC(([t],[i])=>{i===!0&&t===!1&&LS(()=>{e.current.splice(0)}),i===!1&&t===!0&&(e.current=jc.slice())},[n,jc,e]),Jn(()=>{var t;return(t=e.current.find(i=>i!=null&&i.isConnected))!=null?t:null})}function lae(n,{ownerDocument:e}){let t=!!(n&8),i=oae(t);nC(()=>{t||e?.activeElement===e?.body&&wu(i())},[t]),DI(()=>{t&&wu(i())})}function uae(n,{ownerDocument:e,container:t,initialFocus:i,initialFocusFallback:r}){let a=O.useRef(null),o=Rv(!!(n&1),"focus-trap#initial-focus"),u=iC();return nC(()=>{if(n===0)return;if(!o){r!=null&&r.current&&wu(r.current);return}let f=t.current;f&&LS(()=>{if(!u.current)return;let d=e?.activeElement;if(i!=null&&i.current){if(i?.current===d){a.current=d;return}}else if(f.contains(d)){a.current=d;return}if(i!=null&&i.current)wu(i.current);else{if(n&16){if(C0(f,bu.First|bu.AutoFocus)!==tA.Error)return}else if(C0(f,bu.First)!==tA.Error)return;if(r!=null&&r.current&&(wu(r.current),e?.activeElement===r.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}a.current=e?.activeElement})},[r,o,n]),a}function cae(n,{ownerDocument:e,container:t,containers:i,previousActiveElement:r}){let a=iC(),o=!!(n&4);RI(e?.defaultView,"focus",u=>{if(!o||!a.current)return;let f=BI(i);Wh(t.current)&&f.add(t.current);let d=r.current;if(!d)return;let m=u.target;Wh(m)?II(f,m)?(r.current=m,wu(m)):(u.preventDefault(),u.stopPropagation(),wu(d)):wu(r.current)},!0)}function II(n,e){for(let t of n)if(t.contains(e))return!0;return!1}function FI(n){var e;return!!(n.enter||n.enterFrom||n.enterTo||n.leave||n.leaveFrom||n.leaveTo)||((e=n.as)!=null?e:HI)!==O.Fragment||J.Children.count(n.children)===1}let IS=O.createContext(null);IS.displayName="TransitionContext";var fae=(n=>(n.Visible="visible",n.Hidden="hidden",n))(fae||{});function hae(){let n=O.useContext(IS);if(n===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return n}function dae(){let n=O.useContext(FS);if(n===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return n}let FS=O.createContext(null);FS.displayName="NestingContext";function VS(n){return"children"in n?VS(n.children):n.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function VI(n,e){let t=td(n),i=O.useRef([]),r=iC(),a=eC(),o=Jn((b,_=Wc.Hidden)=>{let A=i.current.findIndex(({el:T})=>T===b);A!==-1&&(zu(_,{[Wc.Unmount](){i.current.splice(A,1)},[Wc.Hidden](){i.current[A].state="hidden"}}),a.microTask(()=>{var T;!VS(i)&&r.current&&((T=t.current)==null||T.call(t))}))}),u=Jn(b=>{let _=i.current.find(({el:A})=>A===b);return _?_.state!=="visible"&&(_.state="visible"):i.current.push({el:b,state:"visible"}),()=>o(b,Wc.Unmount)}),f=O.useRef([]),d=O.useRef(Promise.resolve()),m=O.useRef({enter:[],leave:[]}),g=Jn((b,_,A)=>{f.current.splice(0),e&&(e.chains.current[_]=e.chains.current[_].filter(([T])=>T!==b)),e?.chains.current[_].push([b,new Promise(T=>{f.current.push(T)})]),e?.chains.current[_].push([b,new Promise(T=>{Promise.all(m.current[_].map(([S,C])=>C)).then(()=>T())})]),_==="enter"?d.current=d.current.then(()=>e?.wait.current).then(()=>A(_)):A(_)}),y=Jn((b,_,A)=>{Promise.all(m.current[_].splice(0).map(([T,S])=>S)).then(()=>{var T;(T=f.current.shift())==null||T()}).then(()=>A(_))});return O.useMemo(()=>({children:i,register:u,unregister:o,onStart:g,onStop:y,wait:d,chains:m}),[u,o,i,g,y,m,d])}let HI=O.Fragment,kI=z_.RenderStrategy;function pae(n,e){var t,i;let{transition:r=!0,beforeEnter:a,afterEnter:o,beforeLeave:u,afterLeave:f,enter:d,enterFrom:m,enterTo:g,entered:y,leave:b,leaveFrom:_,leaveTo:A,...T}=n,[S,C]=O.useState(null),D=O.useRef(null),N=FI(n),z=zl(...N?[D,e,C]:e===null?[]:[e]),U=(t=T.unmount)==null||t?Wc.Unmount:Wc.Hidden,{show:I,appear:V,initial:B}=hae(),[L,W]=O.useState(I?"visible":"hidden"),oe=dae(),{register:ee,unregister:he}=oe;Jr(()=>ee(D),[ee,D]),Jr(()=>{if(U===Wc.Hidden&&D.current){if(I&&L!=="visible"){W("visible");return}return zu(L,{hidden:()=>he(D),visible:()=>ee(D)})}},[L,D,ee,he,I,U]);let de=Dv();Jr(()=>{if(N&&de&&L==="visible"&&D.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[D,L,de,N]);let k=B&&!V,Y=V&&I&&B,K=O.useRef(!1),ue=VI(()=>{K.current||(W("hidden"),he(D))},oe),G=Jn(je=>{K.current=!0;let Xe=je?"enter":"leave";ue.onStart(D,Xe,gt=>{gt==="enter"?a?.():gt==="leave"&&u?.()})}),te=Jn(je=>{let Xe=je?"enter":"leave";K.current=!1,ue.onStop(D,Xe,gt=>{gt==="enter"?o?.():gt==="leave"&&f?.()}),Xe==="leave"&&!VS(ue)&&(W("hidden"),he(D))});O.useEffect(()=>{N&&r||(G(I),te(I))},[I,N,r]);let Se=!(!r||!N||!de||k),[,ye]=zre(Se,S,I,{start:G,end:te}),se=Th({ref:z,className:((i=QT(T.className,Y&&d,Y&&m,ye.enter&&d,ye.enter&&ye.closed&&m,ye.enter&&!ye.closed&&g,ye.leave&&b,ye.leave&&!ye.closed&&_,ye.leave&&ye.closed&&A,!ye.transition&&I&&y))==null?void 0:i.trim())||void 0,...Ure(ye)}),we=0;L==="visible"&&(we|=Ro.Open),L==="hidden"&&(we|=Ro.Closed),I&&L==="hidden"&&(we|=Ro.Opening),!I&&L==="visible"&&(we|=Ro.Closing);let Be=Ys();return J.createElement(FS.Provider,{value:ue},J.createElement(Vre,{value:we},Be({ourProps:se,theirProps:T,defaultTag:HI,features:kI,visible:L==="visible",name:"Transition.Child"})))}function mae(n,e){let{show:t,appear:i=!1,unmount:r=!0,...a}=n,o=O.useRef(null),u=FI(n),f=zl(...u?[o,e]:e===null?[]:[e]);Dv();let d=BS();if(t===void 0&&d!==null&&(t=(d&Ro.Open)===Ro.Open),t===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[m,g]=O.useState(t?"visible":"hidden"),y=VI(()=>{t||g("hidden")}),[b,_]=O.useState(!0),A=O.useRef([t]);Jr(()=>{b!==!1&&A.current[A.current.length-1]!==t&&(A.current.push(t),_(!1))},[A,t]);let T=O.useMemo(()=>({show:t,appear:i,initial:b}),[t,i,b]);Jr(()=>{t?g("visible"):!VS(y)&&o.current!==null&&g("hidden")},[t,y]);let S={unmount:r},C=Jn(()=>{var z;b&&_(!1),(z=n.beforeEnter)==null||z.call(n)}),D=Jn(()=>{var z;b&&_(!1),(z=n.beforeLeave)==null||z.call(n)}),N=Ys();return J.createElement(FS.Provider,{value:y},J.createElement(IS.Provider,{value:T},N({ourProps:{...S,as:O.Fragment,children:J.createElement(GI,{ref:f,...S,...a,beforeEnter:C,beforeLeave:D})},theirProps:{},defaultTag:O.Fragment,features:kI,visible:m==="visible",name:"Transition"})))}function gae(n,e){let t=O.useContext(IS)!==null,i=BS()!==null;return J.createElement(J.Fragment,null,!t&&i?J.createElement(iA,{ref:e,...n}):J.createElement(GI,{ref:e,...n}))}let iA=qa(mae),GI=qa(pae),rC=qa(gae),vae=Object.assign(iA,{Child:rC,Root:iA});var yae=(n=>(n[n.Open=0]="Open",n[n.Closed=1]="Closed",n))(yae||{}),xae=(n=>(n[n.SetTitleId=0]="SetTitleId",n))(xae||{});let bae={0(n,e){return n.titleId===e.id?n:{...n,titleId:e.id}}},aC=O.createContext(null);aC.displayName="DialogContext";function HS(n){let e=O.useContext(aC);if(e===null){let t=new Error(`<${n} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,HS),t}return e}function _ae(n,e){return zu(e.type,bae,n,e)}let hN=qa(function(n,e){let t=O.useId(),{id:i=`headlessui-dialog-${t}`,open:r,onClose:a,initialFocus:o,role:u="dialog",autoFocus:f=!0,__demoMode:d=!1,unmount:m=!1,...g}=n,y=O.useRef(!1);u=function(){return u==="dialog"||u==="alertdialog"?u:(y.current||(y.current=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let b=BS();r===void 0&&b!==null&&(r=(b&Ro.Open)===Ro.Open);let _=O.useRef(null),A=zl(_,e),T=US(_),S=r?0:1,[C,D]=O.useReducer(_ae,{titleId:null,descriptionId:null,panelRef:O.createRef()}),N=Jn(()=>a(!1)),z=Jn(ye=>D({type:0,id:ye})),U=Dv()?S===0:!1,[I,V]=Kre(),B={get current(){var ye;return(ye=C.panelRef.current)!=null?ye:_.current}},L=zI(),{resolveContainers:W}=tae({mainTreeNode:L,portals:I,defaultContainers:[B]}),oe=b!==null?(b&Ro.Closing)===Ro.Closing:!1;fre(d||oe?!1:U,{allowed:Jn(()=>{var ye,se;return[(se=(ye=_.current)==null?void 0:ye.closest("[data-headlessui-portal]"))!=null?se:null]}),disallowed:Jn(()=>{var ye;return[(ye=L?.closest("body > *:not(#headlessui-portal-root)"))!=null?ye:null]})});let ee=MI.get(null);Jr(()=>{if(U)return ee.actions.push(i),()=>ee.actions.pop(i)},[ee,i,U]);let he=TI(ee,O.useCallback(ye=>ee.selectors.isTop(ye,i),[ee,i]));Ere(he,W,ye=>{ye.preventDefault(),N()}),Jre(he,T?.defaultView,ye=>{ye.preventDefault(),ye.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),N()}),Ore(d||oe?!1:U,T,W),hre(U,_,N);let[de,k]=jie(),Y=O.useMemo(()=>[{dialogState:S,close:N,setTitleId:z,unmount:m},C],[S,C,N,z,m]),K=O.useMemo(()=>({open:S===0}),[S]),ue={ref:A,id:i,role:u,tabIndex:-1,"aria-modal":d?void 0:S===0?!0:void 0,"aria-labelledby":C.titleId,"aria-describedby":de,unmount:m},G=!eae(),te=wh.None;U&&!d&&(te|=wh.RestoreFocus,te|=wh.TabLock,f&&(te|=wh.AutoFocus),G&&(te|=wh.InitialFocus));let Se=Ys();return J.createElement(Hre,null,J.createElement(cN,{force:!0},J.createElement(Qre,null,J.createElement(aC.Provider,{value:Y},J.createElement(LI,{target:_},J.createElement(cN,{force:!1},J.createElement(k,{slot:K},J.createElement(V,null,J.createElement(sae,{initialFocus:o,initialFocusFallback:_,containers:W,features:te},J.createElement(Zie,{value:N},Se({ourProps:ue,theirProps:g,slot:K,defaultTag:Sae,features:Eae,visible:S===0,name:"Dialog"})))))))))))}),Sae="div",Eae=z_.RenderStrategy|z_.Static;function Mae(n,e){let{transition:t=!1,open:i,...r}=n,a=BS(),o=n.hasOwnProperty("open")||a!==null,u=n.hasOwnProperty("onClose");if(!o&&!u)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!u)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!a&&typeof n.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${n.open}`);if(typeof n.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${n.onClose}`);return(i!==void 0||t)&&!r.static?J.createElement(fN,null,J.createElement(vae,{show:i,transition:t,unmount:r.unmount},J.createElement(hN,{ref:e,...r}))):J.createElement(fN,null,J.createElement(hN,{ref:e,open:i,...r}))}let Tae="div";function Aae(n,e){let t=O.useId(),{id:i=`headlessui-dialog-panel-${t}`,transition:r=!1,...a}=n,[{dialogState:o,unmount:u},f]=HS("Dialog.Panel"),d=zl(e,f.panelRef),m=O.useMemo(()=>({open:o===0}),[o]),g=Jn(T=>{T.stopPropagation()}),y={ref:d,id:i,onClick:g},b=r?rC:O.Fragment,_=r?{unmount:u}:{},A=Ys();return J.createElement(b,{..._},A({ourProps:y,theirProps:a,slot:m,defaultTag:Tae,name:"Dialog.Panel"}))}let wae="div";function Cae(n,e){let{transition:t=!1,...i}=n,[{dialogState:r,unmount:a}]=HS("Dialog.Backdrop"),o=O.useMemo(()=>({open:r===0}),[r]),u={ref:e,"aria-hidden":!0},f=t?rC:O.Fragment,d=t?{unmount:a}:{},m=Ys();return J.createElement(f,{...d},m({ourProps:u,theirProps:i,slot:o,defaultTag:wae,name:"Dialog.Backdrop"}))}let Rae="h2";function Dae(n,e){let t=O.useId(),{id:i=`headlessui-dialog-title-${t}`,...r}=n,[{dialogState:a,setTitleId:o}]=HS("Dialog.Title"),u=zl(e);O.useEffect(()=>(o(i),()=>o(null)),[i,o]);let f=O.useMemo(()=>({open:a===0}),[a]),d={ref:u,id:i};return Ys()({ourProps:d,theirProps:r,slot:f,defaultTag:Rae,name:"Dialog.Title"})}let Oae=qa(Mae),rA=qa(Aae);qa(Cae);let aA=qa(Dae),dN=Object.assign(Oae,{Panel:rA,Title:aA,Description:Yie});function pN(){let[n,e]=O.useState(!1);const[t,i]=vY({threshold:1});return Ye.jsx(Sb.div,{className:"bg-gray-50 flex flex-col items-center justify-items-center min-h-screen px-4",initial:{opacity:0},animate:{opacity:100},exit:{opacity:0},children:Ye.jsx("div",{className:"flex flex-col max-w-xs items-center",children:Ye.jsxs("div",{className:"flex flex-col",children:[Ye.jsx("ul",{ref:t,className:`${i?"flex flex-row opacity-100":"flex flew-row opacity-50"} transition-all duration-1000 ease-in-out mx-auto`,children:Ye.jsx("li",{children:Ye.jsx(Vp,{className:"transition delay-50 duration-250 ease-in-out text-black rounded-3xl hover:bg-gray-50/50 bg-blend-multiply px-4 py-2",to:"/Scene1",children:Ye.jsx(BE,{title:"GLSL: Truchet Sphere",cardImg:Q2,date:"8/3",listItems:["GLSL","3D"],content:Ye.jsxs("div",{children:[Ye.jsx("button",{className:"w-full",onClick:()=>e(!0),children:"Open dialog"}),Ye.jsx(dN,{open:n,onClose:()=>e(!1),className:`${n?"bg-gray/30 relative z-50":"w-screen sm:max-w-md md:max-w-3xl px-8"} transition-all duration-1000 ease-in-out mx-auto`,children:Ye.jsx("div",{className:"fixed inset-0 flex w-screen items-center justify-center p-4",children:Ye.jsxs(rA,{className:"relative w-screen h-screen space-y-4 backdrop-blur-2xl p-12",children:[Ye.jsx(aA,{className:"z-100 absolute absolute top-1/16 left-1/2 transform -translate-x-1/2 -translate-y-1/2 font-bold",children:Ye.jsx("div",{className:" flex gap-4",children:Ye.jsx("button",{className:"inline-flex items-center justify-center border align-middle select-none font-sans font-medium text-center px-4 py-2 text-black text-sm font-medium rounded-3xl bg-white/2.5 border border-white/50 backdrop-blur-sm shadow-[inset_0_1px_0px_rgba(255,255,255,0.75),0_0_9px_rgba(0,0,0,0.2),0_3px_8px_rgba(0,0,0,0.15)] hover:bg-white/30 transition-all duration-300 before:absolute before:inset-0 before:rounded-3xl before:bg-gradient-to-br before:from-white/60 before:via-transparent before:to-transparent before:opacity-70 before:pointer-events-none after:absolute after:inset-0 after:rounded-lg after:bg-gradient-to-tl after:from-white/30 after:via-transparent after:to-transparent after:opacity-50 after:pointer-events-none transition antialiased",onClick:()=>e(!1),children:"Back"})})}),Ye.jsx(ZT,{className:"flex-1 w-screen h-screen drop-shadow-2xl"})]})})})]})})})})}),Ye.jsxs("ul",{ref:t,className:`${i?"flex flex-row opacity-100":"flex flew-row opacity-50"} transition-all duration-1000 ease-in-out mx-auto`,children:[Ye.jsx("li",{children:Ye.jsx(BE,{title:"GLSL: Truchet Sphere",cardImg:Q2,date:"8/3",listItems:["GLSL","3D"],content:Ye.jsxs("div",{children:[Ye.jsx("button",{className:"w-full",onClick:()=>e(!0),children:"Open dialog"}),Ye.jsx(dN,{open:n,onClose:()=>e(!1),className:`${n?"bg-gray/30 relative z-50":"w-screen sm:max-w-md md:max-w-3xl px-8"} transition-all duration-1000 ease-in-out mx-auto`,children:Ye.jsx("div",{className:"fixed inset-0 flex w-screen items-center justify-center p-4",children:Ye.jsxs(rA,{className:"relative w-screen h-screen space-y-4 backdrop-blur-2xl p-12",children:[Ye.jsx(aA,{className:"z-100 absolute absolute top-1/16 left-1/2 transform -translate-x-1/2 -translate-y-1/2 font-bold",children:Ye.jsx("div",{className:" flex gap-4",children:Ye.jsx("button",{className:"inline-flex items-center justify-center border align-middle select-none font-sans font-medium text-center px-4 py-2 text-black text-sm font-medium rounded-3xl bg-white/2.5 border border-white/50 backdrop-blur-sm shadow-[inset_0_1px_0px_rgba(255,255,255,0.75),0_0_9px_rgba(0,0,0,0.2),0_3px_8px_rgba(0,0,0,0.15)] hover:bg-white/30 transition-all duration-300 before:absolute before:inset-0 before:rounded-3xl before:bg-gradient-to-br before:from-white/60 before:via-transparent before:to-transparent before:opacity-70 before:pointer-events-none after:absolute after:inset-0 after:rounded-lg after:bg-gradient-to-tl after:from-white/30 after:via-transparent after:to-transparent after:opacity-50 after:pointer-events-none transition antialiased",onClick:()=>e(!1),children:"Back"})})}),Ye.jsx(ZT,{className:"flex-1 w-screen h-screen drop-shadow-2xl"})]})})})]})})}),Ye.jsx("li",{children:Ye.jsx(BE,{title:"Telechairster",cardImg:h9,listItems:["Architecture","Digital Fabrication"]})})]})]})})})}const mN="/assets/dwellci_hero-Cl6e4OYH.png";function Nae(){let[n,e]=O.useState(!1);return Ye.jsxs(Sb.div,{className:"w-full bg-gray-50 flex flex-col align-middle items-center justify-items-center min-h-screen px-4",initial:{opacity:0,scale:0},animate:{opacity:100,scale:1},exit:{opacity:0},children:[Ye.jsx(Sb.div,{className:"w-3xl h-[10] object-none",initial:{opacity:0},animate:{opacity:100,scale:1},transition:{delay:.1,duration:1},children:Ye.jsx("img",{src:mN})}),Ye.jsx(Sb.div,{className:"w-3xl h-[10] object-none",initial:{opacity:0},animate:{opacity:100,scale:1},transition:{delay:.3,duration:1},children:Ye.jsx("img",{src:mN})})]})}function Pae(){const n=cf();return Ye.jsx(BX,{children:Ye.jsxs(i$,{location:n,children:[Ye.jsx(e0,{path:"/",element:Ye.jsx(pN,{})}),Ye.jsx(e0,{path:"/Featured",element:Ye.jsx(pN,{})}),Ye.jsx(e0,{path:"/Dwellci",element:Ye.jsx(Nae,{})}),Ye.jsx(e0,{path:"/Scene1",element:Ye.jsx(ZT,{})})]},n.pathname)})}function Lae(){return Ye.jsx("div",{className:"bg-gray-50",children:Ye.jsxs(A$,{children:[Ye.jsx("div",{className:"w-full flex justify-center sticky top-2 z-20",children:Ye.jsx("nav",{className:"inline-flex items-center justify-center border align-middle select-none font-sans font-medium text-center px-4 py-4 text-black text-shadow-lg text-shadow-2xs font-medium rounded-3xl bg-white/2.5 border border-white/50 backdrop-blur-sm shadow-[inset_0_1px_0px_rgba(255,255,255,0.75),0_0_9px_rgba(0,0,0,0.2),0_3px_8px_rgba(0,0,0,0.15)] hover:bg-teal-100/30 transition-all duration-300 before:absolute before:inset-0 before:rounded-3xl before:bg-gradient-to-br before:from-white/60 before:via-transparent before:to-transparent before:opacity-70 before:pointer-events-none after:absolute after:inset-0 after:rounded-3xl after:bg-gradient-to-tl after:from-white/30 after:via-transparent after:to-transparent after:opacity-50 after:pointer-events-none transition antialiased",children:Ye.jsxs("ul",{className:"flex flex-row [&>*]:mx-5 px-2 z-20",children:[Ye.jsx("li",{children:Ye.jsx(Vp,{className:"transition delay-50 duration-250 ease-in-out text-black rounded-3xl hover:bg-gray-50/50 bg-blend-multiply px-4 py-2",to:"/"})}),Ye.jsx("li",{children:Ye.jsx(Vp,{className:"transition delay-50 duration-250 ease-in-out text-black rounded-3xl hover:bg-gray-50/50 bg-blend-multiply px-4 py-2",to:"/Featured",children:"3D Journal"})}),Ye.jsx("li",{children:Ye.jsx(Vp,{className:"transition delay-50 duration-250 ease-in-out text-black rounded-3xl hover:bg-gray-50/50 bg-blend-multiply px-4 py-2",to:"/Dwellci/#",children:"Dwellci"})})]})})}),Ye.jsx(Pae,{})]})})}I4.createRoot(document.getElementById("root")).render(Ye.jsx(O.StrictMode,{children:Ye.jsx(Lae,{})}));
